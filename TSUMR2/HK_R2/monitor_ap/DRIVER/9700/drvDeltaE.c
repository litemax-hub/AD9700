#include "Global.h"
#if ENABLE_DeltaE
#include "drvDeltaE.h"
#include "string.h"
#include "msACE.h"
#include "NVRam.h"
#include "msflash.h"
#include "Adjust.h"
#include "AutoGamma.h"
#include "drvGamma.h"
//#include "msPQ.h"
#if Enable3DLUTColorMode
#include "drv3DLUT_C.h"
#endif
#include <stddef.h>

#if (ENABLE_ACHDR_FUNCTION)
#include "drvHDR.h"
#include "drvHDRCommon.h"
#include "drvHDRPanelInfo.h"
#endif

#if (LD_ENABLE)
#include "msAPI_LD.h"
#endif
#define DeltaEVersion   "2.2.9"

#define  ENABLE_DELTAE_DEBUG  1
#if (ENABLE_DELTAE_DEBUG&&ENABLE_MSTV_UART_DEBUG)
#define LUT_printData(format, ...)  printf(format, ##__VA_ARGS__)
#define LUT_printMsg(str)               printMsg(str)
#else
#define LUT_printData(str, value)
#define LUT_printMsg(str)
#endif

extern void drvOSD_FrameColorEnable(Bool bEnable);
#define ceil(x) (((x)==(int)(x))?(x):((int)(x)+1))

short HSt = 0;
short HEd = 0;
static WORD _u16ColorTempRed = 0x400, _u16ColorTempGreen = 0x400, _u16ColorTempBlue = 0x400;
extern BYTE CurrentOutputPattern[6];
#define _maxWinNum 2
WORD _hSizeOfIP2TestPtn[_maxWinNum] = {3840};
WORD _vSizeOfIP2TestPtn[_maxWinNum] = {2160};
DWORD _addrOfAutoColorBlock = ADDR_DELTAE_BLOCK;//0x1000;
static MemoryType _memoryType = enMemoryType_EEPROM;
static Bool _bDoWP = TRUE;
static void (*s_FlashWriteByte)(Bool, DWORD, BYTE) = 0;
static void (*s_FlashWriteTbl)(Bool, DWORD, BYTE*, DWORD) = 0;

//Actual entry of post gamma fomat is 1024, this is compressed format.
StoredFormatOfPostGamma _postGamma;
StoredFormatOfDICOMGamma _DICOMGamma;
/****DeltaE calibratoion Tool Usage table Note****/
/* DeltaE Tool Version  x.xxxx 	*/
/*
Y2R matrix    (Y2R default or Disable)
       YUV domain 			   				SC0F_4C[5][4][2][0]-S/ C10_5E[5][4][2][0]-M
       RGB domain 			   				SC0F_4C[5]-S/SC10_5E[5]-M
DLC           (Disable)    	           		SC1A_08[7][6]-M/S
RGB offset    (Disable)    	           		SC0F_A6[1]-M/SC0F_A7[1]-S
Degamma       (Enable & Gma 2.2 )           SC25_02[0]-M/SC25_22[0]-S
xvYcc table   (Enable & not default table)  SC25_02[1]-M/SC25_22[1]-S
fixgamma      (Enable & Gma 0.454 )         SC25_02[2]-M/SC25_22[2]-S
RGB Hue       (Disable)    		   			SC14_02[0]-M/SC14_03[0]-S
RGB Bri       (Disable)
 	MST9U 			           				SC1C_20[7][6]-M/S
 	MST9U3          		   				SC14_02[5]-M/SC14_03[5]-S

RGB Sat       (Disable)
 	MST9U 			           				SC2B_C0[6][2]-M/S
 	MST9U3           		   				SC14_02[4]-M/SC14_03[4]-S

PreRGBoffset  (Disable)    		   			SC0F_A6[0]-M/SC0F_A7[0]-S
PreRGBGain    (Disable)   	           		SC25_02[5]-M/SC25_22[5]-S
PostGamma     (Enable & not linear table)   SC10_A0[0]-M/SC0F_30[0]-S
PostRGBoffset (Disable)    		   			SC25_02[5]-M/SC25_22[5]-S
PostRGBGain   (Disable)    		   			SC25_02[4]-M/SC25_22[4]-S
UFC           (Disable)                     SC14_E0[2][1][0]
*/


#if ENABLE_ReadColorFUNCTION_FROM_FW
const float ColorTempValue[10][2]=       //6=number of colortemp , 2 = 2 dimension for x,y
{
{0.313,0.329},
{0.283,0.297},
{0.3279,0.3435},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0}
};
#endif


code BYTE  tblGamma22[] =
{
 0x00, 0x00, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x00, 0x10, 0x10, 0x10, 0x10,
 0x10, 0x10, 0x10, 0x10, 0x0C,
 };

#if (GammaTableSize == 320)
//post-gamma : 320 entry - 10 bit (compressed format)
code BYTE *DefaultPostGamma[][3] =
{
    //  22
    {
        tblGamma22,
        tblGamma22,
        tblGamma22,
    },
};
#elif (GammaTableSize == 64)
code BYTE t22PostGamma_R[] =
{
    0x02, 0x56, 0x66, 0x55,
    0x44, 0x44, 0x44, 0x54,
    0x45, 0x35, 0x43, 0x44,
    0x44, 0x44, 0x43, 0x45,
    0x44, 0x44, 0x54, 0x44,
    0x44, 0x44, 0x45, 0x44,
    0x45, 0x45, 0x44, 0x44,
    0x54, 0x45, 0x45, 0x44,
    0x54, 0x45, 0x34, 0x44,
    0x44, 0x43, 0x44, 0x54,
    0x34, 0x43, 0x53, 0x44,
    0x34, 0x44, 0x44, 0x34,
    0x43, 0x44, 0x44, 0x35,
    0x34, 0x44, 0x44, 0x43,
    0x44, 0x44, 0x34, 0x43,
    0x34, 0x43, 0x43, 0x42,
};
code BYTE t22PostGamma_G[] =
{
    0x02, 0x46, 0x66, 0x54,
    0x44, 0x43, 0x44, 0x45,
    0x44, 0x45, 0x44, 0x44,
    0x44, 0x44, 0x43, 0x44,
    0x44, 0x54, 0x44, 0x44,
    0x44, 0x44, 0x45, 0x44,
    0x45, 0x44, 0x45, 0x44,
    0x54, 0x45, 0x44, 0x44,
    0x44, 0x44, 0x44, 0x44,
    0x34, 0x44, 0x44, 0x34,
    0x43, 0x44, 0x43, 0x44,
    0x43, 0x44, 0x44, 0x34,
    0x44, 0x43, 0x44, 0x44,
    0x34, 0x44, 0x34, 0x44,
    0x44, 0x44, 0x44, 0x44,
    0x44, 0x44, 0x54, 0x43,
};
code BYTE t22PostGamma_B[] =
{
    0x02, 0x46, 0x66, 0x55,
    0x34, 0x44, 0x44, 0x44,
    0x45, 0x44, 0x44, 0x44,
    0x44, 0x44, 0x44, 0x44,
    0x44, 0x54, 0x44, 0x44,
    0x44, 0x44, 0x44, 0x44,
    0x55, 0x44, 0x45, 0x53,
    0x54, 0x45, 0x44, 0x44,
    0x44, 0x44, 0x44, 0x44,
    0x34, 0x44, 0x44, 0x44,
    0x34, 0x43, 0x44, 0x44,
    0x43, 0x44, 0x44, 0x34,
    0x44, 0x43, 0x44, 0x34,
    0x44, 0x34, 0x44, 0x43,
    0x44, 0x44, 0x44, 0x44,
    0x44, 0x44, 0x44, 0x43,
};
code BYTE *DefaultPostGamma[][3] =
{
    //  22
    {
        t22PostGamma_R,
        t22PostGamma_G,
        t22PostGamma_B,
    },
};
#endif

#if ENABLE_ColorMode_FUNCTION

/******************************************************************************************************************************************
Input Table Type : non-compressed data ( normal )
tblFixGammasRGB_N : R or G or B color Gamma Table , 512 bytes = 256 Entry * 2bytes( 8.6 format , 14 bits)
Output Scaler Data : 8.6 format , 14 bits
******************************************************************************************************************************************/
#if XVYCC_GAMMA_EXT
code BYTE tblFixGammasRGB_N[] =
{
    0x00,0x00,0xCB,0x00,0x5A,0x01,0xC3,0x01,0x1A,0x02,0x64,0x02,0xA6,0x02,0xE2,0x02,
    0x19,0x03,0x4C,0x03,0x7C,0x03,0xA9,0x03,0xD4,0x03,0xFD,0x03,0x24,0x04,0x4A,0x04,
    0x6E,0x04,0x90,0x04,0xB2,0x04,0xD2,0x04,0xF2,0x04,0x11,0x05,0x2E,0x05,0x4B,0x05,
    0x68,0x05,0x83,0x05,0x9E,0x05,0xB8,0x05,0xD2,0x05,0xEB,0x05,0x04,0x06,0x1D,0x06,
    0x34,0x06,0x4C,0x06,0x63,0x06,0x79,0x06,0x90,0x06,0xA5,0x06,0xBB,0x06,0xD0,0x06,
    0xE5,0x06,0xFA,0x06,0x0E,0x07,0x22,0x07,0x36,0x07,0x49,0x07,0x5C,0x07,0x6F,0x07,
    0x82,0x07,0x94,0x07,0xA7,0x07,0xB9,0x07,0xCB,0x07,0xDC,0x07,0xEE,0x07,0xFF,0x07,
    0x10,0x08,0x21,0x08,0x32,0x08,0x43,0x08,0x53,0x08,0x63,0x08,0x74,0x08,0x83,0x08,
    0x93,0x08,0xA3,0x08,0xB3,0x08,0xC2,0x08,0xD1,0x08,0xE0,0x08,0xEF,0x08,0xFE,0x08,
    0x0D,0x09,0x1C,0x09,0x2A,0x09,0x39,0x09,0x47,0x09,0x55,0x09,0x63,0x09,0x71,0x09,
    0x7F,0x09,0x8D,0x09,0x9B,0x09,0xA8,0x09,0xB6,0x09,0xC3,0x09,0xD0,0x09,0xDE,0x09,
    0xEB,0x09,0xF8,0x09,0x05,0x0A,0x12,0x0A,0x1E,0x0A,0x2B,0x0A,0x38,0x0A,0x44,0x0A,
    0x51,0x0A,0x5D,0x0A,0x69,0x0A,0x76,0x0A,0x82,0x0A,0x8E,0x0A,0x9A,0x0A,0xA6,0x0A,
    0xB2,0x0A,0xBE,0x0A,0xC9,0x0A,0xD5,0x0A,0xE1,0x0A,0xEC,0x0A,0xF8,0x0A,0x03,0x0B,
    0x0F,0x0B,0x1A,0x0B,0x25,0x0B,0x31,0x0B,0x3C,0x0B,0x47,0x0B,0x52,0x0B,0x5D,0x0B,
    0x68,0x0B,0x73,0x0B,0x7E,0x0B,0x88,0x0B,0x93,0x0B,0x9E,0x0B,0xA8,0x0B,0xB3,0x0B,
    0xBE,0x0B,0xC8,0x0B,0xD2,0x0B,0xDD,0x0B,0xE7,0x0B,0xF2,0x0B,0xFC,0x0B,0x06,0x0C,
    0x10,0x0C,0x1A,0x0C,0x24,0x0C,0x2E,0x0C,0x38,0x0C,0x42,0x0C,0x4C,0x0C,0x56,0x0C,
    0x60,0x0C,0x6A,0x0C,0x74,0x0C,0x7D,0x0C,0x87,0x0C,0x91,0x0C,0x9A,0x0C,0xA4,0x0C,
    0xAD,0x0C,0xB7,0x0C,0xC0,0x0C,0xCA,0x0C,0xD3,0x0C,0xDC,0x0C,0xE6,0x0C,0xEF,0x0C,
    0xF8,0x0C,0x01,0x0D,0x0B,0x0D,0x14,0x0D,0x1D,0x0D,0x26,0x0D,0x2F,0x0D,0x38,0x0D,
    0x41,0x0D,0x4A,0x0D,0x53,0x0D,0x5C,0x0D,0x65,0x0D,0x6E,0x0D,0x76,0x0D,0x7F,0x0D,
    0x88,0x0D,0x91,0x0D,0x99,0x0D,0xA2,0x0D,0xAB,0x0D,0xB3,0x0D,0xBC,0x0D,0xC4,0x0D,
    0xCD,0x0D,0xD5,0x0D,0xDE,0x0D,0xE6,0x0D,0xEF,0x0D,0xF7,0x0D,0xFF,0x0D,0x08,0x0E,
    0x10,0x0E,0x18,0x0E,0x21,0x0E,0x29,0x0E,0x31,0x0E,0x39,0x0E,0x41,0x0E,0x49,0x0E,
    0x52,0x0E,0x5A,0x0E,0x62,0x0E,0x6A,0x0E,0x72,0x0E,0x7A,0x0E,0x82,0x0E,0x8A,0x0E,
    0x92,0x0E,0x9A,0x0E,0xA1,0x0E,0xA9,0x0E,0xB1,0x0E,0xB9,0x0E,0xC1,0x0E,0xC9,0x0E,
    0xD0,0x0E,0xD8,0x0E,0xE0,0x0E,0xE8,0x0E,0xEF,0x0E,0xF7,0x0E,0xFE,0x0E,0x06,0x0F,
    0x0E,0x0F,0x15,0x0F,0x1D,0x0F,0x24,0x0F,0x2C,0x0F,0x33,0x0F,0x3B,0x0F,0x42,0x0F,
    0x4A,0x0F,0x51,0x0F,0x59,0x0F,0x60,0x0F,0x67,0x0F,0x6F,0x0F,0x76,0x0F,0x7D,0x0F,
    0x85,0x0F,0x8C,0x0F,0x93,0x0F,0x9A,0x0F,0xA2,0x0F,0xA9,0x0F,0xB0,0x0F,0xB7,0x0F,
    0xBE,0x0F,0xC6,0x0F,0xCD,0x0F,0xD4,0x0F,0xDB,0x0F,0xE2,0x0F,0xE9,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x03,0x00,
    0x03,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x05,0x00,0x05,0x00,0x06,0x00,0x06,0x00,
    0x06,0x00,0x07,0x00,0x07,0x00,0x08,0x00,0x08,0x00,0x08,0x00,0x09,0x00,0x09,0x00,
    0x0A,0x00,0x0A,0x00,0x0A,0x00,0x0B,0x00,0x0B,0x00,0x0C,0x00,0x0C,0x00,0x0C,0x00,
    0x0D,0x00,0x10,0x00,0x13,0x00,0x17,0x00,0x1A,0x00,0x1D,0x00,0x20,0x00,0x23,0x00,
    0x27,0x00,0x2A,0x00,0x2D,0x00,0x30,0x00,0x33,0x00,0x37,0x00,0x3A,0x00,0x3D,0x00,
    0x40,0x00,0x44,0x00,0x47,0x00,0x4A,0x00,0x4D,0x00,0x50,0x00,0x54,0x00,0x57,0x00,
    0x5A,0x00,0x5D,0x00,0x61,0x00,0x64,0x00,0x67,0x00,0x81,0x00,0x9A,0x00,0xB4,0x00,
    0xCB,0x00,0xE0,0x00,0xF4,0x00,0x07,0x01,0x19,0x01,0x2A,0x01,0x3B,0x01,0x4B,0x01,
    0x5A,0x01,0x68,0x01,0x76,0x01,0x84,0x01,0x91,0x01,0x9E,0x01,0xAB,0x01,0xB7,0x01,
    0xC3,0x01,0xCE,0x01,0xD9,0x01,0xE5,0x01,0xEF,0x01,0xFA,0x01,0x04,0x02,0x0F,0x02,
};

code BYTE tblFixGamma18_N[] =
{
    0x00,0x00,0xBB,0x00,0x13,0x01,0x59,0x01,0x96,0x01,0xCB,0x01,0xFC,0x01,0x2A,0x02,
    0x54,0x02,0x7D,0x02,0xA3,0x02,0xC8,0x02,0xEB,0x02,0x0D,0x03,0x2E,0x03,0x4D,0x03,
    0x6C,0x03,0x8A,0x03,0xA8,0x03,0xC4,0x03,0xE0,0x03,0xFB,0x03,0x16,0x04,0x30,0x04,
    0x4A,0x04,0x63,0x04,0x7C,0x04,0x94,0x04,0xAC,0x04,0xC3,0x04,0xDB,0x04,0xF1,0x04,
    0x08,0x05,0x1E,0x05,0x34,0x05,0x4A,0x05,0x5F,0x05,0x74,0x05,0x89,0x05,0x9E,0x05,
    0xB2,0x05,0xC6,0x05,0xDA,0x05,0xEE,0x05,0x01,0x06,0x14,0x06,0x28,0x06,0x3B,0x06,
    0x4D,0x06,0x60,0x06,0x72,0x06,0x85,0x06,0x97,0x06,0xA9,0x06,0xBA,0x06,0xCC,0x06,
    0xDE,0x06,0xEF,0x06,0x00,0x07,0x11,0x07,0x22,0x07,0x33,0x07,0x44,0x07,0x54,0x07,
    0x65,0x07,0x75,0x07,0x86,0x07,0x96,0x07,0xA6,0x07,0xB6,0x07,0xC6,0x07,0xD5,0x07,
    0xE5,0x07,0xF4,0x07,0x04,0x08,0x13,0x08,0x23,0x08,0x32,0x08,0x41,0x08,0x50,0x08,
    0x5F,0x08,0x6E,0x08,0x7C,0x08,0x8B,0x08,0x9A,0x08,0xA8,0x08,0xB7,0x08,0xC5,0x08,
    0xD3,0x08,0xE1,0x08,0xF0,0x08,0xFE,0x08,0x0C,0x09,0x1A,0x09,0x28,0x09,0x35,0x09,
    0x43,0x09,0x51,0x09,0x5E,0x09,0x6C,0x09,0x7A,0x09,0x87,0x09,0x94,0x09,0xA2,0x09,
    0xAF,0x09,0xBC,0x09,0xC9,0x09,0xD6,0x09,0xE3,0x09,0xF0,0x09,0xFD,0x09,0x0A,0x0A,
    0x17,0x0A,0x24,0x0A,0x31,0x0A,0x3D,0x0A,0x4A,0x0A,0x57,0x0A,0x63,0x0A,0x70,0x0A,
    0x7C,0x0A,0x88,0x0A,0x95,0x0A,0xA1,0x0A,0xAD,0x0A,0xBA,0x0A,0xC6,0x0A,0xD2,0x0A,
    0xDE,0x0A,0xEA,0x0A,0xF6,0x0A,0x02,0x0B,0x0E,0x0B,0x1A,0x0B,0x26,0x0B,0x32,0x0B,
    0x3D,0x0B,0x49,0x0B,0x55,0x0B,0x60,0x0B,0x6C,0x0B,0x78,0x0B,0x83,0x0B,0x8F,0x0B,
    0x9A,0x0B,0xA6,0x0B,0xB1,0x0B,0xBC,0x0B,0xC8,0x0B,0xD3,0x0B,0xDE,0x0B,0xEA,0x0B,
    0xF5,0x0B,0x00,0x0C,0x0B,0x0C,0x16,0x0C,0x21,0x0C,0x2C,0x0C,0x37,0x0C,0x42,0x0C,
    0x4D,0x0C,0x58,0x0C,0x63,0x0C,0x6E,0x0C,0x79,0x0C,0x84,0x0C,0x8E,0x0C,0x99,0x0C,
    0xA4,0x0C,0xAE,0x0C,0xB9,0x0C,0xC4,0x0C,0xCE,0x0C,0xD9,0x0C,0xE3,0x0C,0xEE,0x0C,
    0xF8,0x0C,0x03,0x0D,0x0D,0x0D,0x18,0x0D,0x22,0x0D,0x2D,0x0D,0x37,0x0D,0x41,0x0D,
    0x4B,0x0D,0x56,0x0D,0x60,0x0D,0x6A,0x0D,0x74,0x0D,0x7F,0x0D,0x89,0x0D,0x93,0x0D,
    0x9D,0x0D,0xA7,0x0D,0xB1,0x0D,0xBB,0x0D,0xC5,0x0D,0xCF,0x0D,0xD9,0x0D,0xE3,0x0D,
    0xED,0x0D,0xF7,0x0D,0x01,0x0E,0x0A,0x0E,0x14,0x0E,0x1E,0x0E,0x28,0x0E,0x32,0x0E,
    0x3B,0x0E,0x45,0x0E,0x4F,0x0E,0x58,0x0E,0x62,0x0E,0x6C,0x0E,0x75,0x0E,0x7F,0x0E,
    0x89,0x0E,0x92,0x0E,0x9C,0x0E,0xA5,0x0E,0xAF,0x0E,0xB8,0x0E,0xC2,0x0E,0xCB,0x0E,
    0xD5,0x0E,0xDE,0x0E,0xE7,0x0E,0xF1,0x0E,0xFA,0x0E,0x03,0x0F,0x0D,0x0F,0x16,0x0F,
    0x1F,0x0F,0x29,0x0F,0x32,0x0F,0x3B,0x0F,0x44,0x0F,0x4D,0x0F,0x57,0x0F,0x60,0x0F,
    0x69,0x0F,0x72,0x0F,0x7B,0x0F,0x84,0x0F,0x8D,0x0F,0x96,0x0F,0x9F,0x0F,0xA8,0x0F,
    0xB1,0x0F,0xBA,0x0F,0xC3,0x0F,0xCC,0x0F,0xD5,0x0F,0xDE,0x0F,0xE7,0x0F,0xF0,0x0F,
    0x00,0x00,0x06,0x00,0x09,0x00,0x0B,0x00,0x0D,0x00,0x0E,0x00,0x10,0x00,0x11,0x00,
    0x13,0x00,0x14,0x00,0x15,0x00,0x16,0x00,0x17,0x00,0x18,0x00,0x19,0x00,0x1A,0x00,
    0x1B,0x00,0x1C,0x00,0x1D,0x00,0x1E,0x00,0x1F,0x00,0x20,0x00,0x21,0x00,0x21,0x00,
    0x22,0x00,0x23,0x00,0x24,0x00,0x25,0x00,0x25,0x00,0x26,0x00,0x27,0x00,0x27,0x00,
    0x28,0x00,0x2D,0x00,0x32,0x00,0x37,0x00,0x3B,0x00,0x3F,0x00,0x43,0x00,0x46,0x00,
    0x4A,0x00,0x4D,0x00,0x51,0x00,0x54,0x00,0x57,0x00,0x5A,0x00,0x5D,0x00,0x5F,0x00,
    0x62,0x00,0x65,0x00,0x68,0x00,0x6A,0x00,0x6D,0x00,0x6F,0x00,0x72,0x00,0x74,0x00,
    0x76,0x00,0x79,0x00,0x7B,0x00,0x7D,0x00,0x80,0x00,0x90,0x00,0xA0,0x00,0xAE,0x00,
    0xBB,0x00,0xC8,0x00,0xD4,0x00,0xE0,0x00,0xEB,0x00,0xF5,0x00,0x00,0x01,0x0A,0x01,
    0x13,0x01,0x1D,0x01,0x26,0x01,0x2F,0x01,0x38,0x01,0x40,0x01,0x49,0x01,0x51,0x01,
    0x59,0x01,0x61,0x01,0x69,0x01,0x70,0x01,0x78,0x01,0x7F,0x01,0x87,0x01,0x8E,0x01,
};

code BYTE tblFixGamma20_N[] =
{
    0x00,0x00,0xFF,0x00,0x69,0x01,0xBA,0x01,0xFF,0x01,0x3B,0x02,0x72,0x02,0xA4,0x02,
    0xD3,0x02,0xFE,0x02,0x28,0x03,0x4F,0x03,0x75,0x03,0x99,0x03,0xBC,0x03,0xDE,0x03,
    0xFE,0x03,0x1D,0x04,0x3C,0x04,0x5A,0x04,0x77,0x04,0x93,0x04,0xAE,0x04,0xC9,0x04,
    0xE4,0x04,0xFD,0x04,0x17,0x05,0x30,0x05,0x48,0x05,0x60,0x05,0x77,0x05,0x8F,0x05,
    0xA5,0x05,0xBC,0x05,0xD2,0x05,0xE8,0x05,0xFD,0x05,0x12,0x06,0x27,0x06,0x3C,0x06,
    0x50,0x06,0x64,0x06,0x78,0x06,0x8B,0x06,0x9F,0x06,0xB2,0x06,0xC5,0x06,0xD8,0x06,
    0xEA,0x06,0xFC,0x06,0x0F,0x07,0x21,0x07,0x32,0x07,0x44,0x07,0x56,0x07,0x67,0x07,
    0x78,0x07,0x89,0x07,0x9A,0x07,0xAB,0x07,0xBB,0x07,0xCC,0x07,0xDC,0x07,0xEC,0x07,
    0xFC,0x07,0x0C,0x08,0x1C,0x08,0x2B,0x08,0x3B,0x08,0x4A,0x08,0x5A,0x08,0x69,0x08,
    0x78,0x08,0x87,0x08,0x96,0x08,0xA5,0x08,0xB3,0x08,0xC2,0x08,0xD1,0x08,0xDF,0x08,
    0xED,0x08,0xFB,0x08,0x0A,0x09,0x18,0x09,0x26,0x09,0x34,0x09,0x41,0x09,0x4F,0x09,
    0x5D,0x09,0x6A,0x09,0x78,0x09,0x85,0x09,0x93,0x09,0xA0,0x09,0xAD,0x09,0xBA,0x09,
    0xC7,0x09,0xD4,0x09,0xE1,0x09,0xEE,0x09,0xFB,0x09,0x08,0x0A,0x14,0x0A,0x21,0x0A,
    0x2E,0x0A,0x3A,0x0A,0x47,0x0A,0x53,0x0A,0x5F,0x0A,0x6B,0x0A,0x78,0x0A,0x84,0x0A,
    0x90,0x0A,0x9C,0x0A,0xA8,0x0A,0xB4,0x0A,0xC0,0x0A,0xCC,0x0A,0xD7,0x0A,0xE3,0x0A,
    0xEF,0x0A,0xFA,0x0A,0x06,0x0B,0x12,0x0B,0x1D,0x0B,0x29,0x0B,0x34,0x0B,0x3F,0x0B,
    0x4B,0x0B,0x56,0x0B,0x61,0x0B,0x6C,0x0B,0x77,0x0B,0x83,0x0B,0x8E,0x0B,0x99,0x0B,
    0xA4,0x0B,0xAF,0x0B,0xB9,0x0B,0xC4,0x0B,0xCF,0x0B,0xDA,0x0B,0xE5,0x0B,0xEF,0x0B,
    0xFA,0x0B,0x05,0x0C,0x0F,0x0C,0x1A,0x0C,0x24,0x0C,0x2F,0x0C,0x39,0x0C,0x44,0x0C,
    0x4E,0x0C,0x58,0x0C,0x63,0x0C,0x6D,0x0C,0x77,0x0C,0x81,0x0C,0x8C,0x0C,0x96,0x0C,
    0xA0,0x0C,0xAA,0x0C,0xB4,0x0C,0xBE,0x0C,0xC8,0x0C,0xD2,0x0C,0xDC,0x0C,0xE6,0x0C,
    0xF0,0x0C,0xF9,0x0C,0x03,0x0D,0x0D,0x0D,0x17,0x0D,0x21,0x0D,0x2A,0x0D,0x34,0x0D,
    0x3E,0x0D,0x47,0x0D,0x51,0x0D,0x5A,0x0D,0x64,0x0D,0x6D,0x0D,0x77,0x0D,0x80,0x0D,
    0x8A,0x0D,0x93,0x0D,0x9D,0x0D,0xA6,0x0D,0xAF,0x0D,0xB9,0x0D,0xC2,0x0D,0xCB,0x0D,
    0xD4,0x0D,0xDE,0x0D,0xE7,0x0D,0xF0,0x0D,0xF9,0x0D,0x02,0x0E,0x0B,0x0E,0x14,0x0E,
    0x1D,0x0E,0x26,0x0E,0x2F,0x0E,0x38,0x0E,0x41,0x0E,0x4A,0x0E,0x53,0x0E,0x5C,0x0E,
    0x65,0x0E,0x6E,0x0E,0x77,0x0E,0x7F,0x0E,0x88,0x0E,0x91,0x0E,0x9A,0x0E,0xA2,0x0E,
    0xAB,0x0E,0xB4,0x0E,0xBC,0x0E,0xC5,0x0E,0xCE,0x0E,0xD6,0x0E,0xDF,0x0E,0xE7,0x0E,
    0xF0,0x0E,0xF8,0x0E,0x01,0x0F,0x09,0x0F,0x12,0x0F,0x1A,0x0F,0x23,0x0F,0x2B,0x0F,
    0x34,0x0F,0x3C,0x0F,0x44,0x0F,0x4D,0x0F,0x55,0x0F,0x5D,0x0F,0x66,0x0F,0x6E,0x0F,
    0x76,0x0F,0x7E,0x0F,0x87,0x0F,0x8F,0x0F,0x97,0x0F,0x9F,0x0F,0xA7,0x0F,0xAF,0x0F,
    0xB8,0x0F,0xC0,0x0F,0xC8,0x0F,0xD0,0x0F,0xD8,0x0F,0xE0,0x0F,0xE8,0x0F,0xF0,0x0F,
    0x00,0x00,0x0B,0x00,0x10,0x00,0x14,0x00,0x17,0x00,0x19,0x00,0x1C,0x00,0x1E,0x00,
    0x20,0x00,0x22,0x00,0x24,0x00,0x25,0x00,0x27,0x00,0x29,0x00,0x2A,0x00,0x2C,0x00,
    0x2D,0x00,0x2E,0x00,0x30,0x00,0x31,0x00,0x32,0x00,0x34,0x00,0x35,0x00,0x36,0x00,
    0x37,0x00,0x38,0x00,0x39,0x00,0x3B,0x00,0x3C,0x00,0x3D,0x00,0x3E,0x00,0x3F,0x00,
    0x40,0x00,0x47,0x00,0x4E,0x00,0x54,0x00,0x5A,0x00,0x60,0x00,0x65,0x00,0x6A,0x00,
    0x6E,0x00,0x73,0x00,0x77,0x00,0x7B,0x00,0x80,0x00,0x83,0x00,0x87,0x00,0x8B,0x00,
    0x8F,0x00,0x92,0x00,0x96,0x00,0x99,0x00,0x9C,0x00,0x9F,0x00,0xA3,0x00,0xA6,0x00,
    0xA9,0x00,0xAC,0x00,0xAF,0x00,0xB1,0x00,0xB4,0x00,0xCA,0x00,0xDD,0x00,0xEF,0x00,
    0xFF,0x00,0x0E,0x01,0x1D,0x01,0x2B,0x01,0x38,0x01,0x45,0x01,0x51,0x01,0x5D,0x01,
    0x69,0x01,0x74,0x01,0x7F,0x01,0x89,0x01,0x93,0x01,0x9D,0x01,0xA7,0x01,0xB0,0x01,
    0xBA,0x01,0xC3,0x01,0xCC,0x01,0xD4,0x01,0xDD,0x01,0xE6,0x01,0xEE,0x01,0xF6,0x01,
};

code BYTE tblFixGamma22_N[] =
{
    // Gamma 0.4545
    0x00,0x00,0x48,0x01,0xC2,0x01,0x1D,0x02,0x69,0x02,0xAB,0x02,0xE6,0x02,0x1C,0x03,
    0x4E,0x03,0x7C,0x03,0xA8,0x03,0xD2,0x03,0xF9,0x03,0x1F,0x04,0x43,0x04,0x66,0x04,
    0x87,0x04,0xA7,0x04,0xC7,0x04,0xE5,0x04,0x03,0x05,0x20,0x05,0x3C,0x05,0x57,0x05,
    0x72,0x05,0x8C,0x05,0xA5,0x05,0xBE,0x05,0xD7,0x05,0xEF,0x05,0x06,0x06,0x1E,0x06,
    0x34,0x06,0x4B,0x06,0x61,0x06,0x76,0x06,0x8C,0x06,0xA1,0x06,0xB5,0x06,0xCA,0x06,
    0xDE,0x06,0xF2,0x06,0x05,0x07,0x19,0x07,0x2C,0x07,0x3F,0x07,0x51,0x07,0x64,0x07,
    0x76,0x07,0x88,0x07,0x9A,0x07,0xAB,0x07,0xBD,0x07,0xCE,0x07,0xDF,0x07,0xF0,0x07,
    0x00,0x08,0x11,0x08,0x21,0x08,0x32,0x08,0x42,0x08,0x52,0x08,0x61,0x08,0x71,0x08,
    0x81,0x08,0x90,0x08,0x9F,0x08,0xAE,0x08,0xBD,0x08,0xCC,0x08,0xDB,0x08,0xEA,0x08,
    0xF8,0x08,0x07,0x09,0x15,0x09,0x23,0x09,0x31,0x09,0x3F,0x09,0x4D,0x09,0x5B,0x09,
    0x69,0x09,0x77,0x09,0x84,0x09,0x92,0x09,0x9F,0x09,0xAC,0x09,0xB9,0x09,0xC7,0x09,
    0xD4,0x09,0xE1,0x09,0xED,0x09,0xFA,0x09,0x07,0x0A,0x14,0x0A,0x20,0x0A,0x2D,0x0A,
    0x39,0x0A,0x45,0x0A,0x52,0x0A,0x5E,0x0A,0x6A,0x0A,0x76,0x0A,0x82,0x0A,0x8E,0x0A,
    0x9A,0x0A,0xA6,0x0A,0xB2,0x0A,0xBD,0x0A,0xC9,0x0A,0xD5,0x0A,0xE0,0x0A,0xEC,0x0A,
    0xF7,0x0A,0x02,0x0B,0x0E,0x0B,0x19,0x0B,0x24,0x0B,0x2F,0x0B,0x3A,0x0B,0x45,0x0B,
    0x50,0x0B,0x5B,0x0B,0x66,0x0B,0x71,0x0B,0x7C,0x0B,0x87,0x0B,0x91,0x0B,0x9C,0x0B,
    0xA7,0x0B,0xB1,0x0B,0xBC,0x0B,0xC6,0x0B,0xD1,0x0B,0xDB,0x0B,0xE5,0x0B,0xF0,0x0B,
    0xFA,0x0B,0x04,0x0C,0x0E,0x0C,0x19,0x0C,0x23,0x0C,0x2D,0x0C,0x37,0x0C,0x41,0x0C,
    0x4B,0x0C,0x55,0x0C,0x5E,0x0C,0x68,0x0C,0x72,0x0C,0x7C,0x0C,0x86,0x0C,0x8F,0x0C,
    0x99,0x0C,0xA3,0x0C,0xAC,0x0C,0xB6,0x0C,0xBF,0x0C,0xC9,0x0C,0xD2,0x0C,0xDC,0x0C,
    0xE5,0x0C,0xEE,0x0C,0xF8,0x0C,0x01,0x0D,0x0A,0x0D,0x14,0x0D,0x1D,0x0D,0x26,0x0D,
    0x2F,0x0D,0x38,0x0D,0x41,0x0D,0x4A,0x0D,0x53,0x0D,0x5C,0x0D,0x65,0x0D,0x6E,0x0D,
    0x77,0x0D,0x80,0x0D,0x89,0x0D,0x92,0x0D,0x9B,0x0D,0xA3,0x0D,0xAC,0x0D,0xB5,0x0D,
    0xBE,0x0D,0xC6,0x0D,0xCF,0x0D,0xD8,0x0D,0xE0,0x0D,0xE9,0x0D,0xF1,0x0D,0xFA,0x0D,
    0x02,0x0E,0x0B,0x0E,0x13,0x0E,0x1C,0x0E,0x24,0x0E,0x2C,0x0E,0x35,0x0E,0x3D,0x0E,
    0x45,0x0E,0x4E,0x0E,0x56,0x0E,0x5E,0x0E,0x66,0x0E,0x6F,0x0E,0x77,0x0E,0x7F,0x0E,
    0x87,0x0E,0x8F,0x0E,0x97,0x0E,0x9F,0x0E,0xA7,0x0E,0xB0,0x0E,0xB8,0x0E,0xC0,0x0E,
    0xC7,0x0E,0xCF,0x0E,0xD7,0x0E,0xDF,0x0E,0xE7,0x0E,0xEF,0x0E,0xF7,0x0E,0xFF,0x0E,
    0x07,0x0F,0x0E,0x0F,0x16,0x0F,0x1E,0x0F,0x26,0x0F,0x2D,0x0F,0x35,0x0F,0x3D,0x0F,
    0x44,0x0F,0x4C,0x0F,0x54,0x0F,0x5B,0x0F,0x63,0x0F,0x6A,0x0F,0x72,0x0F,0x7A,0x0F,
    0x81,0x0F,0x89,0x0F,0x90,0x0F,0x98,0x0F,0x9F,0x0F,0xA6,0x0F,0xAE,0x0F,0xB5,0x0F,
    0xBD,0x0F,0xC4,0x0F,0xCB,0x0F,0xD3,0x0F,0xDA,0x0F,0xE1,0x0F,0xE9,0x0F,0xF0,0x0F,
    0x00,0x00,0x13,0x00,0x1A,0x00,0x20,0x00,0x24,0x00,0x28,0x00,0x2B,0x00,0x2F,0x00,
    0x32,0x00,0x34,0x00,0x37,0x00,0x39,0x00,0x3C,0x00,0x3E,0x00,0x40,0x00,0x42,0x00,
    0x44,0x00,0x46,0x00,0x48,0x00,0x49,0x00,0x4B,0x00,0x4D,0x00,0x4E,0x00,0x50,0x00,
    0x52,0x00,0x53,0x00,0x55,0x00,0x56,0x00,0x58,0x00,0x59,0x00,0x5A,0x00,0x5C,0x00,
    0x5D,0x00,0x67,0x00,0x70,0x00,0x78,0x00,0x80,0x00,0x87,0x00,0x8D,0x00,0x93,0x00,
    0x99,0x00,0x9F,0x00,0xA4,0x00,0xAA,0x00,0xAF,0x00,0xB4,0x00,0xB8,0x00,0xBD,0x00,
    0xC1,0x00,0xC6,0x00,0xCA,0x00,0xCE,0x00,0xD2,0x00,0xD6,0x00,0xDA,0x00,0xDE,0x00,
    0xE1,0x00,0xE5,0x00,0xE9,0x00,0xEC,0x00,0xEF,0x00,0x09,0x01,0x20,0x01,0x35,0x01,
    0x48,0x01,0x5A,0x01,0x6B,0x01,0x7B,0x01,0x8B,0x01,0x99,0x01,0xA7,0x01,0xB5,0x01,
    0xC2,0x01,0xCE,0x01,0xDA,0x01,0xE6,0x01,0xF2,0x01,0xFD,0x01,0x08,0x02,0x12,0x02,
    0x1D,0x02,0x27,0x02,0x31,0x02,0x3A,0x02,0x44,0x02,0x4D,0x02,0x56,0x02,0x5F,0x02,
};

code BYTE tblFixGamma24_N[] =
{
    0x00,0x00,0x95,0x01,0x1C,0x02,0x80,0x02,0xD2,0x02,0x19,0x03,0x57,0x03,0x90,0x03,
    0xC4,0x03,0xF5,0x03,0x22,0x04,0x4D,0x04,0x76,0x04,0x9D,0x04,0xC2,0x04,0xE5,0x04,
    0x07,0x05,0x28,0x05,0x48,0x05,0x67,0x05,0x85,0x05,0xA2,0x05,0xBE,0x05,0xD9,0x05,
    0xF4,0x05,0x0E,0x06,0x28,0x06,0x41,0x06,0x59,0x06,0x71,0x06,0x89,0x06,0xA0,0x06,
    0xB6,0x06,0xCC,0x06,0xE2,0x06,0xF8,0x06,0x0D,0x07,0x21,0x07,0x36,0x07,0x4A,0x07,
    0x5E,0x07,0x71,0x07,0x84,0x07,0x97,0x07,0xAA,0x07,0xBC,0x07,0xCF,0x07,0xE1,0x07,
    0xF2,0x07,0x04,0x08,0x15,0x08,0x27,0x08,0x37,0x08,0x48,0x08,0x59,0x08,0x69,0x08,
    0x79,0x08,0x89,0x08,0x99,0x08,0xA9,0x08,0xB9,0x08,0xC8,0x08,0xD7,0x08,0xE7,0x08,
    0xF6,0x08,0x04,0x09,0x13,0x09,0x22,0x09,0x30,0x09,0x3F,0x09,0x4D,0x09,0x5B,0x09,
    0x69,0x09,0x77,0x09,0x85,0x09,0x92,0x09,0xA0,0x09,0xAD,0x09,0xBB,0x09,0xC8,0x09,
    0xD5,0x09,0xE2,0x09,0xEF,0x09,0xFC,0x09,0x09,0x0A,0x15,0x0A,0x22,0x0A,0x2F,0x0A,
    0x3B,0x0A,0x47,0x0A,0x54,0x0A,0x60,0x0A,0x6C,0x0A,0x78,0x0A,0x84,0x0A,0x90,0x0A,
    0x9C,0x0A,0xA7,0x0A,0xB3,0x0A,0xBF,0x0A,0xCA,0x0A,0xD6,0x0A,0xE1,0x0A,0xED,0x0A,
    0xF8,0x0A,0x03,0x0B,0x0E,0x0B,0x19,0x0B,0x24,0x0B,0x2F,0x0B,0x3A,0x0B,0x45,0x0B,
    0x50,0x0B,0x5B,0x0B,0x65,0x0B,0x70,0x0B,0x7B,0x0B,0x85,0x0B,0x90,0x0B,0x9A,0x0B,
    0xA4,0x0B,0xAF,0x0B,0xB9,0x0B,0xC3,0x0B,0xCD,0x0B,0xD7,0x0B,0xE2,0x0B,0xEC,0x0B,
    0xF6,0x0B,0xFF,0x0B,0x09,0x0C,0x13,0x0C,0x1D,0x0C,0x27,0x0C,0x31,0x0C,0x3A,0x0C,
    0x44,0x0C,0x4D,0x0C,0x57,0x0C,0x61,0x0C,0x6A,0x0C,0x73,0x0C,0x7D,0x0C,0x86,0x0C,
    0x90,0x0C,0x99,0x0C,0xA2,0x0C,0xAB,0x0C,0xB4,0x0C,0xBE,0x0C,0xC7,0x0C,0xD0,0x0C,
    0xD9,0x0C,0xE2,0x0C,0xEB,0x0C,0xF4,0x0C,0xFD,0x0C,0x05,0x0D,0x0E,0x0D,0x17,0x0D,
    0x20,0x0D,0x29,0x0D,0x31,0x0D,0x3A,0x0D,0x43,0x0D,0x4B,0x0D,0x54,0x0D,0x5C,0x0D,
    0x65,0x0D,0x6D,0x0D,0x76,0x0D,0x7E,0x0D,0x87,0x0D,0x8F,0x0D,0x97,0x0D,0xA0,0x0D,
    0xA8,0x0D,0xB0,0x0D,0xB8,0x0D,0xC1,0x0D,0xC9,0x0D,0xD1,0x0D,0xD9,0x0D,0xE1,0x0D,
    0xE9,0x0D,0xF1,0x0D,0xF9,0x0D,0x01,0x0E,0x09,0x0E,0x11,0x0E,0x19,0x0E,0x21,0x0E,
    0x29,0x0E,0x31,0x0E,0x39,0x0E,0x41,0x0E,0x48,0x0E,0x50,0x0E,0x58,0x0E,0x60,0x0E,
    0x67,0x0E,0x6F,0x0E,0x77,0x0E,0x7E,0x0E,0x86,0x0E,0x8D,0x0E,0x95,0x0E,0x9C,0x0E,
    0xA4,0x0E,0xAB,0x0E,0xB3,0x0E,0xBA,0x0E,0xC2,0x0E,0xC9,0x0E,0xD1,0x0E,0xD8,0x0E,
    0xDF,0x0E,0xE7,0x0E,0xEE,0x0E,0xF5,0x0E,0xFD,0x0E,0x04,0x0F,0x0B,0x0F,0x12,0x0F,
    0x19,0x0F,0x21,0x0F,0x28,0x0F,0x2F,0x0F,0x36,0x0F,0x3D,0x0F,0x44,0x0F,0x4B,0x0F,
    0x52,0x0F,0x59,0x0F,0x60,0x0F,0x67,0x0F,0x6E,0x0F,0x75,0x0F,0x7C,0x0F,0x83,0x0F,
    0x8A,0x0F,0x91,0x0F,0x98,0x0F,0x9F,0x0F,0xA6,0x0F,0xAD,0x0F,0xB3,0x0F,0xBA,0x0F,
    0xC1,0x0F,0xC8,0x0F,0xCE,0x0F,0xD5,0x0F,0xDC,0x0F,0xE3,0x0F,0xE9,0x0F,0xF0,0x0F,
    0x00,0x00,0x1E,0x00,0x28,0x00,0x30,0x00,0x36,0x00,0x3B,0x00,0x3F,0x00,0x44,0x00,
    0x48,0x00,0x4B,0x00,0x4F,0x00,0x52,0x00,0x55,0x00,0x58,0x00,0x5A,0x00,0x5D,0x00,
    0x60,0x00,0x62,0x00,0x64,0x00,0x67,0x00,0x69,0x00,0x6B,0x00,0x6D,0x00,0x6F,0x00,
    0x71,0x00,0x73,0x00,0x75,0x00,0x77,0x00,0x79,0x00,0x7A,0x00,0x7C,0x00,0x7E,0x00,
    0x80,0x00,0x8C,0x00,0x97,0x00,0xA1,0x00,0xAA,0x00,0xB3,0x00,0xBB,0x00,0xC2,0x00,
    0xCA,0x00,0xD0,0x00,0xD7,0x00,0xDD,0x00,0xE3,0x00,0xE9,0x00,0xEF,0x00,0xF4,0x00,
    0xF9,0x00,0xFE,0x00,0x03,0x01,0x08,0x01,0x0D,0x01,0x12,0x01,0x16,0x01,0x1B,0x01,
    0x1F,0x01,0x23,0x01,0x27,0x01,0x2B,0x01,0x2F,0x01,0x4D,0x01,0x67,0x01,0x7F,0x01,
    0x95,0x01,0xA9,0x01,0xBC,0x01,0xCE,0x01,0xDF,0x01,0xF0,0x01,0xFF,0x01,0x0E,0x02,
    0x1C,0x02,0x2A,0x02,0x38,0x02,0x44,0x02,0x51,0x02,0x5D,0x02,0x69,0x02,0x75,0x02,
    0x80,0x02,0x8B,0x02,0x95,0x02,0xA0,0x02,0xAA,0x02,0xB4,0x02,0xBE,0x02,0xC8,0x02,
};

code BYTE tblFixGamma26_N[] =
{
    0x00,0x00,0xE4,0x01,0x77,0x02,0xE2,0x02,0x39,0x03,0x83,0x03,0xC5,0x03,0x00,0x04,
    0x35,0x04,0x67,0x04,0x96,0x04,0xC2,0x04,0xEB,0x04,0x13,0x05,0x38,0x05,0x5C,0x05,
    0x7F,0x05,0xA0,0x05,0xC0,0x05,0xDF,0x05,0xFD,0x05,0x1A,0x06,0x36,0x06,0x51,0x06,
    0x6C,0x06,0x86,0x06,0x9F,0x06,0xB8,0x06,0xD0,0x06,0xE8,0x06,0xFF,0x06,0x16,0x07,
    0x2C,0x07,0x42,0x07,0x58,0x07,0x6D,0x07,0x82,0x07,0x96,0x07,0xAA,0x07,0xBE,0x07,
    0xD1,0x07,0xE4,0x07,0xF7,0x07,0x09,0x08,0x1C,0x08,0x2E,0x08,0x3F,0x08,0x51,0x08,
    0x62,0x08,0x73,0x08,0x84,0x08,0x95,0x08,0xA5,0x08,0xB6,0x08,0xC6,0x08,0xD6,0x08,
    0xE5,0x08,0xF5,0x08,0x04,0x09,0x14,0x09,0x23,0x09,0x32,0x09,0x40,0x09,0x4F,0x09,
    0x5D,0x09,0x6C,0x09,0x7A,0x09,0x88,0x09,0x96,0x09,0xA4,0x09,0xB2,0x09,0xBF,0x09,
    0xCD,0x09,0xDA,0x09,0xE7,0x09,0xF4,0x09,0x01,0x0A,0x0E,0x0A,0x1B,0x0A,0x28,0x0A,
    0x34,0x0A,0x41,0x0A,0x4D,0x0A,0x5A,0x0A,0x66,0x0A,0x72,0x0A,0x7E,0x0A,0x8A,0x0A,
    0x96,0x0A,0xA2,0x0A,0xAD,0x0A,0xB9,0x0A,0xC5,0x0A,0xD0,0x0A,0xDB,0x0A,0xE7,0x0A,
    0xF2,0x0A,0xFD,0x0A,0x08,0x0B,0x13,0x0B,0x1E,0x0B,0x29,0x0B,0x34,0x0B,0x3F,0x0B,
    0x4A,0x0B,0x54,0x0B,0x5F,0x0B,0x69,0x0B,0x74,0x0B,0x7E,0x0B,0x89,0x0B,0x93,0x0B,
    0x9D,0x0B,0xA7,0x0B,0xB2,0x0B,0xBC,0x0B,0xC6,0x0B,0xD0,0x0B,0xDA,0x0B,0xE3,0x0B,
    0xED,0x0B,0xF7,0x0B,0x01,0x0C,0x0A,0x0C,0x14,0x0C,0x1D,0x0C,0x27,0x0C,0x30,0x0C,
    0x3A,0x0C,0x43,0x0C,0x4D,0x0C,0x56,0x0C,0x5F,0x0C,0x68,0x0C,0x72,0x0C,0x7B,0x0C,
    0x84,0x0C,0x8D,0x0C,0x96,0x0C,0x9F,0x0C,0xA8,0x0C,0xB1,0x0C,0xB9,0x0C,0xC2,0x0C,
    0xCB,0x0C,0xD4,0x0C,0xDC,0x0C,0xE5,0x0C,0xEE,0x0C,0xF6,0x0C,0xFF,0x0C,0x07,0x0D,
    0x10,0x0D,0x18,0x0D,0x21,0x0D,0x29,0x0D,0x31,0x0D,0x3A,0x0D,0x42,0x0D,0x4A,0x0D,
    0x52,0x0D,0x5B,0x0D,0x63,0x0D,0x6B,0x0D,0x73,0x0D,0x7B,0x0D,0x83,0x0D,0x8B,0x0D,
    0x93,0x0D,0x9B,0x0D,0xA3,0x0D,0xAB,0x0D,0xB3,0x0D,0xBA,0x0D,0xC2,0x0D,0xCA,0x0D,
    0xD2,0x0D,0xD9,0x0D,0xE1,0x0D,0xE9,0x0D,0xF0,0x0D,0xF8,0x0D,0x00,0x0E,0x07,0x0E,
    0x0F,0x0E,0x16,0x0E,0x1E,0x0E,0x25,0x0E,0x2D,0x0E,0x34,0x0E,0x3B,0x0E,0x43,0x0E,
    0x4A,0x0E,0x51,0x0E,0x59,0x0E,0x60,0x0E,0x67,0x0E,0x6E,0x0E,0x76,0x0E,0x7D,0x0E,
    0x84,0x0E,0x8B,0x0E,0x92,0x0E,0x99,0x0E,0xA0,0x0E,0xA7,0x0E,0xAF,0x0E,0xB6,0x0E,
    0xBD,0x0E,0xC3,0x0E,0xCA,0x0E,0xD1,0x0E,0xD8,0x0E,0xDF,0x0E,0xE6,0x0E,0xED,0x0E,
    0xF4,0x0E,0xFA,0x0E,0x01,0x0F,0x08,0x0F,0x0F,0x0F,0x16,0x0F,0x1C,0x0F,0x23,0x0F,
    0x2A,0x0F,0x30,0x0F,0x37,0x0F,0x3D,0x0F,0x44,0x0F,0x4B,0x0F,0x51,0x0F,0x58,0x0F,
    0x5E,0x0F,0x65,0x0F,0x6B,0x0F,0x72,0x0F,0x78,0x0F,0x7F,0x0F,0x85,0x0F,0x8C,0x0F,
    0x92,0x0F,0x98,0x0F,0x9F,0x0F,0xA5,0x0F,0xAB,0x0F,0xB2,0x0F,0xB8,0x0F,0xBE,0x0F,
    0xC5,0x0F,0xCB,0x0F,0xD1,0x0F,0xD7,0x0F,0xDD,0x0F,0xE4,0x0F,0xEA,0x0F,0xF0,0x0F,
    0x00,0x00,0x2C,0x00,0x39,0x00,0x43,0x00,0x4B,0x00,0x52,0x00,0x57,0x00,0x5D,0x00,
    0x62,0x00,0x66,0x00,0x6A,0x00,0x6E,0x00,0x72,0x00,0x76,0x00,0x79,0x00,0x7C,0x00,
    0x80,0x00,0x83,0x00,0x85,0x00,0x88,0x00,0x8B,0x00,0x8E,0x00,0x90,0x00,0x93,0x00,
    0x95,0x00,0x97,0x00,0x9A,0x00,0x9C,0x00,0x9E,0x00,0xA0,0x00,0xA2,0x00,0xA4,0x00,
    0xA6,0x00,0xB5,0x00,0xC3,0x00,0xCE,0x00,0xD9,0x00,0xE3,0x00,0xED,0x00,0xF6,0x00,
    0xFE,0x00,0x06,0x01,0x0D,0x01,0x15,0x01,0x1C,0x01,0x22,0x01,0x29,0x01,0x2F,0x01,
    0x35,0x01,0x3B,0x01,0x41,0x01,0x46,0x01,0x4C,0x01,0x51,0x01,0x56,0x01,0x5B,0x01,
    0x60,0x01,0x65,0x01,0x69,0x01,0x6E,0x01,0x72,0x01,0x94,0x01,0xB1,0x01,0xCB,0x01,
    0xE4,0x01,0xFA,0x01,0x0F,0x02,0x23,0x02,0x35,0x02,0x47,0x02,0x58,0x02,0x68,0x02,
    0x77,0x02,0x86,0x02,0x94,0x02,0xA2,0x02,0xB0,0x02,0xBD,0x02,0xC9,0x02,0xD6,0x02,
    0xE2,0x02,0xED,0x02,0xF9,0x02,0x04,0x03,0x0F,0x03,0x19,0x03,0x24,0x03,0x2E,0x03,
};

/******************************************************************************************************************************************
Input Table Type : non-compressed data ( normal )
tblFixGammasRGB_N : R or G or B color Gamma Table , 512 bytes = 256 Entry * 2bytes( 8.8 format , 16 bits)
Output Scaler Data : 8.8 format , 16 bits
******************************************************************************************************************************************/
code BYTE tblDeGammasRGB[] =
{
    0x00,0x00,0x14,0x00,0x28,0x00,0x3C,0x00,0x50,0x00,0x63,0x00,0x77,0x00,0x8B,0x00,
    0x9E,0x00,0xB2,0x00,0xC6,0x00,0xDA,0x00,0xF0,0x00,0x07,0x01,0x1F,0x01,0x38,0x01,
    0x53,0x01,0x6E,0x01,0x8B,0x01,0xA9,0x01,0xC9,0x01,0xE9,0x01,0x0C,0x02,0x2F,0x02,
    0x54,0x02,0x7B,0x02,0xA2,0x02,0xCB,0x02,0xF6,0x02,0x22,0x03,0x50,0x03,0x7E,0x03,
    0xAF,0x03,0xE1,0x03,0x14,0x04,0x4B,0x04,0x82,0x04,0xBA,0x04,0xF1,0x04,0x2D,0x05,
    0x6B,0x05,0xA9,0x05,0xE7,0x05,0x29,0x06,0x6D,0x06,0xB2,0x06,0xF8,0x06,0x40,0x07,
    0x8A,0x07,0xD5,0x07,0x22,0x08,0x71,0x08,0xC2,0x08,0x14,0x09,0x68,0x09,0xBE,0x09,
    0x16,0x0A,0x6F,0x0A,0xCA,0x0A,0x27,0x0B,0x86,0x0B,0xE6,0x0B,0x49,0x0C,0xAD,0x0C,
    0x13,0x0D,0x7B,0x0D,0xE4,0x0D,0x50,0x0E,0xBE,0x0E,0x2D,0x0F,0x9E,0x0F,0x11,0x10,
    0x86,0x10,0xFD,0x10,0x76,0x11,0xF1,0x11,0x6E,0x12,0xED,0x12,0x6D,0x13,0xF0,0x13,
    0x75,0x14,0xFB,0x14,0x84,0x15,0x0F,0x16,0x9B,0x16,0x2A,0x17,0xBB,0x17,0x4E,0x18,
    0xE3,0x18,0x79,0x19,0x12,0x1A,0xAD,0x1A,0x4A,0x1B,0xEA,0x1B,0x8B,0x1C,0x2F,0x1D,
    0xD4,0x1D,0x7B,0x1E,0x25,0x1F,0xD1,0x1F,0x7F,0x20,0x2F,0x21,0xE2,0x21,0x96,0x22,
    0x4D,0x23,0x06,0x24,0xC1,0x24,0x7E,0x25,0x3D,0x26,0xFF,0x26,0xC3,0x27,0x89,0x28,
    0x51,0x29,0x1C,0x2A,0xE9,0x2A,0xB8,0x2B,0x89,0x2C,0x5D,0x2D,0x32,0x2E,0x0B,0x2F,
    0xE5,0x2F,0xC2,0x30,0xA1,0x31,0x82,0x32,0x66,0x33,0x4C,0x34,0x34,0x35,0x1E,0x36,
    0x0B,0x37,0xFB,0x37,0xEC,0x38,0xE0,0x39,0xD7,0x3A,0xCF,0x3B,0xCB,0x3C,0xC8,0x3D,
    0xC8,0x3E,0xCA,0x3F,0xCF,0x40,0xD6,0x41,0xE0,0x42,0xEC,0x43,0xFA,0x44,0x0B,0x46,
    0x1E,0x47,0x34,0x48,0x4C,0x49,0x67,0x4A,0x84,0x4B,0xA3,0x4C,0xC6,0x4D,0xEA,0x4E,
    0x11,0x50,0x3B,0x51,0x67,0x52,0x95,0x53,0xC6,0x54,0xFA,0x55,0x30,0x57,0x69,0x58,
    0xA4,0x59,0xE2,0x5A,0x22,0x5C,0x65,0x5D,0xAA,0x5E,0xF2,0x5F,0x3D,0x61,0x8A,0x62,
    0xDA,0x63,0x2C,0x65,0x81,0x66,0xD9,0x67,0x33,0x69,0x90,0x6A,0xEF,0x6B,0x51,0x6D,
    0xB6,0x6E,0x1D,0x70,0x87,0x71,0xF3,0x72,0x63,0x74,0xD4,0x75,0x49,0x77,0xC0,0x78,
    0x3A,0x7A,0xB7,0x7B,0x36,0x7D,0xB8,0x7E,0x3C,0x80,0xC4,0x81,0x4E,0x83,0xDB,0x84,
    0x6A,0x86,0xFC,0x87,0x91,0x89,0x29,0x8B,0xC3,0x8C,0x60,0x8E,0x00,0x90,0xA3,0x91,
    0x48,0x93,0xF1,0x94,0x9C,0x96,0x49,0x98,0xFA,0x99,0xAD,0x9B,0x63,0x9D,0x1C,0x9F,
    0xD8,0xA0,0x96,0xA2,0x58,0xA4,0x1C,0xA6,0xE3,0xA7,0xAC,0xA9,0x79,0xAB,0x49,0xAD,
    0x1B,0xAF,0xF0,0xB0,0xC8,0xB2,0xA3,0xB4,0x80,0xB6,0x61,0xB8,0x44,0xBA,0x2B,0xBC,
    0x14,0xBE,0x00,0xC0,0xEF,0xC1,0xE1,0xC3,0xD6,0xC5,0xCD,0xC7,0xC8,0xC9,0xC5,0xCB,
    0xC6,0xCD,0xC9,0xCF,0xCF,0xD1,0xD9,0xD3,0xE5,0xD5,0xF4,0xD7,0x06,0xDA,0x1B,0xDC,
    0x33,0xDE,0x4E,0xE0,0x6C,0xE2,0x8C,0xE4,0xB0,0xE6,0xD7,0xE8,0x01,0xEB,0x2E,0xED,
    0x5D,0xEF,0x90,0xF1,0xC6,0xF3,0xFF,0xF5,0x3B,0xF8,0x79,0xFA,0xBB,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma18[] =
{
    0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x20,0x00,0x30,0x00,0x40,0x00,0x60,0x00,
    0x80,0x00,0x90,0x00,0xC0,0x00,0xE0,0x00,0x00,0x01,0x30,0x01,0x60,0x01,0x80,0x01,
    0xB0,0x01,0xF0,0x01,0x20,0x02,0x60,0x02,0x90,0x02,0xD0,0x02,0x10,0x03,0x50,0x03,
    0xA0,0x03,0xE0,0x03,0x20,0x04,0x70,0x04,0xC0,0x04,0x10,0x05,0x60,0x05,0xB0,0x05,
    0x10,0x06,0x60,0x06,0xC0,0x06,0x20,0x07,0x80,0x07,0xE0,0x07,0x40,0x08,0xA0,0x08,
    0x10,0x09,0x80,0x09,0xE0,0x09,0x50,0x0A,0xC0,0x0A,0x30,0x0B,0xB0,0x0B,0x20,0x0C,
    0x90,0x0C,0x10,0x0D,0x90,0x0D,0x10,0x0E,0x90,0x0E,0x10,0x0F,0x90,0x0F,0x10,0x10,
    0xA0,0x10,0x30,0x11,0xB0,0x11,0x40,0x12,0xD0,0x12,0x60,0x13,0x00,0x14,0x90,0x14,
    0x20,0x15,0xC0,0x15,0x60,0x16,0x00,0x17,0x90,0x17,0x40,0x18,0xE0,0x18,0x80,0x19,
    0x20,0x1A,0xD0,0x1A,0x80,0x1B,0x20,0x1C,0xD0,0x1C,0x80,0x1D,0x30,0x1E,0xF0,0x1E,
    0xA0,0x1F,0x50,0x20,0x10,0x21,0xD0,0x21,0x80,0x22,0x40,0x23,0x00,0x24,0xC0,0x24,
    0x90,0x25,0x50,0x26,0x10,0x27,0xE0,0x27,0xB0,0x28,0x80,0x29,0x40,0x2A,0x10,0x2B,
    0xF0,0x2B,0xC0,0x2C,0x90,0x2D,0x70,0x2E,0x40,0x2F,0x20,0x30,0x00,0x31,0xE0,0x31,
    0xC0,0x32,0xA0,0x33,0x80,0x34,0x60,0x35,0x50,0x36,0x30,0x37,0x20,0x38,0x10,0x39,
    0xF0,0x39,0xE0,0x3A,0xD0,0x3B,0xD0,0x3C,0xC0,0x3D,0xB0,0x3E,0xB0,0x3F,0xA0,0x40,
    0xA0,0x41,0xA0,0x42,0xA0,0x43,0xA0,0x44,0xA0,0x45,0xA0,0x46,0xB0,0x47,0xB0,0x48,
    0xB0,0x49,0xC0,0x4A,0xD0,0x4B,0xE0,0x4C,0xF0,0x4D,0x00,0x4F,0x10,0x50,0x20,0x51,
    0x40,0x52,0x50,0x53,0x70,0x54,0x80,0x55,0xA0,0x56,0xC0,0x57,0xE0,0x58,0x00,0x5A,
    0x20,0x5B,0x40,0x5C,0x70,0x5D,0x90,0x5E,0xC0,0x5F,0xF0,0x60,0x10,0x62,0x40,0x63,
    0x70,0x64,0xA0,0x65,0xE0,0x66,0x10,0x68,0x40,0x69,0x80,0x6A,0xB0,0x6B,0xF0,0x6C,
    0x30,0x6E,0x70,0x6F,0xB0,0x70,0xF0,0x71,0x30,0x73,0x70,0x74,0xC0,0x75,0x00,0x77,
    0x50,0x78,0x90,0x79,0xE0,0x7A,0x30,0x7C,0x80,0x7D,0xD0,0x7E,0x20,0x80,0x70,0x81,
    0xD0,0x82,0x20,0x84,0x80,0x85,0xD0,0x86,0x30,0x88,0x90,0x89,0xF0,0x8A,0x50,0x8C,
    0xB0,0x8D,0x10,0x8F,0x80,0x90,0xE0,0x91,0x50,0x93,0xB0,0x94,0x20,0x96,0x90,0x97,
    0x00,0x99,0x70,0x9A,0xE0,0x9B,0x50,0x9D,0xC0,0x9E,0x40,0xA0,0xB0,0xA1,0x30,0xA3,
    0xA0,0xA4,0x20,0xA6,0xA0,0xA7,0x20,0xA9,0xA0,0xAA,0x20,0xAC,0xA0,0xAD,0x30,0xAF,
    0xB0,0xB0,0x40,0xB2,0xC0,0xB3,0x50,0xB5,0xE0,0xB6,0x70,0xB8,0x00,0xBA,0x90,0xBB,
    0x20,0xBD,0xB0,0xBE,0x40,0xC0,0xE0,0xC1,0x70,0xC3,0x10,0xC5,0xB0,0xC6,0x50,0xC8,
    0xF0,0xC9,0x90,0xCB,0x30,0xCD,0xD0,0xCE,0x70,0xD0,0x10,0xD2,0xC0,0xD3,0x70,0xD5,
    0x10,0xD7,0xC0,0xD8,0x70,0xDA,0x20,0xDC,0xD0,0xDD,0x80,0xDF,0x30,0xE1,0xE0,0xE2,
    0xA0,0xE4,0x50,0xE6,0x10,0xE8,0xC0,0xE9,0x80,0xEB,0x40,0xED,0x00,0xEF,0xC0,0xF0,
    0x80,0xF2,0x40,0xF4,0x10,0xF6,0xD0,0xF7,0xA0,0xF9,0x60,0xFB,0x30,0xFD,0x00,0xFF,
};

code BYTE tblDeGamma20[] =
{
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x10,0x00,0x20,0x00,0x30,0x00,
    0x40,0x00,0x50,0x00,0x60,0x00,0x70,0x00,0x90,0x00,0xA0,0x00,0xC0,0x00,0xE0,0x00,
    0x00,0x01,0x20,0x01,0x40,0x01,0x60,0x01,0x90,0x01,0xB0,0x01,0xE0,0x01,0x10,0x02,
    0x40,0x02,0x70,0x02,0xA0,0x02,0xD0,0x02,0x10,0x03,0x40,0x03,0x80,0x03,0xC0,0x03,
    0x00,0x04,0x40,0x04,0x80,0x04,0xC0,0x04,0x10,0x05,0x60,0x05,0xA0,0x05,0xF0,0x05,
    0x40,0x06,0x90,0x06,0xE0,0x06,0x40,0x07,0x90,0x07,0xF0,0x07,0x40,0x08,0xA0,0x08,
    0x00,0x09,0x60,0x09,0xC0,0x09,0x30,0x0A,0x90,0x0A,0x00,0x0B,0x70,0x0B,0xD0,0x0B,
    0x40,0x0C,0xB0,0x0C,0x30,0x0D,0xA0,0x0D,0x10,0x0E,0x90,0x0E,0x10,0x0F,0x90,0x0F,
    0x10,0x10,0x90,0x10,0x10,0x11,0x90,0x11,0x20,0x12,0xA0,0x12,0x30,0x13,0xC0,0x13,
    0x50,0x14,0xE0,0x14,0x70,0x15,0x00,0x16,0xA0,0x16,0x40,0x17,0xD0,0x17,0x70,0x18,
    0x10,0x19,0xB0,0x19,0x50,0x1A,0x00,0x1B,0xA0,0x1B,0x50,0x1C,0x00,0x1D,0xA0,0x1D,
    0x50,0x1E,0x10,0x1F,0xC0,0x1F,0x70,0x20,0x30,0x21,0xE0,0x21,0xA0,0x22,0x60,0x23,
    0x20,0x24,0xE0,0x24,0xA0,0x25,0x60,0x26,0x30,0x27,0x00,0x28,0xC0,0x28,0x90,0x29,
    0x60,0x2A,0x30,0x2B,0x10,0x2C,0xE0,0x2C,0xB0,0x2D,0x90,0x2E,0x70,0x2F,0x50,0x30,
    0x30,0x31,0x10,0x32,0xF0,0x32,0xD0,0x33,0xC0,0x34,0xA0,0x35,0x90,0x36,0x80,0x37,
    0x70,0x38,0x60,0x39,0x50,0x3A,0x50,0x3B,0x40,0x3C,0x40,0x3D,0x40,0x3E,0x40,0x3F,
    0x40,0x40,0x40,0x41,0x40,0x42,0x40,0x43,0x50,0x44,0x50,0x45,0x60,0x46,0x70,0x47,
    0x80,0x48,0x90,0x49,0xA0,0x4A,0xC0,0x4B,0xD0,0x4C,0xF0,0x4D,0x10,0x4F,0x30,0x50,
    0x50,0x51,0x70,0x52,0x90,0x53,0xB0,0x54,0xE0,0x55,0x10,0x57,0x30,0x58,0x60,0x59,
    0x90,0x5A,0xC0,0x5B,0x00,0x5D,0x30,0x5E,0x60,0x5F,0xA0,0x60,0xE0,0x61,0x20,0x63,
    0x60,0x64,0xA0,0x65,0xE0,0x66,0x30,0x68,0x70,0x69,0xC0,0x6A,0x10,0x6C,0x50,0x6D,
    0xA0,0x6E,0x00,0x70,0x50,0x71,0xA0,0x72,0x00,0x74,0x50,0x75,0xB0,0x76,0x10,0x78,
    0x70,0x79,0xD0,0x7A,0x40,0x7C,0xA0,0x7D,0x00,0x7F,0x70,0x80,0xE0,0x81,0x50,0x83,
    0xC0,0x84,0x30,0x86,0xA0,0x87,0x20,0x89,0x90,0x8A,0x10,0x8C,0x90,0x8D,0x10,0x8F,
    0x90,0x90,0x10,0x92,0x90,0x93,0x10,0x95,0xA0,0x96,0x30,0x98,0xB0,0x99,0x40,0x9B,
    0xD0,0x9C,0x60,0x9E,0x00,0xA0,0x90,0xA1,0x30,0xA3,0xC0,0xA4,0x60,0xA6,0x00,0xA8,
    0xA0,0xA9,0x40,0xAB,0xF0,0xAC,0x90,0xAE,0x40,0xB0,0xE0,0xB1,0x90,0xB3,0x40,0xB5,
    0xF0,0xB6,0xA0,0xB8,0x50,0xBA,0x10,0xBC,0xC0,0xBD,0x80,0xBF,0x40,0xC1,0x00,0xC3,
    0xC0,0xC4,0x80,0xC6,0x40,0xC8,0x10,0xCA,0xD0,0xCB,0xA0,0xCD,0x70,0xCF,0x40,0xD1,
    0x10,0xD3,0xE0,0xD4,0xB0,0xD6,0x90,0xD8,0x60,0xDA,0x40,0xDC,0x20,0xDE,0x00,0xE0,
    0xE0,0xE1,0xC0,0xE3,0xA0,0xE5,0x90,0xE7,0x70,0xE9,0x60,0xEB,0x50,0xED,0x40,0xEF,
    0x30,0xF1,0x20,0xF3,0x10,0xF5,0x10,0xF7,0x00,0xF9,0x00,0xFB,0x00,0xFD,0x00,0xFF,
};
code BYTE tblDeGamma22[] =
{
    0x00,0x00,0x01,0x00,0x02,0x00,0x04,0x00,0x07,0x00,0x0B,0x00,0x11,0x00,0x18,0x00,
    0x20,0x00,0x2A,0x00,0x35,0x00,0x41,0x00,0x4F,0x00,0x5E,0x00,0x6E,0x00,0x80,0x00,
    0x94,0x00,0xA9,0x00,0xBF,0x00,0xD8,0x00,0xF1,0x00,0x0D,0x01,0x2A,0x01,0x48,0x01,
    0x68,0x01,0x8A,0x01,0xAE,0x01,0xD3,0x01,0xFA,0x01,0x23,0x02,0x4D,0x02,0x79,0x02,
    0xA7,0x02,0xD6,0x02,0x08,0x03,0x3B,0x03,0x70,0x03,0xA6,0x03,0xDF,0x03,0x1A,0x04,
    0x58,0x04,0x96,0x04,0xD4,0x04,0x14,0x05,0x59,0x05,0x9F,0x05,0xE4,0x05,0x2E,0x06,
    0x79,0x06,0xC5,0x06,0x14,0x07,0x65,0x07,0xB7,0x07,0x0C,0x08,0x62,0x08,0xBB,0x08,
    0x15,0x09,0x72,0x09,0xD0,0x09,0x30,0x0A,0x92,0x0A,0xF6,0x0A,0x5C,0x0B,0xC5,0x0B,
    0x2F,0x0C,0x9B,0x0C,0x09,0x0D,0x7A,0x0D,0xEC,0x0D,0x60,0x0E,0xD6,0x0E,0x4F,0x0F,
    0xC9,0x0F,0x46,0x10,0xC4,0x10,0x45,0x11,0xC8,0x11,0x4D,0x12,0xD3,0x12,0x5C,0x13,
    0xE8,0x13,0x75,0x14,0x04,0x15,0x95,0x15,0x29,0x16,0xBF,0x16,0x56,0x17,0xF0,0x17,
    0x8C,0x18,0x2A,0x19,0xCB,0x19,0x6D,0x1A,0x12,0x1B,0xB9,0x1B,0x62,0x1C,0x0D,0x1D,
    0xBA,0x1D,0x6A,0x1E,0x1B,0x1F,0xCF,0x1F,0x85,0x20,0x3D,0x21,0xF8,0x21,0xB5,0x22,
    0x73,0x23,0x34,0x24,0xF8,0x24,0xBD,0x25,0x85,0x26,0x4F,0x27,0x1B,0x28,0xEA,0x28,
    0xBA,0x29,0x8D,0x2A,0x63,0x2B,0x3A,0x2C,0x14,0x2D,0xF0,0x2D,0xCE,0x2E,0xAF,0x2F,
    0x91,0x30,0x77,0x31,0x5E,0x32,0x48,0x33,0x33,0x34,0x22,0x35,0x12,0x36,0x05,0x37,
    0xFA,0x37,0xF2,0x38,0xEB,0x39,0xE8,0x3A,0xE6,0x3B,0xE7,0x3C,0xEA,0x3D,0xEF,0x3E,
    0xF7,0x3F,0x01,0x41,0x0D,0x42,0x1C,0x43,0x2D,0x44,0x41,0x45,0x56,0x46,0x6F,0x47,
    0x89,0x48,0xA6,0x49,0xC5,0x4A,0xE7,0x4B,0x0B,0x4D,0x31,0x4E,0x5A,0x4F,0x85,0x50,
    0xB3,0x51,0xE2,0x52,0x15,0x54,0x49,0x55,0x80,0x56,0xBA,0x57,0xF6,0x58,0x34,0x5A,
    0x75,0x5B,0xB8,0x5C,0xFE,0x5D,0x46,0x5F,0x90,0x60,0xDD,0x61,0x2C,0x63,0x7E,0x64,
    0xD2,0x65,0x28,0x67,0x81,0x68,0xDD,0x69,0x3B,0x6B,0x9B,0x6C,0xFE,0x6D,0x63,0x6F,
    0xCB,0x70,0x35,0x72,0xA2,0x73,0x11,0x75,0x82,0x76,0xF6,0x77,0x6D,0x79,0xE6,0x7A,
    0x61,0x7C,0xDF,0x7D,0x60,0x7F,0xE3,0x80,0x68,0x82,0xF0,0x83,0x7A,0x85,0x07,0x87,
    0x97,0x88,0x29,0x8A,0xBD,0x8B,0x54,0x8D,0xED,0x8E,0x89,0x90,0x28,0x92,0xC9,0x93,
    0x6C,0x95,0x12,0x97,0xBB,0x98,0x66,0x9A,0x14,0x9C,0xC4,0x9D,0x77,0x9F,0x2C,0xA1,
    0xE4,0xA2,0x9E,0xA4,0x5B,0xA6,0x1A,0xA8,0xDC,0xA9,0xA1,0xAB,0x68,0xAD,0x31,0xAF,
    0xFE,0xB0,0xCC,0xB2,0x9E,0xB4,0x72,0xB6,0x48,0xB8,0x21,0xBA,0xFD,0xBB,0xDB,0xBD,
    0xBC,0xBF,0x9F,0xC1,0x85,0xC3,0x6E,0xC5,0x59,0xC7,0x46,0xC9,0x37,0xCB,0x2A,0xCD,
    0x1F,0xCF,0x17,0xD1,0x12,0xD3,0x0F,0xD5,0x0F,0xD7,0x12,0xD9,0x17,0xDB,0x1F,0xDD,
    0x29,0xDF,0x36,0xE1,0x46,0xE3,0x58,0xE5,0x6D,0xE7,0x84,0xE9,0x9E,0xEB,0xBB,0xED,
    0xDA,0xEF,0xFC,0xF1,0x21,0xF4,0x48,0xF6,0x72,0xF8,0x9F,0xFA,0xCE,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma24[] =
{
    0x00,0x00,0x00,0x00,0x01,0x00,0x02,0x00,0x03,0x00,0x05,0x00,0x08,0x00,0x0C,0x00,
    0x10,0x00,0x15,0x00,0x1B,0x00,0x23,0x00,0x2B,0x00,0x34,0x00,0x3E,0x00,0x49,0x00,
    0x55,0x00,0x62,0x00,0x71,0x00,0x81,0x00,0x92,0x00,0xA3,0x00,0xB7,0x00,0xCB,0x00,
    0xE1,0x00,0xF8,0x00,0x10,0x01,0x2A,0x01,0x45,0x01,0x62,0x01,0x80,0x01,0x9F,0x01,
    0xC0,0x01,0xE3,0x01,0x06,0x02,0x2C,0x02,0x53,0x02,0x7B,0x02,0xA5,0x02,0xD1,0x02,
    0xFE,0x02,0x2C,0x03,0x5D,0x03,0x8F,0x03,0xC2,0x03,0xF8,0x03,0x31,0x04,0x6B,0x04,
    0xA5,0x04,0xDE,0x04,0x1C,0x05,0x5D,0x05,0x9F,0x05,0xE2,0x05,0x27,0x06,0x6F,0x06,
    0xB7,0x06,0xFF,0x06,0x4D,0x07,0x9C,0x07,0xEA,0x07,0x3D,0x08,0x90,0x08,0xE6,0x08,
    0x3D,0x09,0x97,0x09,0xF3,0x09,0x51,0x0A,0xB0,0x0A,0x11,0x0B,0x75,0x0B,0xDB,0x0B,
    0x42,0x0C,0xAC,0x0C,0x18,0x0D,0x85,0x0D,0xF5,0x0D,0x67,0x0E,0xDB,0x0E,0x51,0x0F,
    0xC9,0x0F,0x43,0x10,0xC0,0x10,0x3E,0x11,0xBF,0x11,0x42,0x12,0xC7,0x12,0x4E,0x13,
    0xD8,0x13,0x63,0x14,0xF1,0x14,0x81,0x15,0x14,0x16,0xA8,0x16,0x3F,0x17,0xD8,0x17,
    0x73,0x18,0x11,0x19,0xB1,0x19,0x53,0x1A,0xF8,0x1A,0x9F,0x1B,0x48,0x1C,0xF3,0x1C,
    0xA1,0x1D,0x51,0x1E,0x04,0x1F,0xB9,0x1F,0x70,0x20,0x2A,0x21,0xE6,0x21,0xA5,0x22,
    0x66,0x23,0x29,0x24,0xEF,0x24,0xB7,0x25,0x82,0x26,0x4F,0x27,0x1F,0x28,0xF1,0x28,
    0xC5,0x29,0x9D,0x2A,0x76,0x2B,0x52,0x2C,0x31,0x2D,0x12,0x2E,0xF6,0x2E,0xDC,0x2F,
    0xC5,0x30,0xB0,0x31,0x9E,0x32,0x8F,0x33,0x82,0x34,0x78,0x35,0x70,0x36,0x6B,0x37,
    0x68,0x38,0x68,0x39,0x6B,0x3A,0x71,0x3B,0x79,0x3C,0x83,0x3D,0x91,0x3E,0xA1,0x3F,
    0xB4,0x40,0xC9,0x41,0xE1,0x42,0xFC,0x43,0x19,0x45,0x3A,0x46,0x5C,0x47,0x82,0x48,
    0xAB,0x49,0xD6,0x4A,0x04,0x4C,0x34,0x4D,0x68,0x4E,0x9E,0x4F,0xD7,0x50,0x13,0x52,
    0x51,0x53,0x92,0x54,0xD7,0x55,0x1D,0x57,0x67,0x58,0xB4,0x59,0x03,0x5B,0x56,0x5C,
    0xAB,0x5D,0x03,0x5F,0x5E,0x60,0xBB,0x61,0x1C,0x63,0x7F,0x64,0xE6,0x65,0x4F,0x67,
    0xBB,0x68,0x2A,0x6A,0x9C,0x6B,0x11,0x6D,0x89,0x6E,0x04,0x70,0x81,0x71,0x02,0x73,
    0x86,0x74,0x0C,0x76,0x96,0x77,0x22,0x79,0xB2,0x7A,0x44,0x7C,0xDA,0x7D,0x72,0x7F,
    0x0D,0x81,0xAC,0x82,0x4D,0x84,0xF2,0x85,0x99,0x87,0x44,0x89,0xF2,0x8A,0xA2,0x8C,
    0x56,0x8E,0x0D,0x90,0xC7,0x91,0x84,0x93,0x44,0x95,0x07,0x97,0xCD,0x98,0x96,0x9A,
    0x63,0x9C,0x32,0x9E,0x05,0xA0,0xDA,0xA1,0xB3,0xA3,0x8F,0xA5,0x6E,0xA7,0x51,0xA9,
    0x36,0xAB,0x1F,0xAD,0x0A,0xAF,0xF9,0xB0,0xEB,0xB2,0xE1,0xB4,0xD9,0xB6,0xD5,0xB8,
    0xD4,0xBA,0xD6,0xBC,0xDB,0xBE,0xE3,0xC0,0xEF,0xC2,0xFE,0xC4,0x10,0xC7,0x26,0xC9,
    0x3E,0xCB,0x5A,0xCD,0x79,0xCF,0x9B,0xD1,0xC1,0xD3,0xEA,0xD5,0x16,0xD8,0x46,0xDA,
    0x78,0xDC,0xAF,0xDE,0xE8,0xE0,0x25,0xE3,0x64,0xE5,0xA8,0xE7,0xEE,0xE9,0x38,0xEC,
    0x86,0xEE,0xD6,0xF0,0x2A,0xF3,0x81,0xF5,0xDC,0xF7,0x3A,0xFA,0x9B,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma26[] =
{
    0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x04,0x00,0x06,0x00,
    0x08,0x00,0x0B,0x00,0x0E,0x00,0x12,0x00,0x17,0x00,0x1C,0x00,0x22,0x00,0x29,0x00,
    0x31,0x00,0x39,0x00,0x42,0x00,0x4C,0x00,0x57,0x00,0x63,0x00,0x70,0x00,0x7E,0x00,
    0x8D,0x00,0x9C,0x00,0xAD,0x00,0xBE,0x00,0xD2,0x00,0xE5,0x00,0xFA,0x00,0x10,0x01,
    0x28,0x01,0x41,0x01,0x5A,0x01,0x76,0x01,0x92,0x01,0xB0,0x01,0xCF,0x01,0xEF,0x01,
    0x11,0x02,0x34,0x02,0x58,0x02,0x7E,0x02,0xA5,0x02,0xCE,0x02,0xF8,0x02,0x24,0x03,
    0x51,0x03,0x80,0x03,0xB0,0x03,0xE2,0x03,0x17,0x04,0x4E,0x04,0x86,0x04,0xBD,0x04,
    0xF4,0x04,0x31,0x05,0x6F,0x05,0xAD,0x05,0xED,0x05,0x30,0x06,0x74,0x06,0xBA,0x06,
    0x02,0x07,0x4C,0x07,0x99,0x07,0xE6,0x07,0x36,0x08,0x88,0x08,0xDA,0x08,0x2F,0x09,
    0x86,0x09,0xDE,0x09,0x39,0x0A,0x96,0x0A,0xF5,0x0A,0x56,0x0B,0xB9,0x0B,0x1E,0x0C,
    0x85,0x0C,0xEE,0x0C,0x59,0x0D,0xC7,0x0D,0x36,0x0E,0xA8,0x0E,0x1C,0x0F,0x92,0x0F,
    0x0A,0x10,0x85,0x10,0x01,0x11,0x80,0x11,0x01,0x12,0x85,0x12,0x0A,0x13,0x92,0x13,
    0x1D,0x14,0xA9,0x14,0x38,0x15,0xC9,0x15,0x5D,0x16,0xF3,0x16,0x8B,0x17,0x26,0x18,
    0xC4,0x18,0x63,0x19,0x06,0x1A,0xAA,0x1A,0x51,0x1B,0xFB,0x1B,0xA7,0x1C,0x56,0x1D,
    0x07,0x1E,0xBA,0x1E,0x71,0x1F,0x2A,0x20,0xE5,0x20,0xA3,0x21,0x64,0x22,0x27,0x23,
    0xED,0x23,0xB6,0x24,0x81,0x25,0x4F,0x26,0x1F,0x27,0xF3,0x27,0xC9,0x28,0xA2,0x29,
    0x7D,0x2A,0x5C,0x2B,0x3D,0x2C,0x21,0x2D,0x07,0x2E,0xF1,0x2E,0xDD,0x2F,0xCC,0x30,
    0xBE,0x31,0xB3,0x32,0xAB,0x33,0xA6,0x34,0xA3,0x35,0xA4,0x36,0xA7,0x37,0xAD,0x38,
    0xB7,0x39,0xC3,0x3A,0xD2,0x3B,0xE4,0x3C,0xFA,0x3D,0x12,0x3F,0x2D,0x40,0x4B,0x41,
    0x6D,0x42,0x91,0x43,0xB9,0x44,0xE3,0x45,0x11,0x47,0x42,0x48,0x75,0x49,0xAC,0x4A,
    0xE7,0x4B,0x24,0x4D,0x64,0x4E,0xA8,0x4F,0xEF,0x50,0x39,0x52,0x86,0x53,0xD7,0x54,
    0x2B,0x56,0x82,0x57,0xDC,0x58,0x3A,0x5A,0x9A,0x5B,0xFE,0x5C,0x66,0x5E,0xD1,0x5F,
    0x3F,0x61,0xB0,0x62,0x25,0x64,0x9D,0x65,0x19,0x67,0x98,0x68,0x1A,0x6A,0xA0,0x6B,
    0x29,0x6D,0xB5,0x6E,0x45,0x70,0xD9,0x71,0x70,0x73,0x0A,0x75,0xA8,0x76,0x4A,0x78,
    0xEF,0x79,0x97,0x7B,0x43,0x7D,0xF3,0x7E,0xA6,0x80,0x5C,0x82,0x17,0x84,0xD4,0x85,
    0x96,0x87,0x5B,0x89,0x24,0x8B,0xF0,0x8C,0xC0,0x8E,0x93,0x90,0x6B,0x92,0x46,0x94,
    0x24,0x96,0x06,0x98,0xED,0x99,0xD6,0x9B,0xC4,0x9D,0xB5,0x9F,0xAA,0xA1,0xA3,0xA3,
    0x9F,0xA5,0x9F,0xA7,0xA3,0xA9,0xAB,0xAB,0xB7,0xAD,0xC6,0xAF,0xDA,0xB1,0xF1,0xB3,
    0x0C,0xB6,0x2B,0xB8,0x4D,0xBA,0x74,0xBC,0x9E,0xBE,0xCD,0xC0,0xFF,0xC2,0x36,0xC5,
    0x70,0xC7,0xAE,0xC9,0xF0,0xCB,0x36,0xCE,0x80,0xD0,0xCE,0xD2,0x20,0xD5,0x76,0xD7,
    0xD0,0xD9,0x2E,0xDC,0x90,0xDE,0xF7,0xE0,0x61,0xE3,0xCF,0xE5,0x42,0xE8,0xB8,0xEA,
    0x33,0xED,0xB1,0xEF,0x34,0xF2,0xBB,0xF4,0x46,0xF7,0xD5,0xF9,0x68,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma1886[] =
{    
	0x00,0x00,0x18,0x00,0x2C,0x00,0x44,0x00,0x58,0x00,0x70,0x00,0x84,0x00,0x98,0x00,    
	0xB0,0x00,0xC4,0x00,0xDC,0x00,0xF0,0x00,0x0C,0x01,0x28,0x01,0x44,0x01,0x60,0x01,    
	0x7C,0x01,0x98,0x01,0xB4,0x01,0xD0,0x01,0xF0,0x01,0x10,0x02,0x38,0x02,0x5C,0x02,    
	0x82,0x02,0xAA,0x02,0xD3,0x02,0xF9,0x02,0x25,0x03,0x4E,0x03,0x7D,0x03,0xAD,0x03,    
	0xDF,0x03,0x12,0x04,0x46,0x04,0x7D,0x04,0xB4,0x04,0xED,0x04,0x28,0x05,0x65,0x05,    
	0xA3,0x05,0xE2,0x05,0x23,0x06,0x66,0x06,0xAA,0x06,0xF1,0x06,0x38,0x07,0x82,0x07,    
	0xCD,0x07,0x19,0x08,0x68,0x08,0xB8,0x08,0x09,0x09,0x5D,0x09,0xB2,0x09,0x09,0x0A,    
	0x62,0x0A,0xBC,0x0A,0x19,0x0B,0x77,0x0B,0xD7,0x0B,0x38,0x0C,0x9C,0x0C,0x01,0x0D,    
	0x68,0x0D,0xD1,0x0D,0x3C,0x0E,0xA8,0x0E,0x17,0x0F,0x87,0x0F,0xFA,0x0F,0x6E,0x10,    
	0xE4,0x10,0x5C,0x11,0xD6,0x11,0x52,0x12,0xCF,0x12,0x4F,0x13,0xD1,0x13,0x54,0x14,    
	0xDA,0x14,0x62,0x15,0xEB,0x15,0x77,0x16,0x04,0x17,0x94,0x17,0x26,0x18,0xB9,0x18,    
	0x4F,0x19,0xE7,0x19,0x80,0x1A,0x1C,0x1B,0xBA,0x1B,0x5A,0x1C,0xFC,0x1C,0xA0,0x1D,    
	0x46,0x1E,0xEF,0x1E,0x99,0x1F,0x46,0x20,0xF5,0x20,0xA5,0x21,0x58,0x22,0x0E,0x23,    
	0xC5,0x23,0x7E,0x24,0x3A,0x25,0xF8,0x25,0xB8,0x26,0x7A,0x27,0x3E,0x28,0x05,0x29,    
	0xCE,0x29,0x99,0x2A,0x66,0x2B,0x36,0x2C,0x07,0x2D,0xDB,0x2D,0xB2,0x2E,0x8A,0x2F,    
	0x65,0x30,0x42,0x31,0x22,0x32,0x03,0x33,0xE7,0x33,0xCD,0x34,0xB6,0x35,0xA1,0x36,    
	0x8E,0x37,0x7E,0x38,0x70,0x39,0x64,0x3A,0x5A,0x3B,0x53,0x3C,0x4F,0x3D,0x4C,0x3E,    
	0x4C,0x3F,0x4F,0x40,0x53,0x41,0x5B,0x42,0x64,0x43,0x70,0x44,0x7F,0x45,0x90,0x46,    
	0xA3,0x47,0xB9,0x48,0xD1,0x49,0xEB,0x4A,0x08,0x4C,0x28,0x4D,0x4A,0x4E,0x6E,0x4F,    
	0x95,0x50,0xBE,0x51,0xEA,0x52,0x19,0x54,0x49,0x55,0x7D,0x56,0xB3,0x57,0xEB,0x58,    
	0x26,0x5A,0x63,0x5B,0xA3,0x5C,0xE6,0x5D,0x2B,0x5F,0x72,0x60,0xBC,0x61,0x09,0x63,    
	0x58,0x64,0xAA,0x65,0xFF,0x66,0x56,0x68,0xAF,0x69,0x0B,0x6B,0x6A,0x6C,0xCC,0x6D,    
	0x30,0x6F,0x96,0x70,0xFF,0x71,0x6B,0x73,0xDA,0x74,0x4B,0x76,0xBF,0x77,0x35,0x79,    
	0xAE,0x7A,0x2A,0x7C,0xA8,0x7D,0x29,0x7F,0xAD,0x80,0x34,0x82,0xBD,0x83,0x48,0x85,    
	0xD7,0x86,0x68,0x88,0xFC,0x89,0x93,0x8B,0x2C,0x8D,0xC8,0x8E,0x67,0x90,0x08,0x92,    
	0xAD,0x93,0x54,0x95,0xFD,0x96,0xAA,0x98,0x59,0x9A,0x0B,0x9C,0xC0,0x9D,0x78,0x9F,    
	0x32,0xA1,0xEF,0xA2,0xAF,0xA4,0x72,0xA6,0x37,0xA8,0xFF,0xA9,0xCB,0xAB,0x99,0xAD,    
	0x69,0xAF,0x3D,0xB1,0x13,0xB3,0xEC,0xB4,0xC9,0xB6,0xA7,0xB8,0x89,0xBA,0x6E,0xBC,    
	0x55,0xBE,0x40,0xC0,0x2D,0xC2,0x1D,0xC4,0x10,0xC6,0x06,0xC8,0xFE,0xC9,0xFA,0xCB,    
	0xF9,0xCD,0xFA,0xCF,0xFE,0xD1,0x05,0xD4,0x10,0xD6,0x1D,0xD8,0x2D,0xDA,0x3F,0xDC,    
	0x55,0xDE,0x6E,0xE0,0x8A,0xE2,0xA8,0xE4,0xCA,0xE6,0xEE,0xE8,0x16,0xEB,0x40,0xED,    
	0x6E,0xEF,0x9E,0xF1,0xD2,0xF3,0x08,0xF6,0x41,0xF8,0x7E,0xFA,0xBD,0xFC,0x00,0xFF,
};
#else
code BYTE tblFixGammasRGB_N[] =
{
	0x00,0x00,0xCE,0x00,0x5A,0x01,0xC3,0x01,0x19,0x02,0x64,0x02,0xA6,0x02,0xE2,0x02,
    0x19,0x03,0x4C,0x03,0x7C,0x03,0xA9,0x03,0xD4,0x03,0xFD,0x03,0x24,0x04,0x49,0x04,
    0x6D,0x04,0x90,0x04,0xB2,0x04,0xD2,0x04,0xF2,0x04,0x10,0x05,0x2E,0x05,0x4B,0x05,
    0x67,0x05,0x83,0x05,0x9E,0x05,0xB8,0x05,0xD2,0x05,0xEB,0x05,0x04,0x06,0x1C,0x06,
    0x34,0x06,0x4B,0x06,0x62,0x06,0x79,0x06,0x8F,0x06,0xA5,0x06,0xBB,0x06,0xD0,0x06,
    0xE5,0x06,0xF9,0x06,0x0D,0x07,0x21,0x07,0x35,0x07,0x49,0x07,0x5C,0x07,0x6F,0x07,
    0x82,0x07,0x94,0x07,0xA6,0x07,0xB9,0x07,0xCA,0x07,0xDC,0x07,0xEE,0x07,0xFF,0x07,
    0x10,0x08,0x21,0x08,0x32,0x08,0x42,0x08,0x53,0x08,0x63,0x08,0x73,0x08,0x83,0x08,
    0x93,0x08,0xA3,0x08,0xB2,0x08,0xC2,0x08,0xD1,0x08,0xE0,0x08,0xEF,0x08,0xFE,0x08,
    0x0D,0x09,0x1B,0x09,0x2A,0x09,0x38,0x09,0x47,0x09,0x55,0x09,0x63,0x09,0x71,0x09,
    0x7F,0x09,0x8C,0x09,0x9A,0x09,0xA8,0x09,0xB5,0x09,0xC3,0x09,0xD0,0x09,0xDD,0x09,
    0xEA,0x09,0xF7,0x09,0x04,0x0A,0x11,0x0A,0x1E,0x0A,0x2B,0x0A,0x37,0x0A,0x44,0x0A,
    0x50,0x0A,0x5D,0x0A,0x69,0x0A,0x75,0x0A,0x81,0x0A,0x8E,0x0A,0x9A,0x0A,0xA6,0x0A,
    0xB1,0x0A,0xBD,0x0A,0xC9,0x0A,0xD5,0x0A,0xE0,0x0A,0xEC,0x0A,0xF7,0x0A,0x03,0x0B,
    0x0E,0x0B,0x1A,0x0B,0x25,0x0B,0x30,0x0B,0x3B,0x0B,0x46,0x0B,0x52,0x0B,0x5D,0x0B,
    0x67,0x0B,0x72,0x0B,0x7D,0x0B,0x88,0x0B,0x93,0x0B,0x9D,0x0B,0xA8,0x0B,0xB3,0x0B,
    0xBD,0x0B,0xC8,0x0B,0xD2,0x0B,0xDC,0x0B,0xE7,0x0B,0xF1,0x0B,0xFB,0x0B,0x06,0x0C,
    0x10,0x0C,0x1A,0x0C,0x24,0x0C,0x2E,0x0C,0x38,0x0C,0x42,0x0C,0x4C,0x0C,0x56,0x0C,
    0x60,0x0C,0x69,0x0C,0x73,0x0C,0x7D,0x0C,0x87,0x0C,0x90,0x0C,0x9A,0x0C,0xA3,0x0C,
    0xAD,0x0C,0xB6,0x0C,0xC0,0x0C,0xC9,0x0C,0xD3,0x0C,0xDC,0x0C,0xE5,0x0C,0xEF,0x0C,
    0xF8,0x0C,0x01,0x0D,0x0A,0x0D,0x13,0x0D,0x1D,0x0D,0x26,0x0D,0x2F,0x0D,0x38,0x0D,
    0x41,0x0D,0x4A,0x0D,0x53,0x0D,0x5B,0x0D,0x64,0x0D,0x6D,0x0D,0x76,0x0D,0x7F,0x0D,
    0x87,0x0D,0x90,0x0D,0x99,0x0D,0xA2,0x0D,0xAA,0x0D,0xB3,0x0D,0xBB,0x0D,0xC4,0x0D,
    0xCC,0x0D,0xD5,0x0D,0xDD,0x0D,0xE6,0x0D,0xEE,0x0D,0xF7,0x0D,0xFF,0x0D,0x07,0x0E,
    0x10,0x0E,0x18,0x0E,0x20,0x0E,0x28,0x0E,0x31,0x0E,0x39,0x0E,0x41,0x0E,0x49,0x0E,
    0x51,0x0E,0x59,0x0E,0x61,0x0E,0x69,0x0E,0x71,0x0E,0x79,0x0E,0x81,0x0E,0x89,0x0E,
    0x91,0x0E,0x99,0x0E,0xA1,0x0E,0xA9,0x0E,0xB1,0x0E,0xB9,0x0E,0xC0,0x0E,0xC8,0x0E,
    0xD0,0x0E,0xD8,0x0E,0xDF,0x0E,0xE7,0x0E,0xEF,0x0E,0xF6,0x0E,0xFE,0x0E,0x06,0x0F,
    0x0D,0x0F,0x15,0x0F,0x1C,0x0F,0x24,0x0F,0x2C,0x0F,0x33,0x0F,0x3A,0x0F,0x42,0x0F,
    0x49,0x0F,0x51,0x0F,0x58,0x0F,0x60,0x0F,0x67,0x0F,0x6E,0x0F,0x76,0x0F,0x7D,0x0F,
    0x84,0x0F,0x8C,0x0F,0x93,0x0F,0x9A,0x0F,0xA1,0x0F,0xA8,0x0F,0xB0,0x0F,0xB7,0x0F,
    0xBE,0x0F,0xC5,0x0F,0xCC,0x0F,0xD3,0x0F,0xDA,0x0F,0xE2,0x0F,0xE9,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma18_N[] =
{
	0x00,0x00,0xBC,0x00,0x14,0x01,0x5A,0x01,0x96,0x01,0xCB,0x01,0xFC,0x01,0x2A,0x02,
    0x54,0x02,0x7D,0x02,0xA3,0x02,0xC8,0x02,0xEB,0x02,0x0D,0x03,0x2E,0x03,0x4D,0x03,
    0x6C,0x03,0x8A,0x03,0xA8,0x03,0xC4,0x03,0xE0,0x03,0xFB,0x03,0x16,0x04,0x30,0x04,
    0x4A,0x04,0x63,0x04,0x7C,0x04,0x94,0x04,0xAC,0x04,0xC3,0x04,0xDB,0x04,0xF1,0x04,
    0x08,0x05,0x1E,0x05,0x34,0x05,0x4A,0x05,0x5F,0x05,0x74,0x05,0x89,0x05,0x9E,0x05,
    0xB2,0x05,0xC6,0x05,0xDA,0x05,0xEE,0x05,0x01,0x06,0x14,0x06,0x28,0x06,0x3B,0x06,
    0x4D,0x06,0x60,0x06,0x72,0x06,0x85,0x06,0x97,0x06,0xA9,0x06,0xBA,0x06,0xCC,0x06,
    0xDE,0x06,0xEF,0x06,0x00,0x07,0x11,0x07,0x22,0x07,0x33,0x07,0x44,0x07,0x54,0x07,
    0x65,0x07,0x75,0x07,0x86,0x07,0x96,0x07,0xA6,0x07,0xB6,0x07,0xC6,0x07,0xD5,0x07,
    0xE5,0x07,0xF4,0x07,0x04,0x08,0x13,0x08,0x23,0x08,0x32,0x08,0x41,0x08,0x50,0x08,
    0x5F,0x08,0x6E,0x08,0x7C,0x08,0x8B,0x08,0x9A,0x08,0xA8,0x08,0xB7,0x08,0xC5,0x08,
    0xD3,0x08,0xE1,0x08,0xF0,0x08,0xFE,0x08,0x0C,0x09,0x1A,0x09,0x28,0x09,0x35,0x09,
    0x43,0x09,0x51,0x09,0x5E,0x09,0x6C,0x09,0x7A,0x09,0x87,0x09,0x94,0x09,0xA2,0x09,
    0xAF,0x09,0xBC,0x09,0xC9,0x09,0xD6,0x09,0xE3,0x09,0xF0,0x09,0xFD,0x09,0x0A,0x0A,
    0x17,0x0A,0x24,0x0A,0x31,0x0A,0x3D,0x0A,0x4A,0x0A,0x57,0x0A,0x63,0x0A,0x70,0x0A,
    0x7C,0x0A,0x88,0x0A,0x95,0x0A,0xA1,0x0A,0xAD,0x0A,0xBA,0x0A,0xC6,0x0A,0xD2,0x0A,
    0xDE,0x0A,0xEA,0x0A,0xF6,0x0A,0x02,0x0B,0x0E,0x0B,0x1A,0x0B,0x26,0x0B,0x32,0x0B,
    0x3D,0x0B,0x49,0x0B,0x55,0x0B,0x60,0x0B,0x6C,0x0B,0x78,0x0B,0x83,0x0B,0x8F,0x0B,
    0x9A,0x0B,0xA6,0x0B,0xB1,0x0B,0xBC,0x0B,0xC8,0x0B,0xD3,0x0B,0xDE,0x0B,0xEA,0x0B,
    0xF5,0x0B,0x00,0x0C,0x0B,0x0C,0x16,0x0C,0x21,0x0C,0x2C,0x0C,0x37,0x0C,0x42,0x0C,
    0x4D,0x0C,0x58,0x0C,0x63,0x0C,0x6E,0x0C,0x79,0x0C,0x84,0x0C,0x8E,0x0C,0x99,0x0C,
    0xA4,0x0C,0xAE,0x0C,0xB9,0x0C,0xC4,0x0C,0xCE,0x0C,0xD9,0x0C,0xE3,0x0C,0xEE,0x0C,
    0xF8,0x0C,0x03,0x0D,0x0D,0x0D,0x18,0x0D,0x22,0x0D,0x2D,0x0D,0x37,0x0D,0x41,0x0D,
    0x4B,0x0D,0x56,0x0D,0x60,0x0D,0x6A,0x0D,0x74,0x0D,0x7F,0x0D,0x89,0x0D,0x93,0x0D,
    0x9D,0x0D,0xA7,0x0D,0xB1,0x0D,0xBB,0x0D,0xC5,0x0D,0xCF,0x0D,0xD9,0x0D,0xE3,0x0D,
    0xED,0x0D,0xF7,0x0D,0x01,0x0E,0x0A,0x0E,0x14,0x0E,0x1E,0x0E,0x28,0x0E,0x32,0x0E,
    0x3B,0x0E,0x45,0x0E,0x4F,0x0E,0x58,0x0E,0x62,0x0E,0x6C,0x0E,0x75,0x0E,0x7F,0x0E,
    0x89,0x0E,0x92,0x0E,0x9C,0x0E,0xA5,0x0E,0xAF,0x0E,0xB8,0x0E,0xC2,0x0E,0xCB,0x0E,
    0xD5,0x0E,0xDE,0x0E,0xE7,0x0E,0xF1,0x0E,0xFA,0x0E,0x03,0x0F,0x0D,0x0F,0x16,0x0F,
    0x1F,0x0F,0x29,0x0F,0x32,0x0F,0x3B,0x0F,0x44,0x0F,0x4D,0x0F,0x57,0x0F,0x60,0x0F,
    0x69,0x0F,0x72,0x0F,0x7B,0x0F,0x84,0x0F,0x8D,0x0F,0x96,0x0F,0x9F,0x0F,0xA8,0x0F,
    0xB1,0x0F,0xBA,0x0F,0xC3,0x0F,0xCC,0x0F,0xD5,0x0F,0xDE,0x0F,0xE7,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma20_N[] =
{
	0x00,0x00,0xFF,0x00,0x69,0x01,0xBB,0x01,0xFF,0x01,0x3B,0x02,0x72,0x02,0xA4,0x02,
    0xD3,0x02,0xFE,0x02,0x28,0x03,0x4F,0x03,0x75,0x03,0x99,0x03,0xBC,0x03,0xDE,0x03,
    0xFE,0x03,0x1D,0x04,0x3C,0x04,0x5A,0x04,0x77,0x04,0x93,0x04,0xAE,0x04,0xC9,0x04,
    0xE4,0x04,0xFD,0x04,0x17,0x05,0x30,0x05,0x48,0x05,0x60,0x05,0x77,0x05,0x8F,0x05,
    0xA5,0x05,0xBC,0x05,0xD2,0x05,0xE8,0x05,0xFD,0x05,0x12,0x06,0x27,0x06,0x3C,0x06,
    0x50,0x06,0x64,0x06,0x78,0x06,0x8B,0x06,0x9F,0x06,0xB2,0x06,0xC5,0x06,0xD8,0x06,
    0xEA,0x06,0xFC,0x06,0x0F,0x07,0x21,0x07,0x32,0x07,0x44,0x07,0x56,0x07,0x67,0x07,
    0x78,0x07,0x89,0x07,0x9A,0x07,0xAB,0x07,0xBB,0x07,0xCC,0x07,0xDC,0x07,0xEC,0x07,
    0xFC,0x07,0x0C,0x08,0x1C,0x08,0x2B,0x08,0x3B,0x08,0x4A,0x08,0x5A,0x08,0x69,0x08,
    0x78,0x08,0x87,0x08,0x96,0x08,0xA5,0x08,0xB3,0x08,0xC2,0x08,0xD1,0x08,0xDF,0x08,
    0xED,0x08,0xFB,0x08,0x0A,0x09,0x18,0x09,0x26,0x09,0x34,0x09,0x41,0x09,0x4F,0x09,
    0x5D,0x09,0x6A,0x09,0x78,0x09,0x85,0x09,0x93,0x09,0xA0,0x09,0xAD,0x09,0xBA,0x09,
    0xC7,0x09,0xD4,0x09,0xE1,0x09,0xEE,0x09,0xFB,0x09,0x08,0x0A,0x14,0x0A,0x21,0x0A,
    0x2E,0x0A,0x3A,0x0A,0x47,0x0A,0x53,0x0A,0x5F,0x0A,0x6B,0x0A,0x78,0x0A,0x84,0x0A,
    0x90,0x0A,0x9C,0x0A,0xA8,0x0A,0xB4,0x0A,0xC0,0x0A,0xCC,0x0A,0xD7,0x0A,0xE3,0x0A,
    0xEF,0x0A,0xFA,0x0A,0x06,0x0B,0x12,0x0B,0x1D,0x0B,0x29,0x0B,0x34,0x0B,0x3F,0x0B,
    0x4B,0x0B,0x56,0x0B,0x61,0x0B,0x6C,0x0B,0x77,0x0B,0x83,0x0B,0x8E,0x0B,0x99,0x0B,
    0xA4,0x0B,0xAF,0x0B,0xB9,0x0B,0xC4,0x0B,0xCF,0x0B,0xDA,0x0B,0xE5,0x0B,0xEF,0x0B,
    0xFA,0x0B,0x05,0x0C,0x0F,0x0C,0x1A,0x0C,0x24,0x0C,0x2F,0x0C,0x39,0x0C,0x44,0x0C,
    0x4E,0x0C,0x58,0x0C,0x63,0x0C,0x6D,0x0C,0x77,0x0C,0x81,0x0C,0x8C,0x0C,0x96,0x0C,
    0xA0,0x0C,0xAA,0x0C,0xB4,0x0C,0xBE,0x0C,0xC8,0x0C,0xD2,0x0C,0xDC,0x0C,0xE6,0x0C,
    0xF0,0x0C,0xF9,0x0C,0x03,0x0D,0x0D,0x0D,0x17,0x0D,0x21,0x0D,0x2A,0x0D,0x34,0x0D,
    0x3E,0x0D,0x47,0x0D,0x51,0x0D,0x5A,0x0D,0x64,0x0D,0x6D,0x0D,0x77,0x0D,0x80,0x0D,
    0x8A,0x0D,0x93,0x0D,0x9D,0x0D,0xA6,0x0D,0xAF,0x0D,0xB9,0x0D,0xC2,0x0D,0xCB,0x0D,
    0xD4,0x0D,0xDE,0x0D,0xE7,0x0D,0xF0,0x0D,0xF9,0x0D,0x02,0x0E,0x0B,0x0E,0x14,0x0E,
    0x1D,0x0E,0x26,0x0E,0x2F,0x0E,0x38,0x0E,0x41,0x0E,0x4A,0x0E,0x53,0x0E,0x5C,0x0E,
    0x65,0x0E,0x6E,0x0E,0x77,0x0E,0x7F,0x0E,0x88,0x0E,0x91,0x0E,0x9A,0x0E,0xA2,0x0E,
    0xAB,0x0E,0xB4,0x0E,0xBC,0x0E,0xC5,0x0E,0xCE,0x0E,0xD6,0x0E,0xDF,0x0E,0xE7,0x0E,
    0xF0,0x0E,0xF8,0x0E,0x01,0x0F,0x09,0x0F,0x12,0x0F,0x1A,0x0F,0x23,0x0F,0x2B,0x0F,
    0x34,0x0F,0x3C,0x0F,0x44,0x0F,0x4D,0x0F,0x55,0x0F,0x5D,0x0F,0x66,0x0F,0x6E,0x0F,
    0x76,0x0F,0x7E,0x0F,0x87,0x0F,0x8F,0x0F,0x97,0x0F,0x9F,0x0F,0xA7,0x0F,0xAF,0x0F,
    0xB8,0x0F,0xC0,0x0F,0xC8,0x0F,0xD0,0x0F,0xD8,0x0F,0xE0,0x0F,0xE8,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma22_N[] =
{
	// Gamma 0.4545
	0x00,0x00,0x49,0x01,0xC2,0x01,0x1E,0x02,0x69,0x02,0xAB,0x02,0xE6,0x02,0x1C,0x03,
    0x4E,0x03,0x7C,0x03,0xA8,0x03,0xD2,0x03,0xF9,0x03,0x1F,0x04,0x43,0x04,0x66,0x04,
    0x87,0x04,0xA7,0x04,0xC7,0x04,0xE5,0x04,0x03,0x05,0x20,0x05,0x3C,0x05,0x57,0x05,
    0x72,0x05,0x8C,0x05,0xA5,0x05,0xBE,0x05,0xD7,0x05,0xEF,0x05,0x06,0x06,0x1E,0x06,
    0x34,0x06,0x4B,0x06,0x61,0x06,0x76,0x06,0x8C,0x06,0xA1,0x06,0xB5,0x06,0xCA,0x06,
    0xDE,0x06,0xF2,0x06,0x05,0x07,0x19,0x07,0x2C,0x07,0x3F,0x07,0x51,0x07,0x64,0x07,
    0x76,0x07,0x88,0x07,0x9A,0x07,0xAB,0x07,0xBD,0x07,0xCE,0x07,0xDF,0x07,0xF0,0x07,
    0x00,0x08,0x11,0x08,0x21,0x08,0x32,0x08,0x42,0x08,0x52,0x08,0x61,0x08,0x71,0x08,
    0x81,0x08,0x90,0x08,0x9F,0x08,0xAE,0x08,0xBD,0x08,0xCC,0x08,0xDB,0x08,0xEA,0x08,
    0xF8,0x08,0x07,0x09,0x15,0x09,0x23,0x09,0x31,0x09,0x3F,0x09,0x4D,0x09,0x5B,0x09,
    0x69,0x09,0x77,0x09,0x84,0x09,0x92,0x09,0x9F,0x09,0xAC,0x09,0xB9,0x09,0xC7,0x09,
    0xD4,0x09,0xE1,0x09,0xED,0x09,0xFA,0x09,0x07,0x0A,0x14,0x0A,0x20,0x0A,0x2D,0x0A,
    0x39,0x0A,0x45,0x0A,0x52,0x0A,0x5E,0x0A,0x6A,0x0A,0x76,0x0A,0x82,0x0A,0x8E,0x0A,
    0x9A,0x0A,0xA6,0x0A,0xB2,0x0A,0xBD,0x0A,0xC9,0x0A,0xD5,0x0A,0xE0,0x0A,0xEC,0x0A,
    0xF7,0x0A,0x02,0x0B,0x0E,0x0B,0x19,0x0B,0x24,0x0B,0x2F,0x0B,0x3A,0x0B,0x45,0x0B,
    0x50,0x0B,0x5B,0x0B,0x66,0x0B,0x71,0x0B,0x7C,0x0B,0x87,0x0B,0x91,0x0B,0x9C,0x0B,
    0xA7,0x0B,0xB1,0x0B,0xBC,0x0B,0xC6,0x0B,0xD1,0x0B,0xDB,0x0B,0xE5,0x0B,0xF0,0x0B,
    0xFA,0x0B,0x04,0x0C,0x0E,0x0C,0x19,0x0C,0x23,0x0C,0x2D,0x0C,0x37,0x0C,0x41,0x0C,
    0x4B,0x0C,0x55,0x0C,0x5E,0x0C,0x68,0x0C,0x72,0x0C,0x7C,0x0C,0x86,0x0C,0x8F,0x0C,
    0x99,0x0C,0xA3,0x0C,0xAC,0x0C,0xB6,0x0C,0xBF,0x0C,0xC9,0x0C,0xD2,0x0C,0xDC,0x0C,
    0xE5,0x0C,0xEE,0x0C,0xF8,0x0C,0x01,0x0D,0x0A,0x0D,0x14,0x0D,0x1D,0x0D,0x26,0x0D,
    0x2F,0x0D,0x38,0x0D,0x41,0x0D,0x4A,0x0D,0x53,0x0D,0x5C,0x0D,0x65,0x0D,0x6E,0x0D,
    0x77,0x0D,0x80,0x0D,0x89,0x0D,0x92,0x0D,0x9B,0x0D,0xA3,0x0D,0xAC,0x0D,0xB5,0x0D,
    0xBE,0x0D,0xC6,0x0D,0xCF,0x0D,0xD8,0x0D,0xE0,0x0D,0xE9,0x0D,0xF1,0x0D,0xFA,0x0D,
    0x02,0x0E,0x0B,0x0E,0x13,0x0E,0x1C,0x0E,0x24,0x0E,0x2C,0x0E,0x35,0x0E,0x3D,0x0E,
    0x45,0x0E,0x4E,0x0E,0x56,0x0E,0x5E,0x0E,0x66,0x0E,0x6F,0x0E,0x77,0x0E,0x7F,0x0E,
    0x87,0x0E,0x8F,0x0E,0x97,0x0E,0x9F,0x0E,0xA7,0x0E,0xB0,0x0E,0xB8,0x0E,0xC0,0x0E,
    0xC7,0x0E,0xCF,0x0E,0xD7,0x0E,0xDF,0x0E,0xE7,0x0E,0xEF,0x0E,0xF7,0x0E,0xFF,0x0E,
    0x07,0x0F,0x0E,0x0F,0x16,0x0F,0x1E,0x0F,0x26,0x0F,0x2D,0x0F,0x35,0x0F,0x3D,0x0F,
    0x44,0x0F,0x4C,0x0F,0x54,0x0F,0x5B,0x0F,0x63,0x0F,0x6A,0x0F,0x72,0x0F,0x7A,0x0F,
    0x81,0x0F,0x89,0x0F,0x90,0x0F,0x98,0x0F,0x9F,0x0F,0xA6,0x0F,0xAE,0x0F,0xB5,0x0F,
    0xBD,0x0F,0xC4,0x0F,0xCB,0x0F,0xD3,0x0F,0xDA,0x0F,0xE1,0x0F,0xE9,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma24_N[] =
{
	0x00,0x00,0x95,0x01,0x1D,0x02,0x81,0x02,0xD2,0x02,0x19,0x03,0x57,0x03,0x90,0x03,
    0xC4,0x03,0xF5,0x03,0x22,0x04,0x4D,0x04,0x76,0x04,0x9D,0x04,0xC2,0x04,0xE5,0x04,
    0x07,0x05,0x28,0x05,0x48,0x05,0x67,0x05,0x85,0x05,0xA2,0x05,0xBE,0x05,0xD9,0x05,
    0xF4,0x05,0x0E,0x06,0x28,0x06,0x41,0x06,0x59,0x06,0x71,0x06,0x89,0x06,0xA0,0x06,
    0xB6,0x06,0xCC,0x06,0xE2,0x06,0xF8,0x06,0x0D,0x07,0x21,0x07,0x36,0x07,0x4A,0x07,
    0x5E,0x07,0x71,0x07,0x84,0x07,0x97,0x07,0xAA,0x07,0xBC,0x07,0xCF,0x07,0xE1,0x07,
    0xF2,0x07,0x04,0x08,0x15,0x08,0x27,0x08,0x37,0x08,0x48,0x08,0x59,0x08,0x69,0x08,
    0x79,0x08,0x89,0x08,0x99,0x08,0xA9,0x08,0xB9,0x08,0xC8,0x08,0xD7,0x08,0xE7,0x08,
    0xF6,0x08,0x04,0x09,0x13,0x09,0x22,0x09,0x30,0x09,0x3F,0x09,0x4D,0x09,0x5B,0x09,
    0x69,0x09,0x77,0x09,0x85,0x09,0x92,0x09,0xA0,0x09,0xAD,0x09,0xBB,0x09,0xC8,0x09,
    0xD5,0x09,0xE2,0x09,0xEF,0x09,0xFC,0x09,0x09,0x0A,0x15,0x0A,0x22,0x0A,0x2F,0x0A,
    0x3B,0x0A,0x47,0x0A,0x54,0x0A,0x60,0x0A,0x6C,0x0A,0x78,0x0A,0x84,0x0A,0x90,0x0A,
    0x9C,0x0A,0xA7,0x0A,0xB3,0x0A,0xBF,0x0A,0xCA,0x0A,0xD6,0x0A,0xE1,0x0A,0xED,0x0A,
    0xF8,0x0A,0x03,0x0B,0x0E,0x0B,0x19,0x0B,0x24,0x0B,0x2F,0x0B,0x3A,0x0B,0x45,0x0B,
    0x50,0x0B,0x5B,0x0B,0x65,0x0B,0x70,0x0B,0x7B,0x0B,0x85,0x0B,0x90,0x0B,0x9A,0x0B,
    0xA4,0x0B,0xAF,0x0B,0xB9,0x0B,0xC3,0x0B,0xCD,0x0B,0xD7,0x0B,0xE2,0x0B,0xEC,0x0B,
    0xF6,0x0B,0xFF,0x0B,0x09,0x0C,0x13,0x0C,0x1D,0x0C,0x27,0x0C,0x31,0x0C,0x3A,0x0C,
    0x44,0x0C,0x4D,0x0C,0x57,0x0C,0x61,0x0C,0x6A,0x0C,0x73,0x0C,0x7D,0x0C,0x86,0x0C,
    0x90,0x0C,0x99,0x0C,0xA2,0x0C,0xAB,0x0C,0xB4,0x0C,0xBE,0x0C,0xC7,0x0C,0xD0,0x0C,
    0xD9,0x0C,0xE2,0x0C,0xEB,0x0C,0xF4,0x0C,0xFD,0x0C,0x05,0x0D,0x0E,0x0D,0x17,0x0D,
    0x20,0x0D,0x29,0x0D,0x31,0x0D,0x3A,0x0D,0x43,0x0D,0x4B,0x0D,0x54,0x0D,0x5C,0x0D,
    0x65,0x0D,0x6D,0x0D,0x76,0x0D,0x7E,0x0D,0x87,0x0D,0x8F,0x0D,0x97,0x0D,0xA0,0x0D,
    0xA8,0x0D,0xB0,0x0D,0xB8,0x0D,0xC1,0x0D,0xC9,0x0D,0xD1,0x0D,0xD9,0x0D,0xE1,0x0D,
    0xE9,0x0D,0xF1,0x0D,0xF9,0x0D,0x01,0x0E,0x09,0x0E,0x11,0x0E,0x19,0x0E,0x21,0x0E,
    0x29,0x0E,0x31,0x0E,0x39,0x0E,0x41,0x0E,0x48,0x0E,0x50,0x0E,0x58,0x0E,0x60,0x0E,
    0x67,0x0E,0x6F,0x0E,0x77,0x0E,0x7E,0x0E,0x86,0x0E,0x8D,0x0E,0x95,0x0E,0x9C,0x0E,
    0xA4,0x0E,0xAB,0x0E,0xB3,0x0E,0xBA,0x0E,0xC2,0x0E,0xC9,0x0E,0xD1,0x0E,0xD8,0x0E,
    0xDF,0x0E,0xE7,0x0E,0xEE,0x0E,0xF5,0x0E,0xFD,0x0E,0x04,0x0F,0x0B,0x0F,0x12,0x0F,
    0x19,0x0F,0x21,0x0F,0x28,0x0F,0x2F,0x0F,0x36,0x0F,0x3D,0x0F,0x44,0x0F,0x4B,0x0F,
    0x52,0x0F,0x59,0x0F,0x60,0x0F,0x67,0x0F,0x6E,0x0F,0x75,0x0F,0x7C,0x0F,0x83,0x0F,
    0x8A,0x0F,0x91,0x0F,0x98,0x0F,0x9F,0x0F,0xA6,0x0F,0xAD,0x0F,0xB3,0x0F,0xBA,0x0F,
    0xC1,0x0F,0xC8,0x0F,0xCE,0x0F,0xD5,0x0F,0xDC,0x0F,0xE3,0x0F,0xE9,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma26_N[] =
{
	0x00,0x00,0xE4,0x01,0x78,0x02,0xE3,0x02,0x39,0x03,0x83,0x03,0xC5,0x03,0x00,0x04,
    0x35,0x04,0x67,0x04,0x96,0x04,0xC2,0x04,0xEB,0x04,0x13,0x05,0x38,0x05,0x5C,0x05,
    0x7F,0x05,0xA0,0x05,0xC0,0x05,0xDF,0x05,0xFD,0x05,0x1A,0x06,0x36,0x06,0x51,0x06,
    0x6C,0x06,0x86,0x06,0x9F,0x06,0xB8,0x06,0xD0,0x06,0xE8,0x06,0xFF,0x06,0x16,0x07,
    0x2C,0x07,0x42,0x07,0x58,0x07,0x6D,0x07,0x82,0x07,0x96,0x07,0xAA,0x07,0xBE,0x07,
    0xD1,0x07,0xE4,0x07,0xF7,0x07,0x09,0x08,0x1C,0x08,0x2E,0x08,0x3F,0x08,0x51,0x08,
    0x62,0x08,0x73,0x08,0x84,0x08,0x95,0x08,0xA5,0x08,0xB6,0x08,0xC6,0x08,0xD6,0x08,
    0xE5,0x08,0xF5,0x08,0x04,0x09,0x14,0x09,0x23,0x09,0x32,0x09,0x40,0x09,0x4F,0x09,
    0x5D,0x09,0x6C,0x09,0x7A,0x09,0x88,0x09,0x96,0x09,0xA4,0x09,0xB2,0x09,0xBF,0x09,
    0xCD,0x09,0xDA,0x09,0xE7,0x09,0xF4,0x09,0x01,0x0A,0x0E,0x0A,0x1B,0x0A,0x28,0x0A,
    0x34,0x0A,0x41,0x0A,0x4D,0x0A,0x5A,0x0A,0x66,0x0A,0x72,0x0A,0x7E,0x0A,0x8A,0x0A,
    0x96,0x0A,0xA2,0x0A,0xAD,0x0A,0xB9,0x0A,0xC5,0x0A,0xD0,0x0A,0xDB,0x0A,0xE7,0x0A,
    0xF2,0x0A,0xFD,0x0A,0x08,0x0B,0x13,0x0B,0x1E,0x0B,0x29,0x0B,0x34,0x0B,0x3F,0x0B,
    0x4A,0x0B,0x54,0x0B,0x5F,0x0B,0x69,0x0B,0x74,0x0B,0x7E,0x0B,0x89,0x0B,0x93,0x0B,
    0x9D,0x0B,0xA7,0x0B,0xB2,0x0B,0xBC,0x0B,0xC6,0x0B,0xD0,0x0B,0xDA,0x0B,0xE3,0x0B,
    0xED,0x0B,0xF7,0x0B,0x01,0x0C,0x0A,0x0C,0x14,0x0C,0x1D,0x0C,0x27,0x0C,0x30,0x0C,
    0x3A,0x0C,0x43,0x0C,0x4D,0x0C,0x56,0x0C,0x5F,0x0C,0x68,0x0C,0x72,0x0C,0x7B,0x0C,
    0x84,0x0C,0x8D,0x0C,0x96,0x0C,0x9F,0x0C,0xA8,0x0C,0xB1,0x0C,0xB9,0x0C,0xC2,0x0C,
    0xCB,0x0C,0xD4,0x0C,0xDC,0x0C,0xE5,0x0C,0xEE,0x0C,0xF6,0x0C,0xFF,0x0C,0x07,0x0D,
    0x10,0x0D,0x18,0x0D,0x21,0x0D,0x29,0x0D,0x31,0x0D,0x3A,0x0D,0x42,0x0D,0x4A,0x0D,
    0x52,0x0D,0x5B,0x0D,0x63,0x0D,0x6B,0x0D,0x73,0x0D,0x7B,0x0D,0x83,0x0D,0x8B,0x0D,
    0x93,0x0D,0x9B,0x0D,0xA3,0x0D,0xAB,0x0D,0xB3,0x0D,0xBA,0x0D,0xC2,0x0D,0xCA,0x0D,
    0xD2,0x0D,0xD9,0x0D,0xE1,0x0D,0xE9,0x0D,0xF0,0x0D,0xF8,0x0D,0x00,0x0E,0x07,0x0E,
    0x0F,0x0E,0x16,0x0E,0x1E,0x0E,0x25,0x0E,0x2D,0x0E,0x34,0x0E,0x3B,0x0E,0x43,0x0E,
    0x4A,0x0E,0x51,0x0E,0x59,0x0E,0x60,0x0E,0x67,0x0E,0x6E,0x0E,0x76,0x0E,0x7D,0x0E,
    0x84,0x0E,0x8B,0x0E,0x92,0x0E,0x99,0x0E,0xA0,0x0E,0xA7,0x0E,0xAF,0x0E,0xB6,0x0E,
    0xBD,0x0E,0xC3,0x0E,0xCA,0x0E,0xD1,0x0E,0xD8,0x0E,0xDF,0x0E,0xE6,0x0E,0xED,0x0E,
    0xF4,0x0E,0xFA,0x0E,0x01,0x0F,0x08,0x0F,0x0F,0x0F,0x16,0x0F,0x1C,0x0F,0x23,0x0F,
    0x2A,0x0F,0x30,0x0F,0x37,0x0F,0x3D,0x0F,0x44,0x0F,0x4B,0x0F,0x51,0x0F,0x58,0x0F,
    0x5E,0x0F,0x65,0x0F,0x6B,0x0F,0x72,0x0F,0x78,0x0F,0x7F,0x0F,0x85,0x0F,0x8C,0x0F,
    0x92,0x0F,0x98,0x0F,0x9F,0x0F,0xA5,0x0F,0xAB,0x0F,0xB2,0x0F,0xB8,0x0F,0xBE,0x0F,
    0xC5,0x0F,0xCB,0x0F,0xD1,0x0F,0xD7,0x0F,0xDD,0x0F,0xE4,0x0F,0xEA,0x0F,0xF0,0x0F,
};

/******************************************************************************************************************************************
Input Table Type : non-compressed data ( normal )
tblFixGammasRGB_N : R or G or B color Gamma Table , 512 bytes = 256 Entry * 2bytes( 8.8 format , 16 bits)
Output Scaler Data : 8.8 format , 16 bits
******************************************************************************************************************************************/
code BYTE tblDeGammasRGB[] =
{
    0x00,0x00,0x14,0x00,0x28,0x00,0x3B,0x00,0x4F,0x00,0x63,0x00,0x77,0x00,0x8B,0x00,
    0x9E,0x00,0xB2,0x00,0xC6,0x00,0xDA,0x00,0xEE,0x00,0x02,0x01,0x1F,0x01,0x3D,0x01,
    0x5A,0x01,0x77,0x01,0x95,0x01,0xB2,0x01,0xCF,0x01,0xED,0x01,0x0D,0x02,0x34,0x02,
    0x5B,0x02,0x82,0x02,0xA9,0x02,0xD0,0x02,0xF7,0x02,0x24,0x03,0x54,0x03,0x84,0x03,
    0xB3,0x03,0xE3,0x03,0x15,0x04,0x4D,0x04,0x84,0x04,0xBB,0x04,0xF2,0x04,0x2F,0x05,
    0x6D,0x05,0xAB,0x05,0xE9,0x05,0x2B,0x06,0x6F,0x06,0xB3,0x06,0xF7,0x06,0x41,0x07,
    0x8C,0x07,0xD6,0x07,0x23,0x08,0x73,0x08,0xC3,0x08,0x14,0x09,0x6A,0x09,0xC0,0x09,
    0x16,0x0A,0x71,0x0A,0xCC,0x0A,0x28,0x0B,0x88,0x0B,0xE6,0x0B,0x4A,0x0C,0xAF,0x0C,
    0x13,0x0D,0x7D,0x0D,0xE6,0x0D,0x52,0x0E,0xBF,0x0E,0x2F,0x0F,0xA0,0x0F,0x13,0x10,
    0x88,0x10,0xFF,0x10,0x78,0x11,0xF1,0x11,0x6E,0x12,0xED,0x12,0x6D,0x13,0xF0,0x13,
    0x75,0x14,0xFB,0x14,0x86,0x15,0x0F,0x16,0x9D,0x16,0x2A,0x17,0xBB,0x17,0x4E,0x18,
    0xE3,0x18,0x79,0x19,0x14,0x1A,0xAD,0x1A,0x4A,0x1B,0xEA,0x1B,0x8B,0x1C,0x2E,0x1D,
    0xD4,0x1D,0x7B,0x1E,0x25,0x1F,0xD1,0x1F,0x7F,0x20,0x2F,0x21,0xE2,0x21,0x96,0x22,
    0x4D,0x23,0x06,0x24,0xC1,0x24,0x7E,0x25,0x3D,0x26,0xFF,0x26,0xC3,0x27,0x89,0x28,
    0x51,0x29,0x1C,0x2A,0xE9,0x2A,0xB8,0x2B,0x89,0x2C,0x5D,0x2D,0x32,0x2E,0x0B,0x2F,
    0xE5,0x2F,0xC2,0x30,0xA1,0x31,0x82,0x32,0x66,0x33,0x4C,0x34,0x34,0x35,0x1E,0x36,
    0x0B,0x37,0xFB,0x37,0xEC,0x38,0xE0,0x39,0xD7,0x3A,0xCF,0x3B,0xCB,0x3C,0xC8,0x3D,
    0xC8,0x3E,0xCA,0x3F,0xCF,0x40,0xD6,0x41,0xE0,0x42,0xEC,0x43,0xFA,0x44,0x0B,0x46,
    0x1E,0x47,0x34,0x48,0x4C,0x49,0x67,0x4A,0x84,0x4B,0xA3,0x4C,0xC6,0x4D,0xEA,0x4E,
    0x11,0x50,0x3B,0x51,0x67,0x52,0x95,0x53,0xC6,0x54,0xFA,0x55,0x30,0x57,0x69,0x58,
    0xA4,0x59,0xE2,0x5A,0x22,0x5C,0x65,0x5D,0xAA,0x5E,0xF2,0x5F,0x3D,0x61,0x8A,0x62,
    0xDA,0x63,0x2C,0x65,0x81,0x66,0xD9,0x67,0x33,0x69,0x90,0x6A,0xEF,0x6B,0x51,0x6D,
    0xB6,0x6E,0x1D,0x70,0x87,0x71,0xF3,0x72,0x63,0x74,0xD4,0x75,0x49,0x77,0xC0,0x78,
    0x3A,0x7A,0xB7,0x7B,0x36,0x7D,0xB8,0x7E,0x3C,0x80,0xC4,0x81,0x4E,0x83,0xDB,0x84,
    0x6A,0x86,0xFC,0x87,0x91,0x89,0x29,0x8B,0xC3,0x8C,0x60,0x8E,0x00,0x90,0xA3,0x91,
    0x48,0x93,0xF1,0x94,0x9C,0x96,0x49,0x98,0xFA,0x99,0xAD,0x9B,0x63,0x9D,0x1C,0x9F,
    0xD8,0xA0,0x96,0xA2,0x58,0xA4,0x1C,0xA6,0xE3,0xA7,0xAC,0xA9,0x79,0xAB,0x49,0xAD,
    0x1B,0xAF,0xF0,0xB0,0xC8,0xB2,0xA3,0xB4,0x80,0xB6,0x61,0xB8,0x44,0xBA,0x2B,0xBC,
    0x14,0xBE,0x00,0xC0,0xEF,0xC1,0xE1,0xC3,0xD6,0xC5,0xCD,0xC7,0xC8,0xC9,0xC5,0xCB,
    0xC6,0xCD,0xC9,0xCF,0xCF,0xD1,0xD9,0xD3,0xE5,0xD5,0xF4,0xD7,0x06,0xDA,0x1B,0xDC,
    0x33,0xDE,0x4E,0xE0,0x6C,0xE2,0x8C,0xE4,0xB0,0xE6,0xD7,0xE8,0x01,0xEB,0x2E,0xED,
    0x5D,0xEF,0x90,0xF1,0xC6,0xF3,0xFF,0xF5,0x3B,0xF8,0x79,0xFA,0xBB,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma18[] =
{
    0x00,0x00,0x03,0x00,0x0B,0x00,0x16,0x00,0x25,0x00,0x37,0x00,0x4D,0x00,0x65,0x00,
    0x80,0x00,0x9F,0x00,0xC0,0x00,0xE4,0x00,0x0A,0x01,0x34,0x01,0x60,0x01,0x8E,0x01,
    0xBF,0x01,0xF3,0x01,0x29,0x02,0x61,0x02,0x9C,0x02,0xD9,0x02,0x19,0x03,0x5B,0x03,
    0xA0,0x03,0xE6,0x03,0x2F,0x04,0x7B,0x04,0xC8,0x04,0x18,0x05,0x6A,0x05,0xBE,0x05,
    0x15,0x06,0x6E,0x06,0xC8,0x06,0x25,0x07,0x85,0x07,0xE6,0x07,0x49,0x08,0xAF,0x08,
    0x17,0x09,0x80,0x09,0xEC,0x09,0x5A,0x0A,0xCA,0x0A,0x3C,0x0B,0xB0,0x0B,0x26,0x0C,
    0x9E,0x0C,0x18,0x0D,0x95,0x0D,0x13,0x0E,0x93,0x0E,0x15,0x0F,0x99,0x0F,0x1F,0x10,
    0xA7,0x10,0x31,0x11,0xBD,0x11,0x4B,0x12,0xDB,0x12,0x6D,0x13,0x01,0x14,0x96,0x14,
    0x2E,0x15,0xC7,0x15,0x62,0x16,0x00,0x17,0x9F,0x17,0x40,0x18,0xE3,0x18,0x87,0x19,
    0x2E,0x1A,0xD7,0x1A,0x81,0x1B,0x2D,0x1C,0xDB,0x1C,0x8B,0x1D,0x3D,0x1E,0xF0,0x1E,
    0xA6,0x1F,0x5D,0x20,0x16,0x21,0xD1,0x21,0x8D,0x22,0x4C,0x23,0x0C,0x24,0xCE,0x24,
    0x92,0x25,0x57,0x26,0x1F,0x27,0xE8,0x27,0xB3,0x28,0x80,0x29,0x4E,0x2A,0x1F,0x2B,
    0xF1,0x2B,0xC4,0x2C,0x9A,0x2D,0x71,0x2E,0x4A,0x2F,0x25,0x30,0x02,0x31,0xE0,0x31,
    0xC0,0x32,0xA1,0x33,0x85,0x34,0x6A,0x35,0x51,0x36,0x3A,0x37,0x24,0x38,0x10,0x39,
    0xFE,0x39,0xED,0x3A,0xDE,0x3B,0xD1,0x3C,0xC6,0x3D,0xBC,0x3E,0xB4,0x3F,0xAD,0x40,
    0xA9,0x41,0xA6,0x42,0xA4,0x43,0xA5,0x44,0xA7,0x45,0xAA,0x46,0xB0,0x47,0xB7,0x48,
    0xBF,0x49,0xCA,0x4A,0xD6,0x4B,0xE3,0x4C,0xF3,0x4D,0x03,0x4F,0x16,0x50,0x2A,0x51,
    0x40,0x52,0x58,0x53,0x71,0x54,0x8C,0x55,0xA8,0x56,0xC6,0x57,0xE6,0x58,0x07,0x5A,
    0x2A,0x5B,0x4E,0x5C,0x75,0x5D,0x9C,0x5E,0xC6,0x5F,0xF1,0x60,0x1D,0x62,0x4B,0x63,
    0x7B,0x64,0xAD,0x65,0xE0,0x66,0x14,0x68,0x4B,0x69,0x82,0x6A,0xBC,0x6B,0xF7,0x6C,
    0x33,0x6E,0x72,0x6F,0xB1,0x70,0xF3,0x71,0x36,0x73,0x7A,0x74,0xC0,0x75,0x08,0x77,
    0x51,0x78,0x9C,0x79,0xE8,0x7A,0x36,0x7C,0x86,0x7D,0xD7,0x7E,0x29,0x80,0x7D,0x81,
    0xD3,0x82,0x2A,0x84,0x83,0x85,0xDE,0x86,0x3A,0x88,0x97,0x89,0xF6,0x8A,0x57,0x8C,
    0xB9,0x8D,0x1D,0x8F,0x82,0x90,0xE9,0x91,0x51,0x93,0xBB,0x94,0x26,0x96,0x93,0x97,
    0x02,0x99,0x72,0x9A,0xE3,0x9B,0x56,0x9D,0xCB,0x9E,0x41,0xA0,0xB8,0xA1,0x32,0xA3,
    0xAC,0xA4,0x28,0xA6,0xA6,0xA7,0x25,0xA9,0xA6,0xAA,0x28,0xAC,0xAC,0xAD,0x31,0xAF,
    0xB8,0xB0,0x40,0xB2,0xCA,0xB3,0x55,0xB5,0xE2,0xB6,0x70,0xB8,0x00,0xBA,0x91,0xBB,
    0x24,0xBD,0xB8,0xBE,0x4E,0xC0,0xE5,0xC1,0x7E,0xC3,0x18,0xC5,0xB4,0xC6,0x51,0xC8,
    0xF0,0xC9,0x90,0xCB,0x31,0xCD,0xD5,0xCE,0x79,0xD0,0x1F,0xD2,0xC7,0xD3,0x70,0xD5,
    0x1A,0xD7,0xC6,0xD8,0x74,0xDA,0x23,0xDC,0xD3,0xDD,0x85,0xDF,0x38,0xE1,0xED,0xE2,
    0xA3,0xE4,0x5B,0xE6,0x14,0xE8,0xCF,0xE9,0x8B,0xEB,0x48,0xED,0x07,0xEF,0xC8,0xF0,
    0x8A,0xF2,0x4D,0xF4,0x12,0xF6,0xD8,0xF7,0xA0,0xF9,0x69,0xFB,0x34,0xFD,0x00,0xFF,
};

code BYTE tblDeGamma20[] =
{
    0x00,0x00,0x01,0x00,0x04,0x00,0x09,0x00,0x10,0x00,0x19,0x00,0x24,0x00,0x31,0x00,
    0x40,0x00,0x51,0x00,0x64,0x00,0x79,0x00,0x91,0x00,0xAA,0x00,0xC5,0x00,0xE2,0x00,
    0x01,0x01,0x22,0x01,0x45,0x01,0x6A,0x01,0x92,0x01,0xBB,0x01,0xE6,0x01,0x13,0x02,
    0x42,0x02,0x73,0x02,0xA7,0x02,0xDC,0x02,0x13,0x03,0x4C,0x03,0x88,0x03,0xC5,0x03,
    0x04,0x04,0x45,0x04,0x89,0x04,0xCE,0x04,0x15,0x05,0x5E,0x05,0xAA,0x05,0xF7,0x05,
    0x46,0x06,0x98,0x06,0xEB,0x06,0x40,0x07,0x98,0x07,0xF1,0x07,0x4C,0x08,0xAA,0x08,
    0x09,0x09,0x6A,0x09,0xCE,0x09,0x33,0x0A,0x9B,0x0A,0x04,0x0B,0x6F,0x0B,0xDD,0x0B,
    0x4C,0x0C,0xBE,0x0C,0x31,0x0D,0xA7,0x0D,0x1E,0x0E,0x98,0x0E,0x13,0x0F,0x91,0x0F,
    0x10,0x10,0x92,0x10,0x15,0x11,0x9B,0x11,0x22,0x12,0xAC,0x12,0x37,0x13,0xC5,0x13,
    0x54,0x14,0xE6,0x14,0x79,0x15,0x0F,0x16,0xA7,0x16,0x40,0x17,0xDC,0x17,0x79,0x18,
    0x19,0x19,0xBB,0x19,0x5E,0x1A,0x04,0x1B,0xAC,0x1B,0x55,0x1C,0x01,0x1D,0xAF,0x1D,
    0x5E,0x1E,0x10,0x1F,0xC4,0x1F,0x79,0x20,0x31,0x21,0xEB,0x21,0xA7,0x22,0x64,0x23,
    0x24,0x24,0xE6,0x24,0xAA,0x25,0x6F,0x26,0x37,0x27,0x01,0x28,0xCD,0x28,0x9B,0x29,
    0x6A,0x2A,0x3C,0x2B,0x10,0x2C,0xE6,0x2C,0xBE,0x2D,0x98,0x2E,0x73,0x2F,0x51,0x30,
    0x31,0x31,0x13,0x32,0xF7,0x32,0xDD,0x33,0xC5,0x34,0xAF,0x35,0x9B,0x36,0x89,0x37,
    0x78,0x38,0x6A,0x39,0x5E,0x3A,0x54,0x3B,0x4C,0x3C,0x46,0x3D,0x42,0x3E,0x40,0x3F,
    0x40,0x40,0x42,0x41,0x46,0x42,0x4C,0x43,0x54,0x44,0x5E,0x45,0x6A,0x46,0x78,0x47,
    0x89,0x48,0x9B,0x49,0xAF,0x4A,0xC5,0x4B,0xDD,0x4C,0xF7,0x4D,0x13,0x4F,0x31,0x50,
    0x51,0x51,0x73,0x52,0x98,0x53,0xBE,0x54,0xE6,0x55,0x10,0x57,0x3C,0x58,0x6A,0x59,
    0x9B,0x5A,0xCD,0x5B,0x01,0x5D,0x37,0x5E,0x6F,0x5F,0xAA,0x60,0xE6,0x61,0x24,0x63,
    0x64,0x64,0xA7,0x65,0xEB,0x66,0x31,0x68,0x79,0x69,0xC4,0x6A,0x10,0x6C,0x5E,0x6D,
    0xAF,0x6E,0x01,0x70,0x55,0x71,0xAC,0x72,0x04,0x74,0x5E,0x75,0xBB,0x76,0x19,0x78,
    0x79,0x79,0xDC,0x7A,0x40,0x7C,0xA7,0x7D,0x0F,0x7F,0x79,0x80,0xE6,0x81,0x54,0x83,
    0xC5,0x84,0x37,0x86,0xAC,0x87,0x22,0x89,0x9B,0x8A,0x15,0x8C,0x92,0x8D,0x10,0x8F,
    0x91,0x90,0x13,0x92,0x98,0x93,0x1E,0x95,0xA7,0x96,0x31,0x98,0xBE,0x99,0x4C,0x9B,
    0xDD,0x9C,0x6F,0x9E,0x04,0xA0,0x9B,0xA1,0x33,0xA3,0xCE,0xA4,0x6A,0xA6,0x09,0xA8,
    0xAA,0xA9,0x4C,0xAB,0xF1,0xAC,0x98,0xAE,0x40,0xB0,0xEB,0xB1,0x98,0xB3,0x46,0xB5,
    0xF7,0xB6,0xAA,0xB8,0x5E,0xBA,0x15,0xBC,0xCE,0xBD,0x89,0xBF,0x45,0xC1,0x04,0xC3,
    0xC5,0xC4,0x88,0xC6,0x4C,0xC8,0x13,0xCA,0xDC,0xCB,0xA7,0xCD,0x73,0xCF,0x42,0xD1,
    0x13,0xD3,0xE6,0xD4,0xBB,0xD6,0x92,0xD8,0x6A,0xDA,0x45,0xDC,0x22,0xDE,0x01,0xE0,
    0xE2,0xE1,0xC5,0xE3,0xAA,0xE5,0x91,0xE7,0x79,0xE9,0x64,0xEB,0x51,0xED,0x40,0xEF,
    0x31,0xF1,0x24,0xF3,0x19,0xF5,0x10,0xF7,0x09,0xF9,0x04,0xFB,0x01,0xFD,0x00,0xFF,
};
code BYTE tblDeGamma22[] =
{
    0x00,0x00,0x0C,0x00,0x19,0x00,0x25,0x00,0x32,0x00,0x3E,0x00,0x4B,0x00,0x57,0x00,
    0x64,0x00,0x70,0x00,0x7D,0x00,0x89,0x00,0x95,0x00,0xA2,0x00,0xAE,0x00,0xBB,0x00,
    0xC7,0x00,0xD4,0x00,0xE0,0x00,0xED,0x00,0xF9,0x00,0x0F,0x01,0x31,0x01,0x52,0x01,
    0x74,0x01,0x96,0x01,0xB7,0x01,0xD9,0x01,0xFB,0x01,0x26,0x02,0x53,0x02,0x80,0x02,
    0xAD,0x02,0xDA,0x02,0x08,0x03,0x3E,0x03,0x75,0x03,0xAB,0x03,0xE1,0x03,0x1A,0x04,
    0x59,0x04,0x97,0x04,0xD5,0x04,0x16,0x05,0x5B,0x05,0xA0,0x05,0xE5,0x05,0x2E,0x06,
    0x7B,0x06,0xC7,0x06,0x14,0x07,0x67,0x07,0xB9,0x07,0x0C,0x08,0x65,0x08,0xBD,0x08,
    0x16,0x09,0x73,0x09,0xD1,0x09,0x31,0x0A,0x94,0x0A,0xF6,0x0A,0x5E,0x0B,0xC5,0x0B,
    0x2F,0x0C,0x9C,0x0C,0x09,0x0D,0x7A,0x0D,0xEC,0x0D,0x61,0x0E,0xD7,0x0E,0x50,0x0F,
    0xCA,0x0F,0x46,0x10,0xC4,0x10,0x45,0x11,0xC8,0x11,0x4D,0x12,0xD3,0x12,0x5D,0x13,
    0xE8,0x13,0x75,0x14,0x04,0x15,0x96,0x15,0x29,0x16,0xBF,0x16,0x56,0x17,0xF0,0x17,
    0x8C,0x18,0x2A,0x19,0xCB,0x19,0x6D,0x1A,0x12,0x1B,0xB9,0x1B,0x62,0x1C,0x0D,0x1D,
    0xBA,0x1D,0x6A,0x1E,0x1B,0x1F,0xCF,0x1F,0x85,0x20,0x3D,0x21,0xF8,0x21,0xB5,0x22,
    0x73,0x23,0x34,0x24,0xF8,0x24,0xBD,0x25,0x85,0x26,0x4F,0x27,0x1C,0x28,0xEA,0x28,
    0xBA,0x29,0x8E,0x2A,0x63,0x2B,0x3A,0x2C,0x14,0x2D,0xF0,0x2D,0xCE,0x2E,0xAF,0x2F,
    0x91,0x30,0x77,0x31,0x5E,0x32,0x48,0x33,0x33,0x34,0x22,0x35,0x12,0x36,0x05,0x37,
    0xFB,0x37,0xF2,0x38,0xEB,0x39,0xE8,0x3A,0xE6,0x3B,0xE7,0x3C,0xEA,0x3D,0xEF,0x3E,
    0xF7,0x3F,0x01,0x41,0x0D,0x42,0x1C,0x43,0x2D,0x44,0x41,0x45,0x56,0x46,0x6F,0x47,
    0x89,0x48,0xA6,0x49,0xC5,0x4A,0xE7,0x4B,0x0B,0x4D,0x31,0x4E,0x5A,0x4F,0x85,0x50,
    0xB3,0x51,0xE2,0x52,0x15,0x54,0x49,0x55,0x80,0x56,0xBA,0x57,0xF6,0x58,0x34,0x5A,
    0x75,0x5B,0xB8,0x5C,0xFE,0x5D,0x46,0x5F,0x90,0x60,0xDD,0x61,0x2C,0x63,0x7E,0x64,
    0xD2,0x65,0x28,0x67,0x81,0x68,0xDD,0x69,0x3B,0x6B,0x9B,0x6C,0xFE,0x6D,0x63,0x6F,
    0xCB,0x70,0x35,0x72,0xA2,0x73,0x11,0x75,0x82,0x76,0xF6,0x77,0x6D,0x79,0xE6,0x7A,
    0x61,0x7C,0xDF,0x7D,0x60,0x7F,0xE3,0x80,0x68,0x82,0xF0,0x83,0x7A,0x85,0x07,0x87,
    0x97,0x88,0x29,0x8A,0xBD,0x8B,0x54,0x8D,0xED,0x8E,0x89,0x90,0x28,0x92,0xC9,0x93,
    0x6C,0x95,0x12,0x97,0xBB,0x98,0x66,0x9A,0x14,0x9C,0xC4,0x9D,0x77,0x9F,0x2C,0xA1,
    0xE4,0xA2,0x9E,0xA4,0x5B,0xA6,0x1A,0xA8,0xDC,0xA9,0xA1,0xAB,0x68,0xAD,0x31,0xAF,
    0xFE,0xB0,0xCC,0xB2,0x9E,0xB4,0x72,0xB6,0x48,0xB8,0x21,0xBA,0xFD,0xBB,0xDB,0xBD,
    0xBC,0xBF,0x9F,0xC1,0x85,0xC3,0x6E,0xC5,0x59,0xC7,0x46,0xC9,0x37,0xCB,0x2A,0xCD,
    0x1F,0xCF,0x17,0xD1,0x12,0xD3,0x0F,0xD5,0x0F,0xD7,0x12,0xD9,0x17,0xDB,0x1F,0xDD,
    0x29,0xDF,0x36,0xE1,0x46,0xE3,0x58,0xE5,0x6D,0xE7,0x84,0xE9,0x9E,0xEB,0xBB,0xED,
    0xDA,0xEF,0xFC,0xF1,0x21,0xF4,0x48,0xF6,0x72,0xF8,0x9F,0xFA,0xCE,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma24[] =
{
    0x00,0x00,0x0A,0x00,0x14,0x00,0x1E,0x00,0x28,0x00,0x33,0x00,0x3D,0x00,0x47,0x00,
    0x51,0x00,0x5B,0x00,0x65,0x00,0x6F,0x00,0x79,0x00,0x83,0x00,0x8D,0x00,0x97,0x00,
    0xA2,0x00,0xAC,0x00,0xB6,0x00,0xC0,0x00,0xCA,0x00,0xD4,0x00,0xDE,0x00,0xE8,0x00,
    0xF2,0x00,0xFC,0x00,0x14,0x01,0x32,0x01,0x50,0x01,0x6E,0x01,0x8C,0x01,0xAA,0x01,
    0xC9,0x01,0xE7,0x01,0x07,0x02,0x30,0x02,0x59,0x02,0x82,0x02,0xAC,0x02,0xD5,0x02,
    0xFE,0x02,0x30,0x03,0x62,0x03,0x94,0x03,0xC6,0x03,0xF8,0x03,0x31,0x04,0x6B,0x04,
    0xA6,0x04,0xE0,0x04,0x1E,0x05,0x5F,0x05,0xA0,0x05,0xE1,0x05,0x26,0x06,0x6E,0x06,
    0xB7,0x06,0xFF,0x06,0x4E,0x07,0x9C,0x07,0xEB,0x07,0x3E,0x08,0x92,0x08,0xE7,0x08,
    0x3F,0x09,0x99,0x09,0xF3,0x09,0x52,0x0A,0xB1,0x0A,0x11,0x0B,0x77,0x0B,0xDB,0x0B,
    0x44,0x0C,0xAE,0x0C,0x18,0x0D,0x87,0x0D,0xF5,0x0D,0x68,0x0E,0xDC,0x0E,0x53,0x0F,
    0xC9,0x0F,0x43,0x10,0xC0,0x10,0x3E,0x11,0xBF,0x11,0x42,0x12,0xC7,0x12,0x4E,0x13,
    0xD8,0x13,0x63,0x14,0xF1,0x14,0x83,0x15,0x14,0x16,0xAA,0x16,0x3F,0x17,0xD8,0x17,
    0x73,0x18,0x11,0x19,0xB1,0x19,0x55,0x1A,0xF8,0x1A,0x9F,0x1B,0x48,0x1C,0xF3,0x1C,
    0xA1,0x1D,0x51,0x1E,0x04,0x1F,0xB9,0x1F,0x70,0x20,0x2A,0x21,0xE6,0x21,0xA5,0x22,
    0x66,0x23,0x29,0x24,0xEF,0x24,0xB7,0x25,0x82,0x26,0x4F,0x27,0x1F,0x28,0xF1,0x28,
    0xC7,0x29,0x9D,0x2A,0x76,0x2B,0x52,0x2C,0x31,0x2D,0x12,0x2E,0xF6,0x2E,0xDC,0x2F,
    0xC5,0x30,0xB0,0x31,0x9E,0x32,0x8F,0x33,0x82,0x34,0x78,0x35,0x70,0x36,0x6B,0x37,
    0x68,0x38,0x68,0x39,0x6B,0x3A,0x71,0x3B,0x79,0x3C,0x83,0x3D,0x91,0x3E,0xA1,0x3F,
    0xB4,0x40,0xC9,0x41,0xE1,0x42,0xFC,0x43,0x19,0x45,0x3A,0x46,0x5C,0x47,0x82,0x48,
    0xAB,0x49,0xD6,0x4A,0x04,0x4C,0x34,0x4D,0x68,0x4E,0x9E,0x4F,0xD7,0x50,0x13,0x52,
    0x51,0x53,0x92,0x54,0xD7,0x55,0x1D,0x57,0x67,0x58,0xB4,0x59,0x03,0x5B,0x56,0x5C,
    0xAB,0x5D,0x03,0x5F,0x5E,0x60,0xBB,0x61,0x1C,0x63,0x7F,0x64,0xE6,0x65,0x4F,0x67,
    0xBB,0x68,0x2A,0x6A,0x9C,0x6B,0x11,0x6D,0x89,0x6E,0x04,0x70,0x81,0x71,0x02,0x73,
    0x86,0x74,0x0C,0x76,0x96,0x77,0x22,0x79,0xB0,0x7A,0x44,0x7C,0xDA,0x7D,0x72,0x7F,
    0x0D,0x81,0xAC,0x82,0x4D,0x84,0xF2,0x85,0x99,0x87,0x44,0x89,0xF2,0x8A,0xA2,0x8C,
    0x56,0x8E,0x0D,0x90,0xC7,0x91,0x84,0x93,0x44,0x95,0x07,0x97,0xCD,0x98,0x96,0x9A,
    0x63,0x9C,0x32,0x9E,0x05,0xA0,0xDA,0xA1,0xB3,0xA3,0x8F,0xA5,0x6E,0xA7,0x51,0xA9,
    0x36,0xAB,0x1F,0xAD,0x0A,0xAF,0xF9,0xB0,0xEB,0xB2,0xE1,0xB4,0xD9,0xB6,0xD5,0xB8,
    0xD2,0xBA,0xD6,0xBC,0xDB,0xBE,0xE3,0xC0,0xEF,0xC2,0xFE,0xC4,0x10,0xC7,0x26,0xC9,
    0x3E,0xCB,0x5A,0xCD,0x79,0xCF,0x9B,0xD1,0xC1,0xD3,0xEA,0xD5,0x16,0xD8,0x46,0xDA,
    0x78,0xDC,0xAF,0xDE,0xE8,0xE0,0x25,0xE3,0x64,0xE5,0xA8,0xE7,0xEE,0xE9,0x38,0xEC,
    0x86,0xEE,0xD6,0xF0,0x2A,0xF3,0x81,0xF5,0xDC,0xF7,0x3A,0xFA,0x9B,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma26[] =
{
    0x00,0x00,0x08,0x00,0x11,0x00,0x19,0x00,0x22,0x00,0x2A,0x00,0x33,0x00,0x3B,0x00,
    0x44,0x00,0x4C,0x00,0x55,0x00,0x5D,0x00,0x65,0x00,0x6E,0x00,0x76,0x00,0x7F,0x00,
    0x87,0x00,0x90,0x00,0x98,0x00,0xA1,0x00,0xA9,0x00,0xB2,0x00,0xBA,0x00,0xC3,0x00,
    0xCB,0x00,0xD3,0x00,0xDC,0x00,0xE4,0x00,0xED,0x00,0xF5,0x00,0xFE,0x00,0x14,0x01,
    0x30,0x01,0x4C,0x01,0x67,0x01,0x83,0x01,0x9F,0x01,0xBA,0x01,0xD6,0x01,0xF1,0x01,
    0x12,0x02,0x39,0x02,0x5F,0x02,0x85,0x02,0xAC,0x02,0xD2,0x02,0xF9,0x02,0x26,0x03,
    0x56,0x03,0x85,0x03,0xB5,0x03,0xE4,0x03,0x17,0x04,0x4F,0x04,0x86,0x04,0xBD,0x04,
    0xF5,0x04,0x32,0x05,0x71,0x05,0xB0,0x05,0xEE,0x05,0x32,0x06,0x77,0x06,0xBD,0x06,
    0x02,0x07,0x4E,0x07,0x9A,0x07,0xE6,0x07,0x36,0x08,0x88,0x08,0xD9,0x08,0x2F,0x09,
    0x87,0x09,0xDF,0x09,0x3A,0x0A,0x97,0x0A,0xF5,0x0A,0x57,0x0B,0xBA,0x0B,0x1E,0x0C,
    0x86,0x0C,0xEE,0x0C,0x5A,0x0D,0xC7,0x0D,0x37,0x0E,0xA8,0x0E,0x1C,0x0F,0x92,0x0F,
    0x0A,0x10,0x85,0x10,0x01,0x11,0x82,0x11,0x03,0x12,0x87,0x12,0x0A,0x13,0x94,0x13,
    0x1D,0x14,0xA9,0x14,0x38,0x15,0xC9,0x15,0x5D,0x16,0xF5,0x16,0x8D,0x17,0x28,0x18,
    0xC4,0x18,0x65,0x19,0x05,0x1A,0xAA,0x1A,0x51,0x1B,0xFB,0x1B,0xA7,0x1C,0x56,0x1D,
    0x07,0x1E,0xBA,0x1E,0x71,0x1F,0x2A,0x20,0xE5,0x20,0xA3,0x21,0x64,0x22,0x27,0x23,
    0xED,0x23,0xB6,0x24,0x81,0x25,0x4F,0x26,0x21,0x27,0xF3,0x27,0xC9,0x28,0xA2,0x29,
    0x7D,0x2A,0x5C,0x2B,0x3D,0x2C,0x21,0x2D,0x07,0x2E,0xF1,0x2E,0xDD,0x2F,0xCC,0x30,
    0xBE,0x31,0xB3,0x32,0xAB,0x33,0xA6,0x34,0xA3,0x35,0xA4,0x36,0xA7,0x37,0xAD,0x38,
    0xB7,0x39,0xC3,0x3A,0xD2,0x3B,0xE4,0x3C,0xFA,0x3D,0x12,0x3F,0x2D,0x40,0x4B,0x41,
    0x6D,0x42,0x91,0x43,0xB9,0x44,0xE3,0x45,0x11,0x47,0x42,0x48,0x75,0x49,0xAC,0x4A,
    0xE7,0x4B,0x24,0x4D,0x64,0x4E,0xA8,0x4F,0xEF,0x50,0x39,0x52,0x86,0x53,0xD7,0x54,
    0x2B,0x56,0x82,0x57,0xDC,0x58,0x3A,0x5A,0x9A,0x5B,0xFE,0x5C,0x66,0x5E,0xD1,0x5F,
    0x3F,0x61,0xB0,0x62,0x25,0x64,0x9D,0x65,0x19,0x67,0x98,0x68,0x1A,0x6A,0xA0,0x6B,
    0x29,0x6D,0xB5,0x6E,0x45,0x70,0xD9,0x71,0x70,0x73,0x0A,0x75,0xA8,0x76,0x4A,0x78,
    0xEF,0x79,0x97,0x7B,0x43,0x7D,0xF3,0x7E,0xA6,0x80,0x5C,0x82,0x17,0x84,0xD4,0x85,
    0x96,0x87,0x5B,0x89,0x24,0x8B,0xF0,0x8C,0xC0,0x8E,0x93,0x90,0x6B,0x92,0x46,0x94,
    0x24,0x96,0x06,0x98,0xED,0x99,0xD6,0x9B,0xC4,0x9D,0xB5,0x9F,0xAA,0xA1,0xA3,0xA3,
    0x9F,0xA5,0x9F,0xA7,0xA3,0xA9,0xAB,0xAB,0xB7,0xAD,0xC6,0xAF,0xDA,0xB1,0xF1,0xB3,
    0x0C,0xB6,0x2B,0xB8,0x4D,0xBA,0x74,0xBC,0x9E,0xBE,0xCD,0xC0,0xFF,0xC2,0x36,0xC5,
    0x70,0xC7,0xAE,0xC9,0xF0,0xCB,0x36,0xCE,0x80,0xD0,0xCE,0xD2,0x20,0xD5,0x76,0xD7,
    0xD0,0xD9,0x2E,0xDC,0x90,0xDE,0xF7,0xE0,0x61,0xE3,0xCF,0xE5,0x42,0xE8,0xB8,0xEA,
    0x33,0xED,0xB1,0xEF,0x34,0xF2,0xBB,0xF4,0x46,0xF7,0xD5,0xF9,0x68,0xFC,0x00,0xFF,
};

code BYTE tblDeGamma1886[] =
{    
	0x00,0x00,0x18,0x00,0x2C,0x00,0x44,0x00,0x58,0x00,0x70,0x00,0x84,0x00,0x98,0x00,    
	0xB0,0x00,0xC4,0x00,0xDC,0x00,0xF0,0x00,0x0C,0x01,0x28,0x01,0x44,0x01,0x60,0x01,    
	0x7C,0x01,0x98,0x01,0xB4,0x01,0xD0,0x01,0xF0,0x01,0x10,0x02,0x38,0x02,0x5C,0x02,    
	0x82,0x02,0xAA,0x02,0xD3,0x02,0xF9,0x02,0x25,0x03,0x4E,0x03,0x7D,0x03,0xAD,0x03,    
	0xDF,0x03,0x12,0x04,0x46,0x04,0x7D,0x04,0xB4,0x04,0xED,0x04,0x28,0x05,0x65,0x05,    
	0xA3,0x05,0xE2,0x05,0x23,0x06,0x66,0x06,0xAA,0x06,0xF1,0x06,0x38,0x07,0x82,0x07,    
	0xCD,0x07,0x19,0x08,0x68,0x08,0xB8,0x08,0x09,0x09,0x5D,0x09,0xB2,0x09,0x09,0x0A,    
	0x62,0x0A,0xBC,0x0A,0x19,0x0B,0x77,0x0B,0xD7,0x0B,0x38,0x0C,0x9C,0x0C,0x01,0x0D,    
	0x68,0x0D,0xD1,0x0D,0x3C,0x0E,0xA8,0x0E,0x17,0x0F,0x87,0x0F,0xFA,0x0F,0x6E,0x10,    
	0xE4,0x10,0x5C,0x11,0xD6,0x11,0x52,0x12,0xCF,0x12,0x4F,0x13,0xD1,0x13,0x54,0x14,    
	0xDA,0x14,0x62,0x15,0xEB,0x15,0x77,0x16,0x04,0x17,0x94,0x17,0x26,0x18,0xB9,0x18,    
	0x4F,0x19,0xE7,0x19,0x80,0x1A,0x1C,0x1B,0xBA,0x1B,0x5A,0x1C,0xFC,0x1C,0xA0,0x1D,    
	0x46,0x1E,0xEF,0x1E,0x99,0x1F,0x46,0x20,0xF5,0x20,0xA5,0x21,0x58,0x22,0x0E,0x23,    
	0xC5,0x23,0x7E,0x24,0x3A,0x25,0xF8,0x25,0xB8,0x26,0x7A,0x27,0x3E,0x28,0x05,0x29,    
	0xCE,0x29,0x99,0x2A,0x66,0x2B,0x36,0x2C,0x07,0x2D,0xDB,0x2D,0xB2,0x2E,0x8A,0x2F,    
	0x65,0x30,0x42,0x31,0x22,0x32,0x03,0x33,0xE7,0x33,0xCD,0x34,0xB6,0x35,0xA1,0x36,    
	0x8E,0x37,0x7E,0x38,0x70,0x39,0x64,0x3A,0x5A,0x3B,0x53,0x3C,0x4F,0x3D,0x4C,0x3E,    
	0x4C,0x3F,0x4F,0x40,0x53,0x41,0x5B,0x42,0x64,0x43,0x70,0x44,0x7F,0x45,0x90,0x46,    
	0xA3,0x47,0xB9,0x48,0xD1,0x49,0xEB,0x4A,0x08,0x4C,0x28,0x4D,0x4A,0x4E,0x6E,0x4F,    
	0x95,0x50,0xBE,0x51,0xEA,0x52,0x19,0x54,0x49,0x55,0x7D,0x56,0xB3,0x57,0xEB,0x58,    
	0x26,0x5A,0x63,0x5B,0xA3,0x5C,0xE6,0x5D,0x2B,0x5F,0x72,0x60,0xBC,0x61,0x09,0x63,    
	0x58,0x64,0xAA,0x65,0xFF,0x66,0x56,0x68,0xAF,0x69,0x0B,0x6B,0x6A,0x6C,0xCC,0x6D,    
	0x30,0x6F,0x96,0x70,0xFF,0x71,0x6B,0x73,0xDA,0x74,0x4B,0x76,0xBF,0x77,0x35,0x79,    
	0xAE,0x7A,0x2A,0x7C,0xA8,0x7D,0x29,0x7F,0xAD,0x80,0x34,0x82,0xBD,0x83,0x48,0x85,    
	0xD7,0x86,0x68,0x88,0xFC,0x89,0x93,0x8B,0x2C,0x8D,0xC8,0x8E,0x67,0x90,0x08,0x92,    
	0xAD,0x93,0x54,0x95,0xFD,0x96,0xAA,0x98,0x59,0x9A,0x0B,0x9C,0xC0,0x9D,0x78,0x9F,    
	0x32,0xA1,0xEF,0xA2,0xAF,0xA4,0x72,0xA6,0x37,0xA8,0xFF,0xA9,0xCB,0xAB,0x99,0xAD,    
	0x69,0xAF,0x3D,0xB1,0x13,0xB3,0xEC,0xB4,0xC9,0xB6,0xA7,0xB8,0x89,0xBA,0x6E,0xBC,    
	0x55,0xBE,0x40,0xC0,0x2D,0xC2,0x1D,0xC4,0x10,0xC6,0x06,0xC8,0xFE,0xC9,0xFA,0xCB,    
	0xF9,0xCD,0xFA,0xCF,0xFE,0xD1,0x05,0xD4,0x10,0xD6,0x1D,0xD8,0x2D,0xDA,0x3F,0xDC,    
	0x55,0xDE,0x6E,0xE0,0x8A,0xE2,0xA8,0xE4,0xCA,0xE6,0xEE,0xE8,0x16,0xEB,0x40,0xED,    
	0x6E,0xEF,0x9E,0xF1,0xD2,0xF3,0x08,0xF6,0x41,0xF8,0x7E,0xFA,0xBD,0xFC,0x00,0xFF,
};
#endif

code BYTE tblFixGamma22_Extend_N[] =
{
    // Gamma 0.4545
    0x00,0x00,0x48,0x01,0xC2,0x01,0x1D,0x02,0x69,0x02,0xAB,0x02,0xE6,0x02,0x1C,0x03,
    0x4E,0x03,0x7C,0x03,0xA8,0x03,0xD2,0x03,0xF9,0x03,0x1F,0x04,0x43,0x04,0x66,0x04,
    0x87,0x04,0xA7,0x04,0xC7,0x04,0xE5,0x04,0x03,0x05,0x20,0x05,0x3C,0x05,0x57,0x05,
    0x72,0x05,0x8C,0x05,0xA5,0x05,0xBE,0x05,0xD7,0x05,0xEF,0x05,0x06,0x06,0x1E,0x06,
    0x34,0x06,0x4B,0x06,0x61,0x06,0x76,0x06,0x8C,0x06,0xA1,0x06,0xB5,0x06,0xCA,0x06,
    0xDE,0x06,0xF2,0x06,0x05,0x07,0x19,0x07,0x2C,0x07,0x3F,0x07,0x51,0x07,0x64,0x07,
    0x76,0x07,0x88,0x07,0x9A,0x07,0xAB,0x07,0xBD,0x07,0xCE,0x07,0xDF,0x07,0xF0,0x07,
    0x00,0x08,0x11,0x08,0x21,0x08,0x32,0x08,0x42,0x08,0x52,0x08,0x61,0x08,0x71,0x08,
    0x81,0x08,0x90,0x08,0x9F,0x08,0xAE,0x08,0xBD,0x08,0xCC,0x08,0xDB,0x08,0xEA,0x08,
    0xF8,0x08,0x07,0x09,0x15,0x09,0x23,0x09,0x31,0x09,0x3F,0x09,0x4D,0x09,0x5B,0x09,
    0x69,0x09,0x77,0x09,0x84,0x09,0x92,0x09,0x9F,0x09,0xAC,0x09,0xB9,0x09,0xC7,0x09,
    0xD4,0x09,0xE1,0x09,0xED,0x09,0xFA,0x09,0x07,0x0A,0x14,0x0A,0x20,0x0A,0x2D,0x0A,
    0x39,0x0A,0x45,0x0A,0x52,0x0A,0x5E,0x0A,0x6A,0x0A,0x76,0x0A,0x82,0x0A,0x8E,0x0A,
    0x9A,0x0A,0xA6,0x0A,0xB2,0x0A,0xBD,0x0A,0xC9,0x0A,0xD5,0x0A,0xE0,0x0A,0xEC,0x0A,
    0xF7,0x0A,0x02,0x0B,0x0E,0x0B,0x19,0x0B,0x24,0x0B,0x2F,0x0B,0x3A,0x0B,0x45,0x0B,
    0x50,0x0B,0x5B,0x0B,0x66,0x0B,0x71,0x0B,0x7C,0x0B,0x87,0x0B,0x91,0x0B,0x9C,0x0B,
    0xA7,0x0B,0xB1,0x0B,0xBC,0x0B,0xC6,0x0B,0xD1,0x0B,0xDB,0x0B,0xE5,0x0B,0xF0,0x0B,
    0xFA,0x0B,0x04,0x0C,0x0E,0x0C,0x19,0x0C,0x23,0x0C,0x2D,0x0C,0x37,0x0C,0x41,0x0C,
    0x4B,0x0C,0x55,0x0C,0x5E,0x0C,0x68,0x0C,0x72,0x0C,0x7C,0x0C,0x86,0x0C,0x8F,0x0C,
    0x99,0x0C,0xA3,0x0C,0xAC,0x0C,0xB6,0x0C,0xBF,0x0C,0xC9,0x0C,0xD2,0x0C,0xDC,0x0C,
    0xE5,0x0C,0xEE,0x0C,0xF8,0x0C,0x01,0x0D,0x0A,0x0D,0x14,0x0D,0x1D,0x0D,0x26,0x0D,
    0x2F,0x0D,0x38,0x0D,0x41,0x0D,0x4A,0x0D,0x53,0x0D,0x5C,0x0D,0x65,0x0D,0x6E,0x0D,
    0x77,0x0D,0x80,0x0D,0x89,0x0D,0x92,0x0D,0x9B,0x0D,0xA3,0x0D,0xAC,0x0D,0xB5,0x0D,
    0xBE,0x0D,0xC6,0x0D,0xCF,0x0D,0xD8,0x0D,0xE0,0x0D,0xE9,0x0D,0xF1,0x0D,0xFA,0x0D,
    0x02,0x0E,0x0B,0x0E,0x13,0x0E,0x1C,0x0E,0x24,0x0E,0x2C,0x0E,0x35,0x0E,0x3D,0x0E,
    0x45,0x0E,0x4E,0x0E,0x56,0x0E,0x5E,0x0E,0x66,0x0E,0x6F,0x0E,0x77,0x0E,0x7F,0x0E,
    0x87,0x0E,0x8F,0x0E,0x97,0x0E,0x9F,0x0E,0xA7,0x0E,0xB0,0x0E,0xB8,0x0E,0xC0,0x0E,
    0xC7,0x0E,0xCF,0x0E,0xD7,0x0E,0xDF,0x0E,0xE7,0x0E,0xEF,0x0E,0xF7,0x0E,0xFF,0x0E,
    0x07,0x0F,0x0E,0x0F,0x16,0x0F,0x1E,0x0F,0x26,0x0F,0x2D,0x0F,0x35,0x0F,0x3D,0x0F,
    0x44,0x0F,0x4C,0x0F,0x54,0x0F,0x5B,0x0F,0x63,0x0F,0x6A,0x0F,0x72,0x0F,0x7A,0x0F,
    0x81,0x0F,0x89,0x0F,0x90,0x0F,0x98,0x0F,0x9F,0x0F,0xA6,0x0F,0xAE,0x0F,0xB5,0x0F,
    0xBD,0x0F,0xC4,0x0F,0xCB,0x0F,0xD3,0x0F,0xDA,0x0F,0xE1,0x0F,0xE9,0x0F,0xF0,0x0F,
    0x00,0x00,0x13,0x00,0x1A,0x00,0x20,0x00,0x24,0x00,0x28,0x00,0x2B,0x00,0x2F,0x00,
    0x32,0x00,0x34,0x00,0x37,0x00,0x39,0x00,0x3C,0x00,0x3E,0x00,0x40,0x00,0x42,0x00,
    0x44,0x00,0x46,0x00,0x48,0x00,0x49,0x00,0x4B,0x00,0x4D,0x00,0x4E,0x00,0x50,0x00,
    0x52,0x00,0x53,0x00,0x55,0x00,0x56,0x00,0x58,0x00,0x59,0x00,0x5A,0x00,0x5C,0x00,
    0x5D,0x00,0x67,0x00,0x70,0x00,0x78,0x00,0x80,0x00,0x87,0x00,0x8D,0x00,0x93,0x00,
    0x99,0x00,0x9F,0x00,0xA4,0x00,0xAA,0x00,0xAF,0x00,0xB4,0x00,0xB8,0x00,0xBD,0x00,
    0xC1,0x00,0xC6,0x00,0xCA,0x00,0xCE,0x00,0xD2,0x00,0xD6,0x00,0xDA,0x00,0xDE,0x00,
    0xE1,0x00,0xE5,0x00,0xE9,0x00,0xEC,0x00,0xEF,0x00,0x09,0x01,0x20,0x01,0x35,0x01,
    0x48,0x01,0x5A,0x01,0x6B,0x01,0x7B,0x01,0x8B,0x01,0x99,0x01,0xA7,0x01,0xB5,0x01,
    0xC2,0x01,0xCE,0x01,0xDA,0x01,0xE6,0x01,0xF2,0x01,0xFD,0x01,0x08,0x02,0x12,0x02,
    0x1D,0x02,0x27,0x02,0x31,0x02,0x3A,0x02,0x44,0x02,0x4D,0x02,0x56,0x02,0x5F,0x02,
};

#endif

#if ENABLE_GAMMA_FUNCTION
#if XVYCC_GAMMA_EXT
code BYTE tblFixGamma10_N[] =
{
    0x00,0x00,0x10,0x00,0x20,0x00,0x30,0x00,0x40,0x00,0x50,0x00,0x60,0x00,0x70,0x00,
    0x80,0x00,0x90,0x00,0xA0,0x00,0xB0,0x00,0xC0,0x00,0xD0,0x00,0xE0,0x00,0xF0,0x00,
    0x00,0x01,0x10,0x01,0x20,0x01,0x30,0x01,0x40,0x01,0x50,0x01,0x60,0x01,0x70,0x01,
    0x80,0x01,0x90,0x01,0xA0,0x01,0xB0,0x01,0xC0,0x01,0xD0,0x01,0xE0,0x01,0xF0,0x01,
    0x00,0x02,0x10,0x02,0x20,0x02,0x30,0x02,0x40,0x02,0x50,0x02,0x60,0x02,0x70,0x02,
    0x80,0x02,0x90,0x02,0xA0,0x02,0xB0,0x02,0xC0,0x02,0xD0,0x02,0xE0,0x02,0xF0,0x02,
    0x00,0x03,0x10,0x03,0x20,0x03,0x30,0x03,0x40,0x03,0x50,0x03,0x60,0x03,0x70,0x03,
    0x80,0x03,0x90,0x03,0xA0,0x03,0xB0,0x03,0xC0,0x03,0xD0,0x03,0xE0,0x03,0xF0,0x03,
    0x00,0x04,0x10,0x04,0x20,0x04,0x30,0x04,0x40,0x04,0x50,0x04,0x60,0x04,0x70,0x04,
    0x80,0x04,0x90,0x04,0xA0,0x04,0xB0,0x04,0xC0,0x04,0xD0,0x04,0xE0,0x04,0xF0,0x04,
    0x00,0x05,0x10,0x05,0x20,0x05,0x30,0x05,0x40,0x05,0x50,0x05,0x60,0x05,0x70,0x05,
    0x80,0x05,0x90,0x05,0xA0,0x05,0xB0,0x05,0xC0,0x05,0xD0,0x05,0xE0,0x05,0xF0,0x05,
    0x00,0x06,0x10,0x06,0x20,0x06,0x30,0x06,0x40,0x06,0x50,0x06,0x60,0x06,0x70,0x06,
    0x80,0x06,0x90,0x06,0xA0,0x06,0xB0,0x06,0xC0,0x06,0xD0,0x06,0xE0,0x06,0xF0,0x06,
    0x00,0x07,0x10,0x07,0x20,0x07,0x30,0x07,0x40,0x07,0x50,0x07,0x60,0x07,0x70,0x07,
    0x80,0x07,0x90,0x07,0xA0,0x07,0xB0,0x07,0xC0,0x07,0xD0,0x07,0xE0,0x07,0xF0,0x07,
    0x00,0x08,0x10,0x08,0x20,0x08,0x30,0x08,0x40,0x08,0x50,0x08,0x60,0x08,0x70,0x08,
    0x80,0x08,0x90,0x08,0xA0,0x08,0xB0,0x08,0xC0,0x08,0xD0,0x08,0xE0,0x08,0xF0,0x08,
    0x00,0x09,0x10,0x09,0x20,0x09,0x30,0x09,0x40,0x09,0x50,0x09,0x60,0x09,0x70,0x09,
    0x80,0x09,0x90,0x09,0xA0,0x09,0xB0,0x09,0xC0,0x09,0xD0,0x09,0xE0,0x09,0xF0,0x09,
    0x00,0x0A,0x10,0x0A,0x20,0x0A,0x30,0x0A,0x40,0x0A,0x50,0x0A,0x60,0x0A,0x70,0x0A,
    0x80,0x0A,0x90,0x0A,0xA0,0x0A,0xB0,0x0A,0xC0,0x0A,0xD0,0x0A,0xE0,0x0A,0xF0,0x0A,
    0x00,0x0B,0x10,0x0B,0x20,0x0B,0x30,0x0B,0x40,0x0B,0x50,0x0B,0x60,0x0B,0x70,0x0B,
    0x80,0x0B,0x90,0x0B,0xA0,0x0B,0xB0,0x0B,0xC0,0x0B,0xD0,0x0B,0xE0,0x0B,0xF0,0x0B,
    0x00,0x0C,0x10,0x0C,0x20,0x0C,0x30,0x0C,0x40,0x0C,0x50,0x0C,0x60,0x0C,0x70,0x0C,
    0x80,0x0C,0x90,0x0C,0xA0,0x0C,0xB0,0x0C,0xC0,0x0C,0xD0,0x0C,0xE0,0x0C,0xF0,0x0C,
    0x00,0x0D,0x10,0x0D,0x20,0x0D,0x30,0x0D,0x40,0x0D,0x50,0x0D,0x60,0x0D,0x70,0x0D,
    0x80,0x0D,0x90,0x0D,0xA0,0x0D,0xB0,0x0D,0xC0,0x0D,0xD0,0x0D,0xE0,0x0D,0xF0,0x0D,
    0x00,0x0E,0x10,0x0E,0x20,0x0E,0x30,0x0E,0x40,0x0E,0x50,0x0E,0x60,0x0E,0x70,0x0E,
    0x80,0x0E,0x90,0x0E,0xA0,0x0E,0xB0,0x0E,0xC0,0x0E,0xD0,0x0E,0xE0,0x0E,0xF0,0x0E,
    0x00,0x0F,0x10,0x0F,0x20,0x0F,0x30,0x0F,0x40,0x0F,0x50,0x0F,0x60,0x0F,0x70,0x0F,
    0x80,0x0F,0x90,0x0F,0xA0,0x0F,0xB0,0x0F,0xC0,0x0F,0xD0,0x0F,0xE0,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x03,0x00,
    0x03,0x00,0x03,0x00,0x03,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x05,0x00,
    0x05,0x00,0x05,0x00,0x05,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x07,0x00,
    0x07,0x00,0x07,0x00,0x07,0x00,0x08,0x00,0x08,0x00,0x0A,0x00,0x0C,0x00,0x0E,0x00,
    0x10,0x00,0x12,0x00,0x14,0x00,0x16,0x00,0x18,0x00,0x1A,0x00,0x1C,0x00,0x1E,0x00,
    0x20,0x00,0x22,0x00,0x24,0x00,0x26,0x00,0x28,0x00,0x2A,0x00,0x2C,0x00,0x2E,0x00,
    0x30,0x00,0x32,0x00,0x34,0x00,0x36,0x00,0x38,0x00,0x3A,0x00,0x3C,0x00,0x3E,0x00,
};

code BYTE tblFixGamma072_N[] =
{
    0x00,0x00,0x4B,0x00,0x7C,0x00,0xA6,0x00,0xCD,0x00,0xF1,0x00,0x12,0x01,0x32,0x01,
    0x51,0x01,0x6F,0x01,0x8C,0x01,0xA8,0x01,0xC4,0x01,0xDF,0x01,0xF9,0x01,0x13,0x02,
    0x2C,0x02,0x45,0x02,0x5D,0x02,0x75,0x02,0x8D,0x02,0xA4,0x02,0xBB,0x02,0xD2,0x02,
    0xE8,0x02,0xFE,0x02,0x14,0x03,0x2A,0x03,0x40,0x03,0x55,0x03,0x6A,0x03,0x7F,0x03,
    0x94,0x03,0xA8,0x03,0xBC,0x03,0xD1,0x03,0xE5,0x03,0xF8,0x03,0x0C,0x04,0x20,0x04,
    0x33,0x04,0x46,0x04,0x5A,0x04,0x6D,0x04,0x7F,0x04,0x92,0x04,0xA5,0x04,0xB7,0x04,
    0xCA,0x04,0xDC,0x04,0xEE,0x04,0x01,0x05,0x13,0x05,0x25,0x05,0x36,0x05,0x48,0x05,
    0x5A,0x05,0x6B,0x05,0x7D,0x05,0x8E,0x05,0xA0,0x05,0xB1,0x05,0xC2,0x05,0xD3,0x05,
    0xE4,0x05,0xF5,0x05,0x06,0x06,0x17,0x06,0x27,0x06,0x38,0x06,0x49,0x06,0x59,0x06,
    0x69,0x06,0x7A,0x06,0x8A,0x06,0x9A,0x06,0xAB,0x06,0xBB,0x06,0xCB,0x06,0xDB,0x06,
    0xEB,0x06,0xFB,0x06,0x0B,0x07,0x1A,0x07,0x2A,0x07,0x3A,0x07,0x49,0x07,0x59,0x07,
    0x69,0x07,0x78,0x07,0x88,0x07,0x97,0x07,0xA6,0x07,0xB6,0x07,0xC5,0x07,0xD4,0x07,
    0xE3,0x07,0xF2,0x07,0x01,0x08,0x10,0x08,0x1F,0x08,0x2E,0x08,0x3D,0x08,0x4C,0x08,
    0x5B,0x08,0x6A,0x08,0x79,0x08,0x87,0x08,0x96,0x08,0xA5,0x08,0xB3,0x08,0xC2,0x08,
    0xD0,0x08,0xDF,0x08,0xED,0x08,0xFC,0x08,0x0A,0x09,0x18,0x09,0x27,0x09,0x35,0x09,
    0x43,0x09,0x51,0x09,0x60,0x09,0x6E,0x09,0x7C,0x09,0x8A,0x09,0x98,0x09,0xA6,0x09,
    0xB4,0x09,0xC2,0x09,0xD0,0x09,0xDE,0x09,0xEC,0x09,0xF9,0x09,0x07,0x0A,0x15,0x0A,
    0x23,0x0A,0x30,0x0A,0x3E,0x0A,0x4C,0x0A,0x59,0x0A,0x67,0x0A,0x75,0x0A,0x82,0x0A,
    0x90,0x0A,0x9D,0x0A,0xAB,0x0A,0xB8,0x0A,0xC6,0x0A,0xD3,0x0A,0xE0,0x0A,0xEE,0x0A,
    0xFB,0x0A,0x08,0x0B,0x16,0x0B,0x23,0x0B,0x30,0x0B,0x3D,0x0B,0x4B,0x0B,0x58,0x0B,
    0x65,0x0B,0x72,0x0B,0x7F,0x0B,0x8C,0x0B,0x99,0x0B,0xA6,0x0B,0xB3,0x0B,0xC0,0x0B,
    0xCD,0x0B,0xDA,0x0B,0xE7,0x0B,0xF4,0x0B,0x01,0x0C,0x0E,0x0C,0x1A,0x0C,0x27,0x0C,
    0x34,0x0C,0x41,0x0C,0x4E,0x0C,0x5A,0x0C,0x67,0x0C,0x74,0x0C,0x80,0x0C,0x8D,0x0C,
    0x9A,0x0C,0xA6,0x0C,0xB3,0x0C,0xBF,0x0C,0xCC,0x0C,0xD9,0x0C,0xE5,0x0C,0xF2,0x0C,
    0xFE,0x0C,0x0B,0x0D,0x17,0x0D,0x23,0x0D,0x30,0x0D,0x3C,0x0D,0x49,0x0D,0x55,0x0D,
    0x61,0x0D,0x6E,0x0D,0x7A,0x0D,0x86,0x0D,0x92,0x0D,0x9F,0x0D,0xAB,0x0D,0xB7,0x0D,
    0xC3,0x0D,0xD0,0x0D,0xDC,0x0D,0xE8,0x0D,0xF4,0x0D,0x00,0x0E,0x0C,0x0E,0x18,0x0E,
    0x24,0x0E,0x30,0x0E,0x3D,0x0E,0x49,0x0E,0x55,0x0E,0x61,0x0E,0x6D,0x0E,0x79,0x0E,
    0x84,0x0E,0x90,0x0E,0x9C,0x0E,0xA8,0x0E,0xB4,0x0E,0xC0,0x0E,0xCC,0x0E,0xD8,0x0E,
    0xE4,0x0E,0xEF,0x0E,0xFB,0x0E,0x07,0x0F,0x13,0x0F,0x1F,0x0F,0x2A,0x0F,0x36,0x0F,
    0x42,0x0F,0x4D,0x0F,0x59,0x0F,0x65,0x0F,0x71,0x0F,0x7C,0x0F,0x88,0x0F,0x93,0x0F,
    0x9F,0x0F,0xAB,0x0F,0xB6,0x0F,0xC2,0x0F,0xCD,0x0F,0xD9,0x0F,0xE4,0x0F,0xF0,0x0F,
    0x00,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x02,0x00,0x03,0x00,0x03,0x00,0x03,0x00,
    0x04,0x00,0x04,0x00,0x04,0x00,0x05,0x00,0x05,0x00,0x05,0x00,0x06,0x00,0x06,0x00,
    0x06,0x00,0x06,0x00,0x07,0x00,0x07,0x00,0x07,0x00,0x08,0x00,0x08,0x00,0x08,0x00,
    0x08,0x00,0x09,0x00,0x09,0x00,0x09,0x00,0x09,0x00,0x0A,0x00,0x0A,0x00,0x0A,0x00,
    0x0A,0x00,0x0C,0x00,0x0E,0x00,0x0F,0x00,0x11,0x00,0x12,0x00,0x14,0x00,0x15,0x00,
    0x17,0x00,0x18,0x00,0x19,0x00,0x1A,0x00,0x1C,0x00,0x1D,0x00,0x1E,0x00,0x1F,0x00,
    0x21,0x00,0x22,0x00,0x23,0x00,0x24,0x00,0x25,0x00,0x26,0x00,0x27,0x00,0x28,0x00,
    0x2A,0x00,0x2B,0x00,0x2C,0x00,0x2D,0x00,0x2E,0x00,0x36,0x00,0x3D,0x00,0x44,0x00,
    0x4B,0x00,0x52,0x00,0x58,0x00,0x5F,0x00,0x65,0x00,0x6B,0x00,0x71,0x00,0x76,0x00,
    0x7C,0x00,0x82,0x00,0x87,0x00,0x8C,0x00,0x92,0x00,0x97,0x00,0x9C,0x00,0xA1,0x00,
    0xA6,0x00,0xAB,0x00,0xB0,0x00,0xB5,0x00,0xBA,0x00,0xBE,0x00,0xC3,0x00,0xC8,0x00,
};

code BYTE tblFixGamma081_N[] =
{
    0x00,0x00,0x2E,0x00,0x50,0x00,0x6F,0x00,0x8D,0x00,0xA9,0x00,0xC4,0x00,0xDE,0x00,
    0xF7,0x00,0x10,0x01,0x28,0x01,0x40,0x01,0x57,0x01,0x6E,0x01,0x85,0x01,0x9B,0x01,
    0xB1,0x01,0xC7,0x01,0xDD,0x01,0xF2,0x01,0x07,0x02,0x1C,0x02,0x31,0x02,0x45,0x02,
    0x5A,0x02,0x6E,0x02,0x82,0x02,0x96,0x02,0xAA,0x02,0xBD,0x02,0xD1,0x02,0xE4,0x02,
    0xF8,0x02,0x0B,0x03,0x1E,0x03,0x31,0x03,0x44,0x03,0x56,0x03,0x69,0x03,0x7C,0x03,
    0x8E,0x03,0xA0,0x03,0xB3,0x03,0xC5,0x03,0xD7,0x03,0xE9,0x03,0xFB,0x03,0x0D,0x04,
    0x1F,0x04,0x31,0x04,0x42,0x04,0x54,0x04,0x65,0x04,0x77,0x04,0x88,0x04,0x9A,0x04,
    0xAB,0x04,0xBC,0x04,0xCE,0x04,0xDF,0x04,0xF0,0x04,0x01,0x05,0x12,0x05,0x23,0x05,
    0x34,0x05,0x44,0x05,0x55,0x05,0x66,0x05,0x77,0x05,0x87,0x05,0x98,0x05,0xA8,0x05,
    0xB9,0x05,0xC9,0x05,0xDA,0x05,0xEA,0x05,0xFA,0x05,0x0B,0x06,0x1B,0x06,0x2B,0x06,
    0x3B,0x06,0x4C,0x06,0x5C,0x06,0x6C,0x06,0x7C,0x06,0x8C,0x06,0x9C,0x06,0xAC,0x06,
    0xBB,0x06,0xCB,0x06,0xDB,0x06,0xEB,0x06,0xFB,0x06,0x0A,0x07,0x1A,0x07,0x2A,0x07,
    0x39,0x07,0x49,0x07,0x58,0x07,0x68,0x07,0x77,0x07,0x87,0x07,0x96,0x07,0xA6,0x07,
    0xB5,0x07,0xC5,0x07,0xD4,0x07,0xE3,0x07,0xF2,0x07,0x02,0x08,0x11,0x08,0x20,0x08,
    0x2F,0x08,0x3E,0x08,0x4D,0x08,0x5D,0x08,0x6C,0x08,0x7B,0x08,0x8A,0x08,0x99,0x08,
    0xA8,0x08,0xB7,0x08,0xC6,0x08,0xD4,0x08,0xE3,0x08,0xF2,0x08,0x01,0x09,0x10,0x09,
    0x1F,0x09,0x2D,0x09,0x3C,0x09,0x4B,0x09,0x59,0x09,0x68,0x09,0x77,0x09,0x85,0x09,
    0x94,0x09,0xA3,0x09,0xB1,0x09,0xC0,0x09,0xCE,0x09,0xDD,0x09,0xEB,0x09,0xFA,0x09,
    0x08,0x0A,0x17,0x0A,0x25,0x0A,0x33,0x0A,0x42,0x0A,0x50,0x0A,0x5F,0x0A,0x6D,0x0A,
    0x7B,0x0A,0x8A,0x0A,0x98,0x0A,0xA6,0x0A,0xB4,0x0A,0xC2,0x0A,0xD1,0x0A,0xDF,0x0A,
    0xED,0x0A,0xFB,0x0A,0x09,0x0B,0x17,0x0B,0x26,0x0B,0x34,0x0B,0x42,0x0B,0x50,0x0B,
    0x5E,0x0B,0x6C,0x0B,0x7A,0x0B,0x88,0x0B,0x96,0x0B,0xA4,0x0B,0xB2,0x0B,0xC0,0x0B,
    0xCE,0x0B,0xDB,0x0B,0xE9,0x0B,0xF7,0x0B,0x05,0x0C,0x13,0x0C,0x21,0x0C,0x2F,0x0C,
    0x3C,0x0C,0x4A,0x0C,0x58,0x0C,0x66,0x0C,0x73,0x0C,0x81,0x0C,0x8F,0x0C,0x9C,0x0C,
    0xAA,0x0C,0xB8,0x0C,0xC6,0x0C,0xD3,0x0C,0xE1,0x0C,0xEE,0x0C,0xFC,0x0C,0x0A,0x0D,
    0x17,0x0D,0x25,0x0D,0x32,0x0D,0x40,0x0D,0x4D,0x0D,0x5B,0x0D,0x68,0x0D,0x76,0x0D,
    0x83,0x0D,0x91,0x0D,0x9E,0x0D,0xAC,0x0D,0xB9,0x0D,0xC7,0x0D,0xD4,0x0D,0xE1,0x0D,
    0xEF,0x0D,0xFC,0x0D,0x09,0x0E,0x17,0x0E,0x24,0x0E,0x31,0x0E,0x3F,0x0E,0x4C,0x0E,
    0x59,0x0E,0x67,0x0E,0x74,0x0E,0x81,0x0E,0x8E,0x0E,0x9C,0x0E,0xA9,0x0E,0xB6,0x0E,
    0xC3,0x0E,0xD0,0x0E,0xDE,0x0E,0xEB,0x0E,0xF8,0x0E,0x05,0x0F,0x12,0x0F,0x1F,0x0F,
    0x2C,0x0F,0x3A,0x0F,0x47,0x0F,0x54,0x0F,0x61,0x0F,0x6E,0x0F,0x7B,0x0F,0x88,0x0F,
    0x95,0x0F,0xA2,0x0F,0xAF,0x0F,0xBC,0x0F,0xC9,0x0F,0xD6,0x0F,0xE3,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x03,0x00,
    0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x04,0x00,0x04,0x00,
    0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x05,0x00,0x05,0x00,
    0x05,0x00,0x06,0x00,0x07,0x00,0x08,0x00,0x08,0x00,0x09,0x00,0x0A,0x00,0x0B,0x00,
    0x0C,0x00,0x0D,0x00,0x0D,0x00,0x0E,0x00,0x0F,0x00,0x10,0x00,0x10,0x00,0x11,0x00,
    0x12,0x00,0x13,0x00,0x13,0x00,0x14,0x00,0x15,0x00,0x15,0x00,0x16,0x00,0x17,0x00,
    0x17,0x00,0x18,0x00,0x19,0x00,0x19,0x00,0x1A,0x00,0x1F,0x00,0x24,0x00,0x29,0x00,
    0x2E,0x00,0x32,0x00,0x37,0x00,0x3B,0x00,0x3F,0x00,0x44,0x00,0x48,0x00,0x4C,0x00,
    0x50,0x00,0x54,0x00,0x58,0x00,0x5C,0x00,0x60,0x00,0x64,0x00,0x68,0x00,0x6C,0x00,
    0x6F,0x00,0x73,0x00,0x77,0x00,0x7A,0x00,0x7E,0x00,0x82,0x00,0x85,0x00,0x89,0x00,
};

code BYTE tblFixGamma090_N[] =
{
    0x00,0x00,0x1C,0x00,0x34,0x00,0x4B,0x00,0x61,0x00,0x77,0x00,0x8C,0x00,0xA0,0x00,
    0xB5,0x00,0xC9,0x00,0xDD,0x00,0xF1,0x00,0x05,0x01,0x18,0x01,0x2B,0x01,0x3F,0x01,
    0x52,0x01,0x65,0x01,0x77,0x01,0x8A,0x01,0x9D,0x01,0xAF,0x01,0xC2,0x01,0xD4,0x01,
    0xE6,0x01,0xF9,0x01,0x0B,0x02,0x1D,0x02,0x2F,0x02,0x41,0x02,0x53,0x02,0x64,0x02,
    0x76,0x02,0x88,0x02,0x99,0x02,0xAB,0x02,0xBD,0x02,0xCE,0x02,0xDF,0x02,0xF1,0x02,
    0x02,0x03,0x14,0x03,0x25,0x03,0x36,0x03,0x47,0x03,0x58,0x03,0x69,0x03,0x7B,0x03,
    0x8C,0x03,0x9D,0x03,0xAE,0x03,0xBE,0x03,0xCF,0x03,0xE0,0x03,0xF1,0x03,0x02,0x04,
    0x13,0x04,0x23,0x04,0x34,0x04,0x45,0x04,0x55,0x04,0x66,0x04,0x77,0x04,0x87,0x04,
    0x98,0x04,0xA8,0x04,0xB9,0x04,0xC9,0x04,0xDA,0x04,0xEA,0x04,0xFB,0x04,0x0B,0x05,
    0x1B,0x05,0x2C,0x05,0x3C,0x05,0x4C,0x05,0x5C,0x05,0x6D,0x05,0x7D,0x05,0x8D,0x05,
    0x9D,0x05,0xAD,0x05,0xBE,0x05,0xCE,0x05,0xDE,0x05,0xEE,0x05,0xFE,0x05,0x0E,0x06,
    0x1E,0x06,0x2E,0x06,0x3E,0x06,0x4E,0x06,0x5E,0x06,0x6E,0x06,0x7E,0x06,0x8E,0x06,
    0x9E,0x06,0xAD,0x06,0xBD,0x06,0xCD,0x06,0xDD,0x06,0xED,0x06,0xFD,0x06,0x0C,0x07,
    0x1C,0x07,0x2C,0x07,0x3C,0x07,0x4B,0x07,0x5B,0x07,0x6B,0x07,0x7A,0x07,0x8A,0x07,
    0x9A,0x07,0xA9,0x07,0xB9,0x07,0xC9,0x07,0xD8,0x07,0xE8,0x07,0xF7,0x07,0x07,0x08,
    0x16,0x08,0x26,0x08,0x35,0x08,0x45,0x08,0x54,0x08,0x64,0x08,0x73,0x08,0x83,0x08,
    0x92,0x08,0xA2,0x08,0xB1,0x08,0xC0,0x08,0xD0,0x08,0xDF,0x08,0xEE,0x08,0xFE,0x08,
    0x0D,0x09,0x1D,0x09,0x2C,0x09,0x3B,0x09,0x4A,0x09,0x5A,0x09,0x69,0x09,0x78,0x09,
    0x87,0x09,0x97,0x09,0xA6,0x09,0xB5,0x09,0xC4,0x09,0xD4,0x09,0xE3,0x09,0xF2,0x09,
    0x01,0x0A,0x10,0x0A,0x1F,0x0A,0x2F,0x0A,0x3E,0x0A,0x4D,0x0A,0x5C,0x0A,0x6B,0x0A,
    0x7A,0x0A,0x89,0x0A,0x98,0x0A,0xA7,0x0A,0xB6,0x0A,0xC5,0x0A,0xD4,0x0A,0xE4,0x0A,
    0xF3,0x0A,0x02,0x0B,0x11,0x0B,0x20,0x0B,0x2F,0x0B,0x3E,0x0B,0x4C,0x0B,0x5B,0x0B,
    0x6A,0x0B,0x79,0x0B,0x88,0x0B,0x97,0x0B,0xA6,0x0B,0xB5,0x0B,0xC4,0x0B,0xD3,0x0B,
    0xE2,0x0B,0xF1,0x0B,0xFF,0x0B,0x0E,0x0C,0x1D,0x0C,0x2C,0x0C,0x3B,0x0C,0x4A,0x0C,
    0x58,0x0C,0x67,0x0C,0x76,0x0C,0x85,0x0C,0x94,0x0C,0xA2,0x0C,0xB1,0x0C,0xC0,0x0C,
    0xCF,0x0C,0xDD,0x0C,0xEC,0x0C,0xFB,0x0C,0x0A,0x0D,0x18,0x0D,0x27,0x0D,0x36,0x0D,
    0x44,0x0D,0x53,0x0D,0x62,0x0D,0x71,0x0D,0x7F,0x0D,0x8E,0x0D,0x9D,0x0D,0xAB,0x0D,
    0xBA,0x0D,0xC8,0x0D,0xD7,0x0D,0xE6,0x0D,0xF4,0x0D,0x03,0x0E,0x12,0x0E,0x20,0x0E,
    0x2F,0x0E,0x3D,0x0E,0x4C,0x0E,0x5A,0x0E,0x69,0x0E,0x78,0x0E,0x86,0x0E,0x95,0x0E,
    0xA3,0x0E,0xB2,0x0E,0xC0,0x0E,0xCF,0x0E,0xDD,0x0E,0xEC,0x0E,0xFA,0x0E,0x09,0x0F,
    0x17,0x0F,0x26,0x0F,0x34,0x0F,0x43,0x0F,0x51,0x0F,0x60,0x0F,0x6E,0x0F,0x7D,0x0F,
    0x8B,0x0F,0x99,0x0F,0xA8,0x0F,0xB6,0x0F,0xC5,0x0F,0xD3,0x0F,0xE2,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x02,0x00,0x02,0x00,
    0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,
    0x02,0x00,0x03,0x00,0x03,0x00,0x04,0x00,0x04,0x00,0x05,0x00,0x05,0x00,0x06,0x00,
    0x06,0x00,0x07,0x00,0x07,0x00,0x08,0x00,0x08,0x00,0x08,0x00,0x09,0x00,0x09,0x00,
    0x0A,0x00,0x0A,0x00,0x0B,0x00,0x0B,0x00,0x0B,0x00,0x0C,0x00,0x0C,0x00,0x0D,0x00,
    0x0D,0x00,0x0E,0x00,0x0E,0x00,0x0E,0x00,0x0F,0x00,0x12,0x00,0x15,0x00,0x19,0x00,
    0x1C,0x00,0x1F,0x00,0x22,0x00,0x25,0x00,0x28,0x00,0x2B,0x00,0x2E,0x00,0x31,0x00,
    0x34,0x00,0x37,0x00,0x3A,0x00,0x3C,0x00,0x3F,0x00,0x42,0x00,0x45,0x00,0x48,0x00,
    0x4B,0x00,0x4D,0x00,0x50,0x00,0x53,0x00,0x56,0x00,0x58,0x00,0x5B,0x00,0x5E,0x00,
};

code BYTE tblFixGamma100_N[] =
{
    0x00,0x00,0x10,0x00,0x20,0x00,0x30,0x00,0x40,0x00,0x50,0x00,0x60,0x00,0x70,0x00,
    0x80,0x00,0x90,0x00,0xA0,0x00,0xB0,0x00,0xC0,0x00,0xD0,0x00,0xE0,0x00,0xF0,0x00,
    0x00,0x01,0x10,0x01,0x20,0x01,0x30,0x01,0x40,0x01,0x50,0x01,0x60,0x01,0x70,0x01,
    0x80,0x01,0x90,0x01,0xA0,0x01,0xB0,0x01,0xC0,0x01,0xD0,0x01,0xE0,0x01,0xF0,0x01,
    0x00,0x02,0x10,0x02,0x20,0x02,0x30,0x02,0x40,0x02,0x50,0x02,0x60,0x02,0x70,0x02,
    0x80,0x02,0x90,0x02,0xA0,0x02,0xB0,0x02,0xC0,0x02,0xD0,0x02,0xE0,0x02,0xF0,0x02,
    0x00,0x03,0x10,0x03,0x20,0x03,0x30,0x03,0x40,0x03,0x50,0x03,0x60,0x03,0x70,0x03,
    0x80,0x03,0x90,0x03,0xA0,0x03,0xB0,0x03,0xC0,0x03,0xD0,0x03,0xE0,0x03,0xF0,0x03,
    0x00,0x04,0x10,0x04,0x20,0x04,0x30,0x04,0x40,0x04,0x50,0x04,0x60,0x04,0x70,0x04,
    0x80,0x04,0x90,0x04,0xA0,0x04,0xB0,0x04,0xC0,0x04,0xD0,0x04,0xE0,0x04,0xF0,0x04,
    0x00,0x05,0x10,0x05,0x20,0x05,0x30,0x05,0x40,0x05,0x50,0x05,0x60,0x05,0x70,0x05,
    0x80,0x05,0x90,0x05,0xA0,0x05,0xB0,0x05,0xC0,0x05,0xD0,0x05,0xE0,0x05,0xF0,0x05,
    0x00,0x06,0x10,0x06,0x20,0x06,0x30,0x06,0x40,0x06,0x50,0x06,0x60,0x06,0x70,0x06,
    0x80,0x06,0x90,0x06,0xA0,0x06,0xB0,0x06,0xC0,0x06,0xD0,0x06,0xE0,0x06,0xF0,0x06,
    0x00,0x07,0x10,0x07,0x20,0x07,0x30,0x07,0x40,0x07,0x50,0x07,0x60,0x07,0x70,0x07,
    0x80,0x07,0x90,0x07,0xA0,0x07,0xB0,0x07,0xC0,0x07,0xD0,0x07,0xE0,0x07,0xF0,0x07,
    0x00,0x08,0x10,0x08,0x20,0x08,0x30,0x08,0x40,0x08,0x50,0x08,0x60,0x08,0x70,0x08,
    0x80,0x08,0x90,0x08,0xA0,0x08,0xB0,0x08,0xC0,0x08,0xD0,0x08,0xE0,0x08,0xF0,0x08,
    0x00,0x09,0x10,0x09,0x20,0x09,0x30,0x09,0x40,0x09,0x50,0x09,0x60,0x09,0x70,0x09,
    0x80,0x09,0x90,0x09,0xA0,0x09,0xB0,0x09,0xC0,0x09,0xD0,0x09,0xE0,0x09,0xF0,0x09,
    0x00,0x0A,0x10,0x0A,0x20,0x0A,0x30,0x0A,0x40,0x0A,0x50,0x0A,0x60,0x0A,0x70,0x0A,
    0x80,0x0A,0x90,0x0A,0xA0,0x0A,0xB0,0x0A,0xC0,0x0A,0xD0,0x0A,0xE0,0x0A,0xF0,0x0A,
    0x00,0x0B,0x10,0x0B,0x20,0x0B,0x30,0x0B,0x40,0x0B,0x50,0x0B,0x60,0x0B,0x70,0x0B,
    0x80,0x0B,0x90,0x0B,0xA0,0x0B,0xB0,0x0B,0xC0,0x0B,0xD0,0x0B,0xE0,0x0B,0xF0,0x0B,
    0x00,0x0C,0x10,0x0C,0x20,0x0C,0x30,0x0C,0x40,0x0C,0x50,0x0C,0x60,0x0C,0x70,0x0C,
    0x80,0x0C,0x90,0x0C,0xA0,0x0C,0xB0,0x0C,0xC0,0x0C,0xD0,0x0C,0xE0,0x0C,0xF0,0x0C,
    0x00,0x0D,0x10,0x0D,0x20,0x0D,0x30,0x0D,0x40,0x0D,0x50,0x0D,0x60,0x0D,0x70,0x0D,
    0x80,0x0D,0x90,0x0D,0xA0,0x0D,0xB0,0x0D,0xC0,0x0D,0xD0,0x0D,0xE0,0x0D,0xF0,0x0D,
    0x00,0x0E,0x10,0x0E,0x20,0x0E,0x30,0x0E,0x40,0x0E,0x50,0x0E,0x60,0x0E,0x70,0x0E,
    0x80,0x0E,0x90,0x0E,0xA0,0x0E,0xB0,0x0E,0xC0,0x0E,0xD0,0x0E,0xE0,0x0E,0xF0,0x0E,
    0x00,0x0F,0x10,0x0F,0x20,0x0F,0x30,0x0F,0x40,0x0F,0x50,0x0F,0x60,0x0F,0x70,0x0F,
    0x80,0x0F,0x90,0x0F,0xA0,0x0F,0xB0,0x0F,0xC0,0x0F,0xD0,0x0F,0xE0,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x03,0x00,
    0x03,0x00,0x03,0x00,0x03,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x05,0x00,
    0x05,0x00,0x05,0x00,0x05,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x07,0x00,
    0x07,0x00,0x07,0x00,0x07,0x00,0x08,0x00,0x08,0x00,0x0A,0x00,0x0C,0x00,0x0E,0x00,
    0x10,0x00,0x12,0x00,0x14,0x00,0x16,0x00,0x18,0x00,0x1A,0x00,0x1C,0x00,0x1E,0x00,
    0x20,0x00,0x22,0x00,0x24,0x00,0x26,0x00,0x28,0x00,0x2A,0x00,0x2C,0x00,0x2E,0x00,
    0x30,0x00,0x32,0x00,0x34,0x00,0x36,0x00,0x38,0x00,0x3A,0x00,0x3C,0x00,0x3E,0x00,
};

code BYTE tblFixGamma110_N[] =
{
    0x00,0x00,0x09,0x00,0x14,0x00,0x1F,0x00,0x2A,0x00,0x36,0x00,0x42,0x00,0x4E,0x00,
    0x5B,0x00,0x67,0x00,0x74,0x00,0x81,0x00,0x8D,0x00,0x9A,0x00,0xA8,0x00,0xB5,0x00,
    0xC2,0x00,0xCF,0x00,0xDD,0x00,0xEA,0x00,0xF8,0x00,0x06,0x01,0x14,0x01,0x21,0x01,
    0x2F,0x01,0x3D,0x01,0x4B,0x01,0x59,0x01,0x67,0x01,0x75,0x01,0x84,0x01,0x92,0x01,
    0xA0,0x01,0xAE,0x01,0xBD,0x01,0xCB,0x01,0xDA,0x01,0xE8,0x01,0xF7,0x01,0x05,0x02,
    0x14,0x02,0x22,0x02,0x31,0x02,0x40,0x02,0x4F,0x02,0x5D,0x02,0x6C,0x02,0x7B,0x02,
    0x8A,0x02,0x99,0x02,0xA8,0x02,0xB7,0x02,0xC6,0x02,0xD5,0x02,0xE4,0x02,0xF3,0x02,
    0x02,0x03,0x11,0x03,0x20,0x03,0x2F,0x03,0x3F,0x03,0x4E,0x03,0x5D,0x03,0x6C,0x03,
    0x7C,0x03,0x8B,0x03,0x9A,0x03,0xAA,0x03,0xB9,0x03,0xC9,0x03,0xD8,0x03,0xE8,0x03,
    0xF7,0x03,0x07,0x04,0x16,0x04,0x26,0x04,0x35,0x04,0x45,0x04,0x55,0x04,0x64,0x04,
    0x74,0x04,0x84,0x04,0x93,0x04,0xA3,0x04,0xB3,0x04,0xC3,0x04,0xD2,0x04,0xE2,0x04,
    0xF2,0x04,0x02,0x05,0x12,0x05,0x21,0x05,0x31,0x05,0x41,0x05,0x51,0x05,0x61,0x05,
    0x71,0x05,0x81,0x05,0x91,0x05,0xA1,0x05,0xB1,0x05,0xC1,0x05,0xD1,0x05,0xE1,0x05,
    0xF1,0x05,0x01,0x06,0x11,0x06,0x22,0x06,0x32,0x06,0x42,0x06,0x52,0x06,0x62,0x06,
    0x72,0x06,0x83,0x06,0x93,0x06,0xA3,0x06,0xB3,0x06,0xC4,0x06,0xD4,0x06,0xE4,0x06,
    0xF5,0x06,0x05,0x07,0x15,0x07,0x26,0x07,0x36,0x07,0x46,0x07,0x57,0x07,0x67,0x07,
    0x78,0x07,0x88,0x07,0x98,0x07,0xA9,0x07,0xB9,0x07,0xCA,0x07,0xDA,0x07,0xEB,0x07,
    0xFB,0x07,0x0C,0x08,0x1D,0x08,0x2D,0x08,0x3E,0x08,0x4E,0x08,0x5F,0x08,0x6F,0x08,
    0x80,0x08,0x91,0x08,0xA1,0x08,0xB2,0x08,0xC3,0x08,0xD3,0x08,0xE4,0x08,0xF5,0x08,
    0x05,0x09,0x16,0x09,0x27,0x09,0x38,0x09,0x48,0x09,0x59,0x09,0x6A,0x09,0x7B,0x09,
    0x8B,0x09,0x9C,0x09,0xAD,0x09,0xBE,0x09,0xCF,0x09,0xE0,0x09,0xF0,0x09,0x01,0x0A,
    0x12,0x0A,0x23,0x0A,0x34,0x0A,0x45,0x0A,0x56,0x0A,0x67,0x0A,0x78,0x0A,0x89,0x0A,
    0x9A,0x0A,0xAA,0x0A,0xBB,0x0A,0xCC,0x0A,0xDD,0x0A,0xEE,0x0A,0xFF,0x0A,0x10,0x0B,
    0x21,0x0B,0x33,0x0B,0x44,0x0B,0x55,0x0B,0x66,0x0B,0x77,0x0B,0x88,0x0B,0x99,0x0B,
    0xAA,0x0B,0xBB,0x0B,0xCC,0x0B,0xDD,0x0B,0xEF,0x0B,0x00,0x0C,0x11,0x0C,0x22,0x0C,
    0x33,0x0C,0x44,0x0C,0x56,0x0C,0x67,0x0C,0x78,0x0C,0x89,0x0C,0x9A,0x0C,0xAC,0x0C,
    0xBD,0x0C,0xCE,0x0C,0xDF,0x0C,0xF1,0x0C,0x02,0x0D,0x13,0x0D,0x25,0x0D,0x36,0x0D,
    0x47,0x0D,0x58,0x0D,0x6A,0x0D,0x7B,0x0D,0x8C,0x0D,0x9E,0x0D,0xAF,0x0D,0xC0,0x0D,
    0xD2,0x0D,0xE3,0x0D,0xF5,0x0D,0x06,0x0E,0x17,0x0E,0x29,0x0E,0x3A,0x0E,0x4C,0x0E,
    0x5D,0x0E,0x6F,0x0E,0x80,0x0E,0x91,0x0E,0xA3,0x0E,0xB4,0x0E,0xC6,0x0E,0xD7,0x0E,
    0xE9,0x0E,0xFA,0x0E,0x0C,0x0F,0x1D,0x0F,0x2F,0x0F,0x40,0x0F,0x52,0x0F,0x63,0x0F,
    0x75,0x0F,0x87,0x0F,0x98,0x0F,0xAA,0x0F,0xBB,0x0F,0xCD,0x0F,0xDE,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,
    0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x04,0x00,
    0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x05,0x00,0x07,0x00,0x08,0x00,
    0x09,0x00,0x0A,0x00,0x0C,0x00,0x0D,0x00,0x0E,0x00,0x10,0x00,0x11,0x00,0x12,0x00,
    0x14,0x00,0x15,0x00,0x16,0x00,0x18,0x00,0x19,0x00,0x1A,0x00,0x1C,0x00,0x1D,0x00,
    0x1F,0x00,0x20,0x00,0x21,0x00,0x23,0x00,0x24,0x00,0x26,0x00,0x27,0x00,0x29,0x00,
};

code BYTE tblFixGamma118_N[] =
{
    0x00,0x00,0x06,0x00,0x0D,0x00,0x15,0x00,0x1E,0x00,0x27,0x00,0x31,0x00,0x3B,0x00,
    0x45,0x00,0x4F,0x00,0x59,0x00,0x64,0x00,0x6F,0x00,0x7A,0x00,0x85,0x00,0x90,0x00,
    0x9C,0x00,0xA7,0x00,0xB3,0x00,0xBE,0x00,0xCA,0x00,0xD6,0x00,0xE2,0x00,0xEF,0x00,
    0xFB,0x00,0x07,0x01,0x14,0x01,0x20,0x01,0x2D,0x01,0x3A,0x01,0x47,0x01,0x53,0x01,
    0x60,0x01,0x6D,0x01,0x7B,0x01,0x88,0x01,0x95,0x01,0xA2,0x01,0xB0,0x01,0xBD,0x01,
    0xCB,0x01,0xD8,0x01,0xE6,0x01,0xF3,0x01,0x01,0x02,0x0F,0x02,0x1D,0x02,0x2B,0x02,
    0x39,0x02,0x47,0x02,0x55,0x02,0x63,0x02,0x71,0x02,0x7F,0x02,0x8D,0x02,0x9C,0x02,
    0xAA,0x02,0xB8,0x02,0xC7,0x02,0xD5,0x02,0xE4,0x02,0xF2,0x02,0x01,0x03,0x10,0x03,
    0x1E,0x03,0x2D,0x03,0x3C,0x03,0x4B,0x03,0x5A,0x03,0x69,0x03,0x77,0x03,0x86,0x03,
    0x95,0x03,0xA5,0x03,0xB4,0x03,0xC3,0x03,0xD2,0x03,0xE1,0x03,0xF0,0x03,0x00,0x04,
    0x0F,0x04,0x1E,0x04,0x2E,0x04,0x3D,0x04,0x4D,0x04,0x5C,0x04,0x6B,0x04,0x7B,0x04,
    0x8B,0x04,0x9A,0x04,0xAA,0x04,0xBA,0x04,0xC9,0x04,0xD9,0x04,0xE9,0x04,0xF8,0x04,
    0x08,0x05,0x18,0x05,0x28,0x05,0x38,0x05,0x48,0x05,0x58,0x05,0x68,0x05,0x78,0x05,
    0x88,0x05,0x98,0x05,0xA8,0x05,0xB8,0x05,0xC8,0x05,0xD9,0x05,0xE9,0x05,0xF9,0x05,
    0x09,0x06,0x1A,0x06,0x2A,0x06,0x3A,0x06,0x4B,0x06,0x5B,0x06,0x6B,0x06,0x7C,0x06,
    0x8C,0x06,0x9D,0x06,0xAD,0x06,0xBE,0x06,0xCF,0x06,0xDF,0x06,0xF0,0x06,0x00,0x07,
    0x11,0x07,0x22,0x07,0x32,0x07,0x43,0x07,0x54,0x07,0x65,0x07,0x76,0x07,0x86,0x07,
    0x97,0x07,0xA8,0x07,0xB9,0x07,0xCA,0x07,0xDB,0x07,0xEC,0x07,0xFD,0x07,0x0E,0x08,
    0x1F,0x08,0x30,0x08,0x41,0x08,0x52,0x08,0x63,0x08,0x74,0x08,0x85,0x08,0x97,0x08,
    0xA8,0x08,0xB9,0x08,0xCA,0x08,0xDB,0x08,0xED,0x08,0xFE,0x08,0x0F,0x09,0x21,0x09,
    0x32,0x09,0x43,0x09,0x55,0x09,0x66,0x09,0x78,0x09,0x89,0x09,0x9B,0x09,0xAC,0x09,
    0xBD,0x09,0xCF,0x09,0xE1,0x09,0xF2,0x09,0x04,0x0A,0x15,0x0A,0x27,0x0A,0x39,0x0A,
    0x4A,0x0A,0x5C,0x0A,0x6E,0x0A,0x7F,0x0A,0x91,0x0A,0xA3,0x0A,0xB4,0x0A,0xC6,0x0A,
    0xD8,0x0A,0xEA,0x0A,0xFC,0x0A,0x0E,0x0B,0x1F,0x0B,0x31,0x0B,0x43,0x0B,0x55,0x0B,
    0x67,0x0B,0x79,0x0B,0x8B,0x0B,0x9D,0x0B,0xAF,0x0B,0xC1,0x0B,0xD3,0x0B,0xE5,0x0B,
    0xF7,0x0B,0x09,0x0C,0x1B,0x0C,0x2D,0x0C,0x3F,0x0C,0x52,0x0C,0x64,0x0C,0x76,0x0C,
    0x88,0x0C,0x9A,0x0C,0xAD,0x0C,0xBF,0x0C,0xD1,0x0C,0xE3,0x0C,0xF6,0x0C,0x08,0x0D,
    0x1A,0x0D,0x2D,0x0D,0x3F,0x0D,0x51,0x0D,0x64,0x0D,0x76,0x0D,0x88,0x0D,0x9B,0x0D,
    0xAD,0x0D,0xC0,0x0D,0xD2,0x0D,0xE5,0x0D,0xF7,0x0D,0x0A,0x0E,0x1C,0x0E,0x2F,0x0E,
    0x41,0x0E,0x54,0x0E,0x67,0x0E,0x79,0x0E,0x8C,0x0E,0x9E,0x0E,0xB1,0x0E,0xC4,0x0E,
    0xD6,0x0E,0xE9,0x0E,0xFC,0x0E,0x0E,0x0F,0x21,0x0F,0x34,0x0F,0x47,0x0F,0x59,0x0F,
    0x6C,0x0F,0x7F,0x0F,0x92,0x0F,0xA5,0x0F,0xB7,0x0F,0xCA,0x0F,0xDD,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,
    0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x03,0x00,0x03,0x00,0x04,0x00,0x05,0x00,
    0x06,0x00,0x07,0x00,0x08,0x00,0x09,0x00,0x09,0x00,0x0A,0x00,0x0B,0x00,0x0C,0x00,
    0x0D,0x00,0x0E,0x00,0x0F,0x00,0x10,0x00,0x11,0x00,0x12,0x00,0x13,0x00,0x14,0x00,
    0x15,0x00,0x17,0x00,0x18,0x00,0x19,0x00,0x1A,0x00,0x1B,0x00,0x1C,0x00,0x1D,0x00,
};

code BYTE tblFixGamma127_N[] =
{
    0x00,0x00,0x04,0x00,0x09,0x00,0x0E,0x00,0x15,0x00,0x1C,0x00,0x23,0x00,0x2A,0x00,
    0x32,0x00,0x3A,0x00,0x43,0x00,0x4B,0x00,0x54,0x00,0x5D,0x00,0x66,0x00,0x70,0x00,
    0x79,0x00,0x83,0x00,0x8D,0x00,0x97,0x00,0xA1,0x00,0xAB,0x00,0xB6,0x00,0xC0,0x00,
    0xCB,0x00,0xD6,0x00,0xE1,0x00,0xEC,0x00,0xF7,0x00,0x02,0x01,0x0D,0x01,0x19,0x01,
    0x24,0x01,0x30,0x01,0x3C,0x01,0x48,0x01,0x54,0x01,0x60,0x01,0x6C,0x01,0x78,0x01,
    0x84,0x01,0x90,0x01,0x9D,0x01,0xA9,0x01,0xB6,0x01,0xC3,0x01,0xD0,0x01,0xDC,0x01,
    0xE9,0x01,0xF6,0x01,0x03,0x02,0x10,0x02,0x1E,0x02,0x2B,0x02,0x38,0x02,0x46,0x02,
    0x53,0x02,0x61,0x02,0x6E,0x02,0x7C,0x02,0x8A,0x02,0x97,0x02,0xA5,0x02,0xB3,0x02,
    0xC1,0x02,0xCF,0x02,0xDD,0x02,0xEB,0x02,0xF9,0x02,0x08,0x03,0x16,0x03,0x24,0x03,
    0x33,0x03,0x41,0x03,0x50,0x03,0x5E,0x03,0x6D,0x03,0x7C,0x03,0x8A,0x03,0x99,0x03,
    0xA8,0x03,0xB7,0x03,0xC6,0x03,0xD5,0x03,0xE4,0x03,0xF3,0x03,0x02,0x04,0x11,0x04,
    0x20,0x04,0x30,0x04,0x3F,0x04,0x4E,0x04,0x5E,0x04,0x6D,0x04,0x7D,0x04,0x8C,0x04,
    0x9C,0x04,0xAC,0x04,0xBB,0x04,0xCB,0x04,0xDB,0x04,0xEA,0x04,0xFA,0x04,0x0A,0x05,
    0x1A,0x05,0x2A,0x05,0x3A,0x05,0x4A,0x05,0x5A,0x05,0x6A,0x05,0x7B,0x05,0x8B,0x05,
    0x9B,0x05,0xAB,0x05,0xBC,0x05,0xCC,0x05,0xDC,0x05,0xED,0x05,0xFD,0x05,0x0E,0x06,
    0x1E,0x06,0x2F,0x06,0x40,0x06,0x50,0x06,0x61,0x06,0x72,0x06,0x83,0x06,0x93,0x06,
    0xA4,0x06,0xB5,0x06,0xC6,0x06,0xD7,0x06,0xE8,0x06,0xF9,0x06,0x0A,0x07,0x1B,0x07,
    0x2C,0x07,0x3D,0x07,0x4F,0x07,0x60,0x07,0x71,0x07,0x82,0x07,0x94,0x07,0xA5,0x07,
    0xB7,0x07,0xC8,0x07,0xD9,0x07,0xEB,0x07,0xFC,0x07,0x0E,0x08,0x20,0x08,0x31,0x08,
    0x43,0x08,0x55,0x08,0x66,0x08,0x78,0x08,0x8A,0x08,0x9C,0x08,0xAE,0x08,0xBF,0x08,
    0xD1,0x08,0xE3,0x08,0xF5,0x08,0x07,0x09,0x19,0x09,0x2B,0x09,0x3D,0x09,0x4F,0x09,
    0x62,0x09,0x74,0x09,0x86,0x09,0x98,0x09,0xAA,0x09,0xBD,0x09,0xCF,0x09,0xE1,0x09,
    0xF4,0x09,0x06,0x0A,0x19,0x0A,0x2B,0x0A,0x3E,0x0A,0x50,0x0A,0x63,0x0A,0x75,0x0A,
    0x88,0x0A,0x9A,0x0A,0xAD,0x0A,0xC0,0x0A,0xD2,0x0A,0xE5,0x0A,0xF8,0x0A,0x0B,0x0B,
    0x1D,0x0B,0x30,0x0B,0x43,0x0B,0x56,0x0B,0x69,0x0B,0x7C,0x0B,0x8F,0x0B,0xA2,0x0B,
    0xB5,0x0B,0xC8,0x0B,0xDB,0x0B,0xEE,0x0B,0x01,0x0C,0x14,0x0C,0x27,0x0C,0x3B,0x0C,
    0x4E,0x0C,0x61,0x0C,0x74,0x0C,0x88,0x0C,0x9B,0x0C,0xAE,0x0C,0xC2,0x0C,0xD5,0x0C,
    0xE9,0x0C,0xFC,0x0C,0x0F,0x0D,0x23,0x0D,0x36,0x0D,0x4A,0x0D,0x5E,0x0D,0x71,0x0D,
    0x85,0x0D,0x98,0x0D,0xAC,0x0D,0xC0,0x0D,0xD3,0x0D,0xE7,0x0D,0xFB,0x0D,0x0F,0x0E,
    0x22,0x0E,0x36,0x0E,0x4A,0x0E,0x5E,0x0E,0x72,0x0E,0x86,0x0E,0x9A,0x0E,0xAE,0x0E,
    0xC2,0x0E,0xD6,0x0E,0xEA,0x0E,0xFE,0x0E,0x12,0x0F,0x26,0x0F,0x3A,0x0F,0x4E,0x0F,
    0x62,0x0F,0x76,0x0F,0x8B,0x0F,0x9F,0x0F,0xB3,0x0F,0xC7,0x0F,0xDC,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x02,0x00,0x02,0x00,0x03,0x00,
    0x04,0x00,0x04,0x00,0x05,0x00,0x05,0x00,0x06,0x00,0x07,0x00,0x07,0x00,0x08,0x00,
    0x09,0x00,0x09,0x00,0x0A,0x00,0x0B,0x00,0x0B,0x00,0x0C,0x00,0x0D,0x00,0x0E,0x00,
    0x0E,0x00,0x0F,0x00,0x10,0x00,0x11,0x00,0x12,0x00,0x12,0x00,0x13,0x00,0x14,0x00,
};

code BYTE tblFixGamma136_N[] =
{
    0x00,0x00,0x02,0x00,0x06,0x00,0x0A,0x00,0x0E,0x00,0x13,0x00,0x19,0x00,0x1F,0x00,
    0x25,0x00,0x2B,0x00,0x32,0x00,0x39,0x00,0x40,0x00,0x47,0x00,0x4F,0x00,0x57,0x00,
    0x5E,0x00,0x67,0x00,0x6F,0x00,0x77,0x00,0x80,0x00,0x89,0x00,0x92,0x00,0x9B,0x00,
    0xA4,0x00,0xAD,0x00,0xB7,0x00,0xC0,0x00,0xCA,0x00,0xD4,0x00,0xDE,0x00,0xE8,0x00,
    0xF3,0x00,0xFD,0x00,0x07,0x01,0x12,0x01,0x1D,0x01,0x27,0x01,0x32,0x01,0x3D,0x01,
    0x49,0x01,0x54,0x01,0x5F,0x01,0x6A,0x01,0x76,0x01,0x82,0x01,0x8D,0x01,0x99,0x01,
    0xA5,0x01,0xB1,0x01,0xBD,0x01,0xC9,0x01,0xD5,0x01,0xE2,0x01,0xEE,0x01,0xFB,0x01,
    0x07,0x02,0x14,0x02,0x21,0x02,0x2D,0x02,0x3A,0x02,0x47,0x02,0x54,0x02,0x61,0x02,
    0x6F,0x02,0x7C,0x02,0x89,0x02,0x97,0x02,0xA4,0x02,0xB2,0x02,0xBF,0x02,0xCD,0x02,
    0xDB,0x02,0xE9,0x02,0xF6,0x02,0x04,0x03,0x12,0x03,0x21,0x03,0x2F,0x03,0x3D,0x03,
    0x4B,0x03,0x5A,0x03,0x68,0x03,0x77,0x03,0x85,0x03,0x94,0x03,0xA2,0x03,0xB1,0x03,
    0xC0,0x03,0xCF,0x03,0xDE,0x03,0xED,0x03,0xFC,0x03,0x0B,0x04,0x1A,0x04,0x29,0x04,
    0x39,0x04,0x48,0x04,0x57,0x04,0x67,0x04,0x76,0x04,0x86,0x04,0x95,0x04,0xA5,0x04,
    0xB5,0x04,0xC5,0x04,0xD4,0x04,0xE4,0x04,0xF4,0x04,0x04,0x05,0x14,0x05,0x24,0x05,
    0x35,0x05,0x45,0x05,0x55,0x05,0x65,0x05,0x76,0x05,0x86,0x05,0x97,0x05,0xA7,0x05,
    0xB8,0x05,0xC8,0x05,0xD9,0x05,0xEA,0x05,0xFA,0x05,0x0B,0x06,0x1C,0x06,0x2D,0x06,
    0x3E,0x06,0x4F,0x06,0x60,0x06,0x71,0x06,0x82,0x06,0x93,0x06,0xA5,0x06,0xB6,0x06,
    0xC7,0x06,0xD9,0x06,0xEA,0x06,0xFC,0x06,0x0D,0x07,0x1F,0x07,0x30,0x07,0x42,0x07,
    0x54,0x07,0x65,0x07,0x77,0x07,0x89,0x07,0x9B,0x07,0xAD,0x07,0xBF,0x07,0xD1,0x07,
    0xE3,0x07,0xF5,0x07,0x07,0x08,0x19,0x08,0x2B,0x08,0x3E,0x08,0x50,0x08,0x62,0x08,
    0x75,0x08,0x87,0x08,0x99,0x08,0xAC,0x08,0xBE,0x08,0xD1,0x08,0xE4,0x08,0xF6,0x08,
    0x09,0x09,0x1C,0x09,0x2F,0x09,0x41,0x09,0x54,0x09,0x67,0x09,0x7A,0x09,0x8D,0x09,
    0xA0,0x09,0xB3,0x09,0xC6,0x09,0xD9,0x09,0xED,0x09,0x00,0x0A,0x13,0x0A,0x26,0x0A,
    0x3A,0x0A,0x4D,0x0A,0x60,0x0A,0x74,0x0A,0x87,0x0A,0x9B,0x0A,0xAE,0x0A,0xC2,0x0A,
    0xD6,0x0A,0xE9,0x0A,0xFD,0x0A,0x11,0x0B,0x25,0x0B,0x38,0x0B,0x4C,0x0B,0x60,0x0B,
    0x74,0x0B,0x88,0x0B,0x9C,0x0B,0xB0,0x0B,0xC4,0x0B,0xD8,0x0B,0xEC,0x0B,0x00,0x0C,
    0x15,0x0C,0x29,0x0C,0x3D,0x0C,0x51,0x0C,0x66,0x0C,0x7A,0x0C,0x8F,0x0C,0xA3,0x0C,
    0xB8,0x0C,0xCC,0x0C,0xE1,0x0C,0xF5,0x0C,0x0A,0x0D,0x1E,0x0D,0x33,0x0D,0x48,0x0D,
    0x5D,0x0D,0x71,0x0D,0x86,0x0D,0x9B,0x0D,0xB0,0x0D,0xC5,0x0D,0xDA,0x0D,0xEF,0x0D,
    0x04,0x0E,0x19,0x0E,0x2E,0x0E,0x43,0x0E,0x58,0x0E,0x6D,0x0E,0x83,0x0E,0x98,0x0E,
    0xAD,0x0E,0xC2,0x0E,0xD8,0x0E,0xED,0x0E,0x03,0x0F,0x18,0x0F,0x2D,0x0F,0x43,0x0F,
    0x58,0x0F,0x6E,0x0F,0x84,0x0F,0x99,0x0F,0xAF,0x0F,0xC5,0x0F,0xDA,0x0F,0xF0,0x0F,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
    0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x02,0x00,
    0x02,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x04,0x00,0x04,0x00,0x05,0x00,0x05,0x00,
    0x06,0x00,0x06,0x00,0x07,0x00,0x07,0x00,0x08,0x00,0x08,0x00,0x09,0x00,0x09,0x00,
    0x0A,0x00,0x0A,0x00,0x0B,0x00,0x0B,0x00,0x0C,0x00,0x0C,0x00,0x0D,0x00,0x0E,0x00,
};
#else
code BYTE tblFixGamma10_N[] =
{
    0x00,0x00,0x10,0x00,0x20,0x00,0x30,0x00,0x40,0x00,0x50,0x00,0x60,0x00,0x70,0x00,
    0x80,0x00,0x90,0x00,0xA0,0x00,0xB0,0x00,0xC0,0x00,0xD0,0x00,0xE0,0x00,0xF0,0x00,
    0x00,0x01,0x10,0x01,0x20,0x01,0x30,0x01,0x40,0x01,0x50,0x01,0x60,0x01,0x70,0x01,
    0x80,0x01,0x90,0x01,0xA0,0x01,0xB0,0x01,0xC0,0x01,0xD0,0x01,0xE0,0x01,0xF0,0x01,
    0x00,0x02,0x10,0x02,0x20,0x02,0x30,0x02,0x40,0x02,0x50,0x02,0x60,0x02,0x70,0x02,
    0x80,0x02,0x90,0x02,0xA0,0x02,0xB0,0x02,0xC0,0x02,0xD0,0x02,0xE0,0x02,0xF0,0x02,
    0x00,0x03,0x10,0x03,0x20,0x03,0x30,0x03,0x40,0x03,0x50,0x03,0x60,0x03,0x70,0x03,
    0x80,0x03,0x90,0x03,0xA0,0x03,0xB0,0x03,0xC0,0x03,0xD0,0x03,0xE0,0x03,0xF0,0x03,
    0x00,0x04,0x10,0x04,0x20,0x04,0x30,0x04,0x40,0x04,0x50,0x04,0x60,0x04,0x70,0x04,
    0x80,0x04,0x90,0x04,0xA0,0x04,0xB0,0x04,0xC0,0x04,0xD0,0x04,0xE0,0x04,0xF0,0x04,
    0x00,0x05,0x10,0x05,0x20,0x05,0x30,0x05,0x40,0x05,0x50,0x05,0x60,0x05,0x70,0x05,
    0x80,0x05,0x90,0x05,0xA0,0x05,0xB0,0x05,0xC0,0x05,0xD0,0x05,0xE0,0x05,0xF0,0x05,
    0x00,0x06,0x10,0x06,0x20,0x06,0x30,0x06,0x40,0x06,0x50,0x06,0x60,0x06,0x70,0x06,
    0x80,0x06,0x90,0x06,0xA0,0x06,0xB0,0x06,0xC0,0x06,0xD0,0x06,0xE0,0x06,0xF0,0x06,
    0x00,0x07,0x10,0x07,0x20,0x07,0x30,0x07,0x40,0x07,0x50,0x07,0x60,0x07,0x70,0x07,
    0x80,0x07,0x90,0x07,0xA0,0x07,0xB0,0x07,0xC0,0x07,0xD0,0x07,0xE0,0x07,0xF0,0x07,
    0x00,0x08,0x10,0x08,0x20,0x08,0x30,0x08,0x40,0x08,0x50,0x08,0x60,0x08,0x70,0x08,
    0x80,0x08,0x90,0x08,0xA0,0x08,0xB0,0x08,0xC0,0x08,0xD0,0x08,0xE0,0x08,0xF0,0x08,
    0x00,0x09,0x10,0x09,0x20,0x09,0x30,0x09,0x40,0x09,0x50,0x09,0x60,0x09,0x70,0x09,
    0x80,0x09,0x90,0x09,0xA0,0x09,0xB0,0x09,0xC0,0x09,0xD0,0x09,0xE0,0x09,0xF0,0x09,
    0x00,0x0A,0x10,0x0A,0x20,0x0A,0x30,0x0A,0x40,0x0A,0x50,0x0A,0x60,0x0A,0x70,0x0A,
    0x80,0x0A,0x90,0x0A,0xA0,0x0A,0xB0,0x0A,0xC0,0x0A,0xD0,0x0A,0xE0,0x0A,0xF0,0x0A,
    0x00,0x0B,0x10,0x0B,0x20,0x0B,0x30,0x0B,0x40,0x0B,0x50,0x0B,0x60,0x0B,0x70,0x0B,
    0x80,0x0B,0x90,0x0B,0xA0,0x0B,0xB0,0x0B,0xC0,0x0B,0xD0,0x0B,0xE0,0x0B,0xF0,0x0B,
    0x00,0x0C,0x10,0x0C,0x20,0x0C,0x30,0x0C,0x40,0x0C,0x50,0x0C,0x60,0x0C,0x70,0x0C,
    0x80,0x0C,0x90,0x0C,0xA0,0x0C,0xB0,0x0C,0xC0,0x0C,0xD0,0x0C,0xE0,0x0C,0xF0,0x0C,
    0x00,0x0D,0x10,0x0D,0x20,0x0D,0x30,0x0D,0x40,0x0D,0x50,0x0D,0x60,0x0D,0x70,0x0D,
    0x80,0x0D,0x90,0x0D,0xA0,0x0D,0xB0,0x0D,0xC0,0x0D,0xD0,0x0D,0xE0,0x0D,0xF0,0x0D,
    0x00,0x0E,0x10,0x0E,0x20,0x0E,0x30,0x0E,0x40,0x0E,0x50,0x0E,0x60,0x0E,0x70,0x0E,
    0x80,0x0E,0x90,0x0E,0xA0,0x0E,0xB0,0x0E,0xC0,0x0E,0xD0,0x0E,0xE0,0x0E,0xF0,0x0E,
    0x00,0x0F,0x10,0x0F,0x20,0x0F,0x30,0x0F,0x40,0x0F,0x50,0x0F,0x60,0x0F,0x70,0x0F,
    0x80,0x0F,0x90,0x0F,0xA0,0x0F,0xB0,0x0F,0xC0,0x0F,0xD0,0x0F,0xE0,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma072_N[] =
{
    0x00,0x00,0x4C,0x00,0x7C,0x00,0xA7,0x00,0xCD,0x00,0xF1,0x00,0x12,0x01,0x32,0x01,
    0x51,0x01,0x6F,0x01,0x8C,0x01,0xA8,0x01,0xC4,0x01,0xDF,0x01,0xF9,0x01,0x13,0x02,
    0x2C,0x02,0x45,0x02,0x5D,0x02,0x75,0x02,0x8D,0x02,0xA4,0x02,0xBB,0x02,0xD2,0x02,
    0xE8,0x02,0xFE,0x02,0x14,0x03,0x2A,0x03,0x40,0x03,0x55,0x03,0x6A,0x03,0x7F,0x03,
    0x94,0x03,0xA8,0x03,0xBC,0x03,0xD1,0x03,0xE5,0x03,0xF8,0x03,0x0C,0x04,0x20,0x04,
    0x33,0x04,0x46,0x04,0x5A,0x04,0x6D,0x04,0x7F,0x04,0x92,0x04,0xA5,0x04,0xB7,0x04,
    0xCA,0x04,0xDC,0x04,0xEE,0x04,0x01,0x05,0x13,0x05,0x25,0x05,0x36,0x05,0x48,0x05,
    0x5A,0x05,0x6B,0x05,0x7D,0x05,0x8E,0x05,0xA0,0x05,0xB1,0x05,0xC2,0x05,0xD3,0x05,
    0xE4,0x05,0xF5,0x05,0x06,0x06,0x17,0x06,0x27,0x06,0x38,0x06,0x49,0x06,0x59,0x06,
    0x69,0x06,0x7A,0x06,0x8A,0x06,0x9A,0x06,0xAB,0x06,0xBB,0x06,0xCB,0x06,0xDB,0x06,
    0xEB,0x06,0xFB,0x06,0x0B,0x07,0x1A,0x07,0x2A,0x07,0x3A,0x07,0x49,0x07,0x59,0x07,
    0x69,0x07,0x78,0x07,0x88,0x07,0x97,0x07,0xA6,0x07,0xB6,0x07,0xC5,0x07,0xD4,0x07,
    0xE3,0x07,0xF2,0x07,0x01,0x08,0x10,0x08,0x1F,0x08,0x2E,0x08,0x3D,0x08,0x4C,0x08,
    0x5B,0x08,0x6A,0x08,0x79,0x08,0x87,0x08,0x96,0x08,0xA5,0x08,0xB3,0x08,0xC2,0x08,
    0xD0,0x08,0xDF,0x08,0xED,0x08,0xFC,0x08,0x0A,0x09,0x18,0x09,0x27,0x09,0x35,0x09,
    0x43,0x09,0x51,0x09,0x60,0x09,0x6E,0x09,0x7C,0x09,0x8A,0x09,0x98,0x09,0xA6,0x09,
    0xB4,0x09,0xC2,0x09,0xD0,0x09,0xDE,0x09,0xEC,0x09,0xF9,0x09,0x07,0x0A,0x15,0x0A,
    0x23,0x0A,0x30,0x0A,0x3E,0x0A,0x4C,0x0A,0x59,0x0A,0x67,0x0A,0x75,0x0A,0x82,0x0A,
    0x90,0x0A,0x9D,0x0A,0xAB,0x0A,0xB8,0x0A,0xC6,0x0A,0xD3,0x0A,0xE0,0x0A,0xEE,0x0A,
    0xFB,0x0A,0x08,0x0B,0x16,0x0B,0x23,0x0B,0x30,0x0B,0x3D,0x0B,0x4B,0x0B,0x58,0x0B,
    0x65,0x0B,0x72,0x0B,0x7F,0x0B,0x8C,0x0B,0x99,0x0B,0xA6,0x0B,0xB3,0x0B,0xC0,0x0B,
    0xCD,0x0B,0xDA,0x0B,0xE7,0x0B,0xF4,0x0B,0x01,0x0C,0x0E,0x0C,0x1A,0x0C,0x27,0x0C,
    0x34,0x0C,0x41,0x0C,0x4E,0x0C,0x5A,0x0C,0x67,0x0C,0x74,0x0C,0x80,0x0C,0x8D,0x0C,
    0x9A,0x0C,0xA6,0x0C,0xB3,0x0C,0xBF,0x0C,0xCC,0x0C,0xD9,0x0C,0xE5,0x0C,0xF2,0x0C,
    0xFE,0x0C,0x0B,0x0D,0x17,0x0D,0x23,0x0D,0x30,0x0D,0x3C,0x0D,0x49,0x0D,0x55,0x0D,
    0x61,0x0D,0x6E,0x0D,0x7A,0x0D,0x86,0x0D,0x92,0x0D,0x9F,0x0D,0xAB,0x0D,0xB7,0x0D,
    0xC3,0x0D,0xD0,0x0D,0xDC,0x0D,0xE8,0x0D,0xF4,0x0D,0x00,0x0E,0x0C,0x0E,0x18,0x0E,
    0x24,0x0E,0x30,0x0E,0x3D,0x0E,0x49,0x0E,0x55,0x0E,0x61,0x0E,0x6D,0x0E,0x79,0x0E,
    0x84,0x0E,0x90,0x0E,0x9C,0x0E,0xA8,0x0E,0xB4,0x0E,0xC0,0x0E,0xCC,0x0E,0xD8,0x0E,
    0xE4,0x0E,0xEF,0x0E,0xFB,0x0E,0x07,0x0F,0x13,0x0F,0x1F,0x0F,0x2A,0x0F,0x36,0x0F,
    0x42,0x0F,0x4D,0x0F,0x59,0x0F,0x65,0x0F,0x71,0x0F,0x7C,0x0F,0x88,0x0F,0x93,0x0F,
    0x9F,0x0F,0xAB,0x0F,0xB6,0x0F,0xC2,0x0F,0xCD,0x0F,0xD9,0x0F,0xE4,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma081_N[] =
{
    0x00,0x00,0x2E,0x00,0x50,0x00,0x70,0x00,0x8D,0x00,0xA9,0x00,0xC4,0x00,0xDE,0x00,
    0xF7,0x00,0x10,0x01,0x28,0x01,0x40,0x01,0x57,0x01,0x6E,0x01,0x85,0x01,0x9B,0x01,
    0xB1,0x01,0xC7,0x01,0xDD,0x01,0xF2,0x01,0x07,0x02,0x1C,0x02,0x31,0x02,0x45,0x02,
    0x5A,0x02,0x6E,0x02,0x82,0x02,0x96,0x02,0xAA,0x02,0xBD,0x02,0xD1,0x02,0xE4,0x02,
    0xF8,0x02,0x0B,0x03,0x1E,0x03,0x31,0x03,0x44,0x03,0x56,0x03,0x69,0x03,0x7C,0x03,
    0x8E,0x03,0xA0,0x03,0xB3,0x03,0xC5,0x03,0xD7,0x03,0xE9,0x03,0xFB,0x03,0x0D,0x04,
    0x1F,0x04,0x31,0x04,0x42,0x04,0x54,0x04,0x65,0x04,0x77,0x04,0x88,0x04,0x9A,0x04,
    0xAB,0x04,0xBC,0x04,0xCE,0x04,0xDF,0x04,0xF0,0x04,0x01,0x05,0x12,0x05,0x23,0x05,
    0x34,0x05,0x44,0x05,0x55,0x05,0x66,0x05,0x77,0x05,0x87,0x05,0x98,0x05,0xA8,0x05,
    0xB9,0x05,0xC9,0x05,0xDA,0x05,0xEA,0x05,0xFA,0x05,0x0B,0x06,0x1B,0x06,0x2B,0x06,
    0x3B,0x06,0x4C,0x06,0x5C,0x06,0x6C,0x06,0x7C,0x06,0x8C,0x06,0x9C,0x06,0xAC,0x06,
    0xBB,0x06,0xCB,0x06,0xDB,0x06,0xEB,0x06,0xFB,0x06,0x0A,0x07,0x1A,0x07,0x2A,0x07,
    0x39,0x07,0x49,0x07,0x58,0x07,0x68,0x07,0x77,0x07,0x87,0x07,0x96,0x07,0xA6,0x07,
    0xB5,0x07,0xC5,0x07,0xD4,0x07,0xE3,0x07,0xF2,0x07,0x02,0x08,0x11,0x08,0x20,0x08,
    0x2F,0x08,0x3E,0x08,0x4D,0x08,0x5D,0x08,0x6C,0x08,0x7B,0x08,0x8A,0x08,0x99,0x08,
    0xA8,0x08,0xB7,0x08,0xC6,0x08,0xD4,0x08,0xE3,0x08,0xF2,0x08,0x01,0x09,0x10,0x09,
    0x1F,0x09,0x2D,0x09,0x3C,0x09,0x4B,0x09,0x59,0x09,0x68,0x09,0x77,0x09,0x85,0x09,
    0x94,0x09,0xA3,0x09,0xB1,0x09,0xC0,0x09,0xCE,0x09,0xDD,0x09,0xEB,0x09,0xFA,0x09,
    0x08,0x0A,0x17,0x0A,0x25,0x0A,0x33,0x0A,0x42,0x0A,0x50,0x0A,0x5F,0x0A,0x6D,0x0A,
    0x7B,0x0A,0x8A,0x0A,0x98,0x0A,0xA6,0x0A,0xB4,0x0A,0xC2,0x0A,0xD1,0x0A,0xDF,0x0A,
    0xED,0x0A,0xFB,0x0A,0x09,0x0B,0x17,0x0B,0x26,0x0B,0x34,0x0B,0x42,0x0B,0x50,0x0B,
    0x5E,0x0B,0x6C,0x0B,0x7A,0x0B,0x88,0x0B,0x96,0x0B,0xA4,0x0B,0xB2,0x0B,0xC0,0x0B,
    0xCE,0x0B,0xDB,0x0B,0xE9,0x0B,0xF7,0x0B,0x05,0x0C,0x13,0x0C,0x21,0x0C,0x2F,0x0C,
    0x3C,0x0C,0x4A,0x0C,0x58,0x0C,0x66,0x0C,0x73,0x0C,0x81,0x0C,0x8F,0x0C,0x9C,0x0C,
    0xAA,0x0C,0xB8,0x0C,0xC6,0x0C,0xD3,0x0C,0xE1,0x0C,0xEE,0x0C,0xFC,0x0C,0x0A,0x0D,
    0x17,0x0D,0x25,0x0D,0x32,0x0D,0x40,0x0D,0x4D,0x0D,0x5B,0x0D,0x68,0x0D,0x76,0x0D,
    0x83,0x0D,0x91,0x0D,0x9E,0x0D,0xAC,0x0D,0xB9,0x0D,0xC7,0x0D,0xD4,0x0D,0xE1,0x0D,
    0xEF,0x0D,0xFC,0x0D,0x09,0x0E,0x17,0x0E,0x24,0x0E,0x31,0x0E,0x3F,0x0E,0x4C,0x0E,
    0x59,0x0E,0x67,0x0E,0x74,0x0E,0x81,0x0E,0x8E,0x0E,0x9C,0x0E,0xA9,0x0E,0xB6,0x0E,
    0xC3,0x0E,0xD0,0x0E,0xDE,0x0E,0xEB,0x0E,0xF8,0x0E,0x05,0x0F,0x12,0x0F,0x1F,0x0F,
    0x2C,0x0F,0x3A,0x0F,0x47,0x0F,0x54,0x0F,0x61,0x0F,0x6E,0x0F,0x7B,0x0F,0x88,0x0F,
    0x95,0x0F,0xA2,0x0F,0xAF,0x0F,0xBC,0x0F,0xC9,0x0F,0xD6,0x0F,0xE3,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma090_N[] =
{
    0x00,0x00,0x1C,0x00,0x34,0x00,0x4B,0x00,0x61,0x00,0x77,0x00,0x8C,0x00,0xA0,0x00,
    0xB5,0x00,0xC9,0x00,0xDD,0x00,0xF1,0x00,0x05,0x01,0x18,0x01,0x2B,0x01,0x3F,0x01,
    0x52,0x01,0x65,0x01,0x77,0x01,0x8A,0x01,0x9D,0x01,0xAF,0x01,0xC2,0x01,0xD4,0x01,
    0xE6,0x01,0xF9,0x01,0x0B,0x02,0x1D,0x02,0x2F,0x02,0x41,0x02,0x53,0x02,0x64,0x02,
    0x76,0x02,0x88,0x02,0x99,0x02,0xAB,0x02,0xBD,0x02,0xCE,0x02,0xDF,0x02,0xF1,0x02,
    0x02,0x03,0x14,0x03,0x25,0x03,0x36,0x03,0x47,0x03,0x58,0x03,0x69,0x03,0x7B,0x03,
    0x8C,0x03,0x9D,0x03,0xAE,0x03,0xBE,0x03,0xCF,0x03,0xE0,0x03,0xF1,0x03,0x02,0x04,
    0x13,0x04,0x23,0x04,0x34,0x04,0x45,0x04,0x55,0x04,0x66,0x04,0x77,0x04,0x87,0x04,
    0x98,0x04,0xA8,0x04,0xB9,0x04,0xC9,0x04,0xDA,0x04,0xEA,0x04,0xFB,0x04,0x0B,0x05,
    0x1B,0x05,0x2C,0x05,0x3C,0x05,0x4C,0x05,0x5C,0x05,0x6D,0x05,0x7D,0x05,0x8D,0x05,
    0x9D,0x05,0xAD,0x05,0xBE,0x05,0xCE,0x05,0xDE,0x05,0xEE,0x05,0xFE,0x05,0x0E,0x06,
    0x1E,0x06,0x2E,0x06,0x3E,0x06,0x4E,0x06,0x5E,0x06,0x6E,0x06,0x7E,0x06,0x8E,0x06,
    0x9E,0x06,0xAD,0x06,0xBD,0x06,0xCD,0x06,0xDD,0x06,0xED,0x06,0xFD,0x06,0x0C,0x07,
    0x1C,0x07,0x2C,0x07,0x3C,0x07,0x4B,0x07,0x5B,0x07,0x6B,0x07,0x7A,0x07,0x8A,0x07,
    0x9A,0x07,0xA9,0x07,0xB9,0x07,0xC9,0x07,0xD8,0x07,0xE8,0x07,0xF7,0x07,0x07,0x08,
    0x16,0x08,0x26,0x08,0x35,0x08,0x45,0x08,0x54,0x08,0x64,0x08,0x73,0x08,0x83,0x08,
    0x92,0x08,0xA2,0x08,0xB1,0x08,0xC0,0x08,0xD0,0x08,0xDF,0x08,0xEE,0x08,0xFE,0x08,
    0x0D,0x09,0x1D,0x09,0x2C,0x09,0x3B,0x09,0x4A,0x09,0x5A,0x09,0x69,0x09,0x78,0x09,
    0x87,0x09,0x97,0x09,0xA6,0x09,0xB5,0x09,0xC4,0x09,0xD4,0x09,0xE3,0x09,0xF2,0x09,
    0x01,0x0A,0x10,0x0A,0x1F,0x0A,0x2F,0x0A,0x3E,0x0A,0x4D,0x0A,0x5C,0x0A,0x6B,0x0A,
    0x7A,0x0A,0x89,0x0A,0x98,0x0A,0xA7,0x0A,0xB6,0x0A,0xC5,0x0A,0xD4,0x0A,0xE4,0x0A,
    0xF3,0x0A,0x02,0x0B,0x11,0x0B,0x20,0x0B,0x2F,0x0B,0x3E,0x0B,0x4C,0x0B,0x5B,0x0B,
    0x6A,0x0B,0x79,0x0B,0x88,0x0B,0x97,0x0B,0xA6,0x0B,0xB5,0x0B,0xC4,0x0B,0xD3,0x0B,
    0xE2,0x0B,0xF1,0x0B,0xFF,0x0B,0x0E,0x0C,0x1D,0x0C,0x2C,0x0C,0x3B,0x0C,0x4A,0x0C,
    0x58,0x0C,0x67,0x0C,0x76,0x0C,0x85,0x0C,0x94,0x0C,0xA2,0x0C,0xB1,0x0C,0xC0,0x0C,
    0xCF,0x0C,0xDD,0x0C,0xEC,0x0C,0xFB,0x0C,0x0A,0x0D,0x18,0x0D,0x27,0x0D,0x36,0x0D,
    0x44,0x0D,0x53,0x0D,0x62,0x0D,0x71,0x0D,0x7F,0x0D,0x8E,0x0D,0x9D,0x0D,0xAB,0x0D,
    0xBA,0x0D,0xC8,0x0D,0xD7,0x0D,0xE6,0x0D,0xF4,0x0D,0x03,0x0E,0x12,0x0E,0x20,0x0E,
    0x2F,0x0E,0x3D,0x0E,0x4C,0x0E,0x5A,0x0E,0x69,0x0E,0x78,0x0E,0x86,0x0E,0x95,0x0E,
    0xA3,0x0E,0xB2,0x0E,0xC0,0x0E,0xCF,0x0E,0xDD,0x0E,0xEC,0x0E,0xFA,0x0E,0x09,0x0F,
    0x17,0x0F,0x26,0x0F,0x34,0x0F,0x43,0x0F,0x51,0x0F,0x60,0x0F,0x6E,0x0F,0x7D,0x0F,
    0x8B,0x0F,0x99,0x0F,0xA8,0x0F,0xB6,0x0F,0xC5,0x0F,0xD3,0x0F,0xE2,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma100_N[] =
{
    0x00,0x00,0x10,0x00,0x20,0x00,0x30,0x00,0x40,0x00,0x50,0x00,0x60,0x00,0x70,0x00,
    0x80,0x00,0x90,0x00,0xA0,0x00,0xB0,0x00,0xC0,0x00,0xD0,0x00,0xE0,0x00,0xF0,0x00,
    0x00,0x01,0x10,0x01,0x20,0x01,0x30,0x01,0x40,0x01,0x50,0x01,0x60,0x01,0x70,0x01,
    0x80,0x01,0x90,0x01,0xA0,0x01,0xB0,0x01,0xC0,0x01,0xD0,0x01,0xE0,0x01,0xF0,0x01,
    0x00,0x02,0x10,0x02,0x20,0x02,0x30,0x02,0x40,0x02,0x50,0x02,0x60,0x02,0x70,0x02,
    0x80,0x02,0x90,0x02,0xA0,0x02,0xB0,0x02,0xC0,0x02,0xD0,0x02,0xE0,0x02,0xF0,0x02,
    0x00,0x03,0x10,0x03,0x20,0x03,0x30,0x03,0x40,0x03,0x50,0x03,0x60,0x03,0x70,0x03,
    0x80,0x03,0x90,0x03,0xA0,0x03,0xB0,0x03,0xC0,0x03,0xD0,0x03,0xE0,0x03,0xF0,0x03,
    0x00,0x04,0x10,0x04,0x20,0x04,0x30,0x04,0x40,0x04,0x50,0x04,0x60,0x04,0x70,0x04,
    0x80,0x04,0x90,0x04,0xA0,0x04,0xB0,0x04,0xC0,0x04,0xD0,0x04,0xE0,0x04,0xF0,0x04,
    0x00,0x05,0x10,0x05,0x20,0x05,0x30,0x05,0x40,0x05,0x50,0x05,0x60,0x05,0x70,0x05,
    0x80,0x05,0x90,0x05,0xA0,0x05,0xB0,0x05,0xC0,0x05,0xD0,0x05,0xE0,0x05,0xF0,0x05,
    0x00,0x06,0x10,0x06,0x20,0x06,0x30,0x06,0x40,0x06,0x50,0x06,0x60,0x06,0x70,0x06,
    0x80,0x06,0x90,0x06,0xA0,0x06,0xB0,0x06,0xC0,0x06,0xD0,0x06,0xE0,0x06,0xF0,0x06,
    0x00,0x07,0x10,0x07,0x20,0x07,0x30,0x07,0x40,0x07,0x50,0x07,0x60,0x07,0x70,0x07,
    0x80,0x07,0x90,0x07,0xA0,0x07,0xB0,0x07,0xC0,0x07,0xD0,0x07,0xE0,0x07,0xF0,0x07,
    0x00,0x08,0x10,0x08,0x20,0x08,0x30,0x08,0x40,0x08,0x50,0x08,0x60,0x08,0x70,0x08,
    0x80,0x08,0x90,0x08,0xA0,0x08,0xB0,0x08,0xC0,0x08,0xD0,0x08,0xE0,0x08,0xF0,0x08,
    0x00,0x09,0x10,0x09,0x20,0x09,0x30,0x09,0x40,0x09,0x50,0x09,0x60,0x09,0x70,0x09,
    0x80,0x09,0x90,0x09,0xA0,0x09,0xB0,0x09,0xC0,0x09,0xD0,0x09,0xE0,0x09,0xF0,0x09,
    0x00,0x0A,0x10,0x0A,0x20,0x0A,0x30,0x0A,0x40,0x0A,0x50,0x0A,0x60,0x0A,0x70,0x0A,
    0x80,0x0A,0x90,0x0A,0xA0,0x0A,0xB0,0x0A,0xC0,0x0A,0xD0,0x0A,0xE0,0x0A,0xF0,0x0A,
    0x00,0x0B,0x10,0x0B,0x20,0x0B,0x30,0x0B,0x40,0x0B,0x50,0x0B,0x60,0x0B,0x70,0x0B,
    0x80,0x0B,0x90,0x0B,0xA0,0x0B,0xB0,0x0B,0xC0,0x0B,0xD0,0x0B,0xE0,0x0B,0xF0,0x0B,
    0x00,0x0C,0x10,0x0C,0x20,0x0C,0x30,0x0C,0x40,0x0C,0x50,0x0C,0x60,0x0C,0x70,0x0C,
    0x80,0x0C,0x90,0x0C,0xA0,0x0C,0xB0,0x0C,0xC0,0x0C,0xD0,0x0C,0xE0,0x0C,0xF0,0x0C,
    0x00,0x0D,0x10,0x0D,0x20,0x0D,0x30,0x0D,0x40,0x0D,0x50,0x0D,0x60,0x0D,0x70,0x0D,
    0x80,0x0D,0x90,0x0D,0xA0,0x0D,0xB0,0x0D,0xC0,0x0D,0xD0,0x0D,0xE0,0x0D,0xF0,0x0D,
    0x00,0x0E,0x10,0x0E,0x20,0x0E,0x30,0x0E,0x40,0x0E,0x50,0x0E,0x60,0x0E,0x70,0x0E,
    0x80,0x0E,0x90,0x0E,0xA0,0x0E,0xB0,0x0E,0xC0,0x0E,0xD0,0x0E,0xE0,0x0E,0xF0,0x0E,
    0x00,0x0F,0x10,0x0F,0x20,0x0F,0x30,0x0F,0x40,0x0F,0x50,0x0F,0x60,0x0F,0x70,0x0F,
    0x80,0x0F,0x90,0x0F,0xA0,0x0F,0xB0,0x0F,0xC0,0x0F,0xD0,0x0F,0xE0,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma110_N[] =
{
    0x00,0x00,0x09,0x00,0x14,0x00,0x1F,0x00,0x2A,0x00,0x36,0x00,0x42,0x00,0x4E,0x00,
    0x5B,0x00,0x67,0x00,0x74,0x00,0x81,0x00,0x8D,0x00,0x9A,0x00,0xA8,0x00,0xB5,0x00,
    0xC2,0x00,0xCF,0x00,0xDD,0x00,0xEA,0x00,0xF8,0x00,0x06,0x01,0x14,0x01,0x21,0x01,
    0x2F,0x01,0x3D,0x01,0x4B,0x01,0x59,0x01,0x67,0x01,0x75,0x01,0x84,0x01,0x92,0x01,
    0xA0,0x01,0xAE,0x01,0xBD,0x01,0xCB,0x01,0xDA,0x01,0xE8,0x01,0xF7,0x01,0x05,0x02,
    0x14,0x02,0x22,0x02,0x31,0x02,0x40,0x02,0x4F,0x02,0x5D,0x02,0x6C,0x02,0x7B,0x02,
    0x8A,0x02,0x99,0x02,0xA8,0x02,0xB7,0x02,0xC6,0x02,0xD5,0x02,0xE4,0x02,0xF3,0x02,
    0x02,0x03,0x11,0x03,0x20,0x03,0x2F,0x03,0x3F,0x03,0x4E,0x03,0x5D,0x03,0x6C,0x03,
    0x7C,0x03,0x8B,0x03,0x9A,0x03,0xAA,0x03,0xB9,0x03,0xC9,0x03,0xD8,0x03,0xE8,0x03,
    0xF7,0x03,0x07,0x04,0x16,0x04,0x26,0x04,0x35,0x04,0x45,0x04,0x55,0x04,0x64,0x04,
    0x74,0x04,0x84,0x04,0x93,0x04,0xA3,0x04,0xB3,0x04,0xC3,0x04,0xD2,0x04,0xE2,0x04,
    0xF2,0x04,0x02,0x05,0x12,0x05,0x21,0x05,0x31,0x05,0x41,0x05,0x51,0x05,0x61,0x05,
    0x71,0x05,0x81,0x05,0x91,0x05,0xA1,0x05,0xB1,0x05,0xC1,0x05,0xD1,0x05,0xE1,0x05,
    0xF1,0x05,0x01,0x06,0x11,0x06,0x22,0x06,0x32,0x06,0x42,0x06,0x52,0x06,0x62,0x06,
    0x72,0x06,0x83,0x06,0x93,0x06,0xA3,0x06,0xB3,0x06,0xC4,0x06,0xD4,0x06,0xE4,0x06,
    0xF5,0x06,0x05,0x07,0x15,0x07,0x26,0x07,0x36,0x07,0x46,0x07,0x57,0x07,0x67,0x07,
    0x78,0x07,0x88,0x07,0x98,0x07,0xA9,0x07,0xB9,0x07,0xCA,0x07,0xDA,0x07,0xEB,0x07,
    0xFB,0x07,0x0C,0x08,0x1D,0x08,0x2D,0x08,0x3E,0x08,0x4E,0x08,0x5F,0x08,0x6F,0x08,
    0x80,0x08,0x91,0x08,0xA1,0x08,0xB2,0x08,0xC3,0x08,0xD3,0x08,0xE4,0x08,0xF5,0x08,
    0x05,0x09,0x16,0x09,0x27,0x09,0x38,0x09,0x48,0x09,0x59,0x09,0x6A,0x09,0x7B,0x09,
    0x8B,0x09,0x9C,0x09,0xAD,0x09,0xBE,0x09,0xCF,0x09,0xE0,0x09,0xF0,0x09,0x01,0x0A,
    0x12,0x0A,0x23,0x0A,0x34,0x0A,0x45,0x0A,0x56,0x0A,0x67,0x0A,0x78,0x0A,0x89,0x0A,
    0x9A,0x0A,0xAA,0x0A,0xBB,0x0A,0xCC,0x0A,0xDD,0x0A,0xEE,0x0A,0xFF,0x0A,0x10,0x0B,
    0x21,0x0B,0x33,0x0B,0x44,0x0B,0x55,0x0B,0x66,0x0B,0x77,0x0B,0x88,0x0B,0x99,0x0B,
    0xAA,0x0B,0xBB,0x0B,0xCC,0x0B,0xDD,0x0B,0xEF,0x0B,0x00,0x0C,0x11,0x0C,0x22,0x0C,
    0x33,0x0C,0x44,0x0C,0x56,0x0C,0x67,0x0C,0x78,0x0C,0x89,0x0C,0x9A,0x0C,0xAC,0x0C,
    0xBD,0x0C,0xCE,0x0C,0xDF,0x0C,0xF1,0x0C,0x02,0x0D,0x13,0x0D,0x25,0x0D,0x36,0x0D,
    0x47,0x0D,0x58,0x0D,0x6A,0x0D,0x7B,0x0D,0x8C,0x0D,0x9E,0x0D,0xAF,0x0D,0xC0,0x0D,
    0xD2,0x0D,0xE3,0x0D,0xF5,0x0D,0x06,0x0E,0x17,0x0E,0x29,0x0E,0x3A,0x0E,0x4C,0x0E,
    0x5D,0x0E,0x6F,0x0E,0x80,0x0E,0x91,0x0E,0xA3,0x0E,0xB4,0x0E,0xC6,0x0E,0xD7,0x0E,
    0xE9,0x0E,0xFA,0x0E,0x0C,0x0F,0x1D,0x0F,0x2F,0x0F,0x40,0x0F,0x52,0x0F,0x63,0x0F,
    0x75,0x0F,0x87,0x0F,0x98,0x0F,0xAA,0x0F,0xBB,0x0F,0xCD,0x0F,0xDE,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma118_N[] =
{
    0x00,0x00,0x06,0x00,0x0D,0x00,0x16,0x00,0x1E,0x00,0x27,0x00,0x31,0x00,0x3B,0x00,
    0x45,0x00,0x4F,0x00,0x59,0x00,0x64,0x00,0x6F,0x00,0x7A,0x00,0x85,0x00,0x90,0x00,
    0x9C,0x00,0xA7,0x00,0xB3,0x00,0xBE,0x00,0xCA,0x00,0xD6,0x00,0xE2,0x00,0xEF,0x00,
    0xFB,0x00,0x07,0x01,0x14,0x01,0x20,0x01,0x2D,0x01,0x3A,0x01,0x47,0x01,0x53,0x01,
    0x60,0x01,0x6D,0x01,0x7B,0x01,0x88,0x01,0x95,0x01,0xA2,0x01,0xB0,0x01,0xBD,0x01,
    0xCB,0x01,0xD8,0x01,0xE6,0x01,0xF3,0x01,0x01,0x02,0x0F,0x02,0x1D,0x02,0x2B,0x02,
    0x39,0x02,0x47,0x02,0x55,0x02,0x63,0x02,0x71,0x02,0x7F,0x02,0x8D,0x02,0x9C,0x02,
    0xAA,0x02,0xB8,0x02,0xC7,0x02,0xD5,0x02,0xE4,0x02,0xF2,0x02,0x01,0x03,0x10,0x03,
    0x1E,0x03,0x2D,0x03,0x3C,0x03,0x4B,0x03,0x5A,0x03,0x69,0x03,0x77,0x03,0x86,0x03,
    0x95,0x03,0xA5,0x03,0xB4,0x03,0xC3,0x03,0xD2,0x03,0xE1,0x03,0xF0,0x03,0x00,0x04,
    0x0F,0x04,0x1E,0x04,0x2E,0x04,0x3D,0x04,0x4D,0x04,0x5C,0x04,0x6B,0x04,0x7B,0x04,
    0x8B,0x04,0x9A,0x04,0xAA,0x04,0xBA,0x04,0xC9,0x04,0xD9,0x04,0xE9,0x04,0xF8,0x04,
    0x08,0x05,0x18,0x05,0x28,0x05,0x38,0x05,0x48,0x05,0x58,0x05,0x68,0x05,0x78,0x05,
    0x88,0x05,0x98,0x05,0xA8,0x05,0xB8,0x05,0xC8,0x05,0xD9,0x05,0xE9,0x05,0xF9,0x05,
    0x09,0x06,0x1A,0x06,0x2A,0x06,0x3A,0x06,0x4B,0x06,0x5B,0x06,0x6B,0x06,0x7C,0x06,
    0x8C,0x06,0x9D,0x06,0xAD,0x06,0xBE,0x06,0xCF,0x06,0xDF,0x06,0xF0,0x06,0x00,0x07,
    0x11,0x07,0x22,0x07,0x32,0x07,0x43,0x07,0x54,0x07,0x65,0x07,0x76,0x07,0x86,0x07,
    0x97,0x07,0xA8,0x07,0xB9,0x07,0xCA,0x07,0xDB,0x07,0xEC,0x07,0xFD,0x07,0x0E,0x08,
    0x1F,0x08,0x30,0x08,0x41,0x08,0x52,0x08,0x63,0x08,0x74,0x08,0x85,0x08,0x97,0x08,
    0xA8,0x08,0xB9,0x08,0xCA,0x08,0xDB,0x08,0xED,0x08,0xFE,0x08,0x0F,0x09,0x21,0x09,
    0x32,0x09,0x43,0x09,0x55,0x09,0x66,0x09,0x78,0x09,0x89,0x09,0x9B,0x09,0xAC,0x09,
    0xBD,0x09,0xCF,0x09,0xE1,0x09,0xF2,0x09,0x04,0x0A,0x15,0x0A,0x27,0x0A,0x39,0x0A,
    0x4A,0x0A,0x5C,0x0A,0x6E,0x0A,0x7F,0x0A,0x91,0x0A,0xA3,0x0A,0xB4,0x0A,0xC6,0x0A,
    0xD8,0x0A,0xEA,0x0A,0xFC,0x0A,0x0E,0x0B,0x1F,0x0B,0x31,0x0B,0x43,0x0B,0x55,0x0B,
    0x67,0x0B,0x79,0x0B,0x8B,0x0B,0x9D,0x0B,0xAF,0x0B,0xC1,0x0B,0xD3,0x0B,0xE5,0x0B,
    0xF7,0x0B,0x09,0x0C,0x1B,0x0C,0x2D,0x0C,0x3F,0x0C,0x52,0x0C,0x64,0x0C,0x76,0x0C,
    0x88,0x0C,0x9A,0x0C,0xAD,0x0C,0xBF,0x0C,0xD1,0x0C,0xE3,0x0C,0xF6,0x0C,0x08,0x0D,
    0x1A,0x0D,0x2D,0x0D,0x3F,0x0D,0x51,0x0D,0x64,0x0D,0x76,0x0D,0x88,0x0D,0x9B,0x0D,
    0xAD,0x0D,0xC0,0x0D,0xD2,0x0D,0xE5,0x0D,0xF7,0x0D,0x0A,0x0E,0x1C,0x0E,0x2F,0x0E,
    0x41,0x0E,0x54,0x0E,0x67,0x0E,0x79,0x0E,0x8C,0x0E,0x9E,0x0E,0xB1,0x0E,0xC4,0x0E,
    0xD6,0x0E,0xE9,0x0E,0xFC,0x0E,0x0E,0x0F,0x21,0x0F,0x34,0x0F,0x47,0x0F,0x59,0x0F,
    0x6C,0x0F,0x7F,0x0F,0x92,0x0F,0xA5,0x0F,0xB7,0x0F,0xCA,0x0F,0xDD,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma127_N[] =
{
    0x00,0x00,0x04,0x00,0x09,0x00,0x0E,0x00,0x15,0x00,0x1C,0x00,0x23,0x00,0x2A,0x00,
    0x32,0x00,0x3A,0x00,0x43,0x00,0x4B,0x00,0x54,0x00,0x5D,0x00,0x66,0x00,0x70,0x00,
    0x79,0x00,0x83,0x00,0x8D,0x00,0x97,0x00,0xA1,0x00,0xAB,0x00,0xB6,0x00,0xC0,0x00,
    0xCB,0x00,0xD6,0x00,0xE1,0x00,0xEC,0x00,0xF7,0x00,0x02,0x01,0x0D,0x01,0x19,0x01,
    0x24,0x01,0x30,0x01,0x3C,0x01,0x48,0x01,0x54,0x01,0x60,0x01,0x6C,0x01,0x78,0x01,
    0x84,0x01,0x90,0x01,0x9D,0x01,0xA9,0x01,0xB6,0x01,0xC3,0x01,0xD0,0x01,0xDC,0x01,
    0xE9,0x01,0xF6,0x01,0x03,0x02,0x10,0x02,0x1E,0x02,0x2B,0x02,0x38,0x02,0x46,0x02,
    0x53,0x02,0x61,0x02,0x6E,0x02,0x7C,0x02,0x8A,0x02,0x97,0x02,0xA5,0x02,0xB3,0x02,
    0xC1,0x02,0xCF,0x02,0xDD,0x02,0xEB,0x02,0xF9,0x02,0x08,0x03,0x16,0x03,0x24,0x03,
    0x33,0x03,0x41,0x03,0x50,0x03,0x5E,0x03,0x6D,0x03,0x7C,0x03,0x8A,0x03,0x99,0x03,
    0xA8,0x03,0xB7,0x03,0xC6,0x03,0xD5,0x03,0xE4,0x03,0xF3,0x03,0x02,0x04,0x11,0x04,
    0x20,0x04,0x30,0x04,0x3F,0x04,0x4E,0x04,0x5E,0x04,0x6D,0x04,0x7D,0x04,0x8C,0x04,
    0x9C,0x04,0xAC,0x04,0xBB,0x04,0xCB,0x04,0xDB,0x04,0xEA,0x04,0xFA,0x04,0x0A,0x05,
    0x1A,0x05,0x2A,0x05,0x3A,0x05,0x4A,0x05,0x5A,0x05,0x6A,0x05,0x7B,0x05,0x8B,0x05,
    0x9B,0x05,0xAB,0x05,0xBC,0x05,0xCC,0x05,0xDC,0x05,0xED,0x05,0xFD,0x05,0x0E,0x06,
    0x1E,0x06,0x2F,0x06,0x40,0x06,0x50,0x06,0x61,0x06,0x72,0x06,0x83,0x06,0x93,0x06,
    0xA4,0x06,0xB5,0x06,0xC6,0x06,0xD7,0x06,0xE8,0x06,0xF9,0x06,0x0A,0x07,0x1B,0x07,
    0x2C,0x07,0x3D,0x07,0x4F,0x07,0x60,0x07,0x71,0x07,0x82,0x07,0x94,0x07,0xA5,0x07,
    0xB7,0x07,0xC8,0x07,0xD9,0x07,0xEB,0x07,0xFC,0x07,0x0E,0x08,0x20,0x08,0x31,0x08,
    0x43,0x08,0x55,0x08,0x66,0x08,0x78,0x08,0x8A,0x08,0x9C,0x08,0xAE,0x08,0xBF,0x08,
    0xD1,0x08,0xE3,0x08,0xF5,0x08,0x07,0x09,0x19,0x09,0x2B,0x09,0x3D,0x09,0x4F,0x09,
    0x62,0x09,0x74,0x09,0x86,0x09,0x98,0x09,0xAA,0x09,0xBD,0x09,0xCF,0x09,0xE1,0x09,
    0xF4,0x09,0x06,0x0A,0x19,0x0A,0x2B,0x0A,0x3E,0x0A,0x50,0x0A,0x63,0x0A,0x75,0x0A,
    0x88,0x0A,0x9A,0x0A,0xAD,0x0A,0xC0,0x0A,0xD2,0x0A,0xE5,0x0A,0xF8,0x0A,0x0B,0x0B,
    0x1D,0x0B,0x30,0x0B,0x43,0x0B,0x56,0x0B,0x69,0x0B,0x7C,0x0B,0x8F,0x0B,0xA2,0x0B,
    0xB5,0x0B,0xC8,0x0B,0xDB,0x0B,0xEE,0x0B,0x01,0x0C,0x14,0x0C,0x27,0x0C,0x3B,0x0C,
    0x4E,0x0C,0x61,0x0C,0x74,0x0C,0x88,0x0C,0x9B,0x0C,0xAE,0x0C,0xC2,0x0C,0xD5,0x0C,
    0xE9,0x0C,0xFC,0x0C,0x0F,0x0D,0x23,0x0D,0x36,0x0D,0x4A,0x0D,0x5E,0x0D,0x71,0x0D,
    0x85,0x0D,0x98,0x0D,0xAC,0x0D,0xC0,0x0D,0xD3,0x0D,0xE7,0x0D,0xFB,0x0D,0x0F,0x0E,
    0x22,0x0E,0x36,0x0E,0x4A,0x0E,0x5E,0x0E,0x72,0x0E,0x86,0x0E,0x9A,0x0E,0xAE,0x0E,
    0xC2,0x0E,0xD6,0x0E,0xEA,0x0E,0xFE,0x0E,0x12,0x0F,0x26,0x0F,0x3A,0x0F,0x4E,0x0F,
    0x62,0x0F,0x76,0x0F,0x8B,0x0F,0x9F,0x0F,0xB3,0x0F,0xC7,0x0F,0xDC,0x0F,0xF0,0x0F,
};

code BYTE tblFixGamma136_N[] =
{
    0x00,0x00,0x02,0x00,0x06,0x00,0x0A,0x00,0x0E,0x00,0x13,0x00,0x19,0x00,0x1F,0x00,
    0x25,0x00,0x2B,0x00,0x32,0x00,0x39,0x00,0x40,0x00,0x47,0x00,0x4F,0x00,0x57,0x00,
    0x5E,0x00,0x67,0x00,0x6F,0x00,0x77,0x00,0x80,0x00,0x89,0x00,0x92,0x00,0x9B,0x00,
    0xA4,0x00,0xAD,0x00,0xB7,0x00,0xC0,0x00,0xCA,0x00,0xD4,0x00,0xDE,0x00,0xE8,0x00,
    0xF3,0x00,0xFD,0x00,0x07,0x01,0x12,0x01,0x1D,0x01,0x27,0x01,0x32,0x01,0x3D,0x01,
    0x49,0x01,0x54,0x01,0x5F,0x01,0x6A,0x01,0x76,0x01,0x82,0x01,0x8D,0x01,0x99,0x01,
    0xA5,0x01,0xB1,0x01,0xBD,0x01,0xC9,0x01,0xD5,0x01,0xE2,0x01,0xEE,0x01,0xFB,0x01,
    0x07,0x02,0x14,0x02,0x21,0x02,0x2D,0x02,0x3A,0x02,0x47,0x02,0x54,0x02,0x61,0x02,
    0x6F,0x02,0x7C,0x02,0x89,0x02,0x97,0x02,0xA4,0x02,0xB2,0x02,0xBF,0x02,0xCD,0x02,
    0xDB,0x02,0xE9,0x02,0xF6,0x02,0x04,0x03,0x12,0x03,0x21,0x03,0x2F,0x03,0x3D,0x03,
    0x4B,0x03,0x5A,0x03,0x68,0x03,0x77,0x03,0x85,0x03,0x94,0x03,0xA2,0x03,0xB1,0x03,
    0xC0,0x03,0xCF,0x03,0xDE,0x03,0xED,0x03,0xFC,0x03,0x0B,0x04,0x1A,0x04,0x29,0x04,
    0x39,0x04,0x48,0x04,0x57,0x04,0x67,0x04,0x76,0x04,0x86,0x04,0x95,0x04,0xA5,0x04,
    0xB5,0x04,0xC5,0x04,0xD4,0x04,0xE4,0x04,0xF4,0x04,0x04,0x05,0x14,0x05,0x24,0x05,
    0x35,0x05,0x45,0x05,0x55,0x05,0x65,0x05,0x76,0x05,0x86,0x05,0x97,0x05,0xA7,0x05,
    0xB8,0x05,0xC8,0x05,0xD9,0x05,0xEA,0x05,0xFA,0x05,0x0B,0x06,0x1C,0x06,0x2D,0x06,
    0x3E,0x06,0x4F,0x06,0x60,0x06,0x71,0x06,0x82,0x06,0x93,0x06,0xA5,0x06,0xB6,0x06,
    0xC7,0x06,0xD9,0x06,0xEA,0x06,0xFC,0x06,0x0D,0x07,0x1F,0x07,0x30,0x07,0x42,0x07,
    0x54,0x07,0x65,0x07,0x77,0x07,0x89,0x07,0x9B,0x07,0xAD,0x07,0xBF,0x07,0xD1,0x07,
    0xE3,0x07,0xF5,0x07,0x07,0x08,0x19,0x08,0x2B,0x08,0x3E,0x08,0x50,0x08,0x62,0x08,
    0x75,0x08,0x87,0x08,0x99,0x08,0xAC,0x08,0xBE,0x08,0xD1,0x08,0xE4,0x08,0xF6,0x08,
    0x09,0x09,0x1C,0x09,0x2F,0x09,0x41,0x09,0x54,0x09,0x67,0x09,0x7A,0x09,0x8D,0x09,
    0xA0,0x09,0xB3,0x09,0xC6,0x09,0xD9,0x09,0xED,0x09,0x00,0x0A,0x13,0x0A,0x26,0x0A,
    0x3A,0x0A,0x4D,0x0A,0x60,0x0A,0x74,0x0A,0x87,0x0A,0x9B,0x0A,0xAE,0x0A,0xC2,0x0A,
    0xD6,0x0A,0xE9,0x0A,0xFD,0x0A,0x11,0x0B,0x25,0x0B,0x38,0x0B,0x4C,0x0B,0x60,0x0B,
    0x74,0x0B,0x88,0x0B,0x9C,0x0B,0xB0,0x0B,0xC4,0x0B,0xD8,0x0B,0xEC,0x0B,0x00,0x0C,
    0x15,0x0C,0x29,0x0C,0x3D,0x0C,0x51,0x0C,0x66,0x0C,0x7A,0x0C,0x8F,0x0C,0xA3,0x0C,
    0xB8,0x0C,0xCC,0x0C,0xE1,0x0C,0xF5,0x0C,0x0A,0x0D,0x1E,0x0D,0x33,0x0D,0x48,0x0D,
    0x5D,0x0D,0x71,0x0D,0x86,0x0D,0x9B,0x0D,0xB0,0x0D,0xC5,0x0D,0xDA,0x0D,0xEF,0x0D,
    0x04,0x0E,0x19,0x0E,0x2E,0x0E,0x43,0x0E,0x58,0x0E,0x6D,0x0E,0x83,0x0E,0x98,0x0E,
    0xAD,0x0E,0xC2,0x0E,0xD8,0x0E,0xED,0x0E,0x03,0x0F,0x18,0x0F,0x2D,0x0F,0x43,0x0F,
    0x58,0x0F,0x6E,0x0F,0x84,0x0F,0x99,0x0F,0xAF,0x0F,0xC5,0x0F,0xDA,0x0F,0xF0,0x0F,
};
#endif
/*
//fixgamma : 256 entry - 12 bits
code BYTE *tAllFixGammaTab[][3]=
{
    {tblFixGamma10_N, tblFixGamma10_N, tblFixGamma10_N,},
    {tblFixGamma18_N, tblFixGamma18_N, tblFixGamma18_N,},
    {tblFixGamma20_N, tblFixGamma20_N, tblFixGamma20_N,},
};
*/
//fixgamma for multiple gamma (FixGma = PostGma(by2.2) / GmaSpec.)
//Gma 1.6 = PostGma + FixGma 0.72
//Gma 1.8 = PostGma & FixGma 0.81
//Gma 2.0 = PostGma & FixGma 0.9
//Gma 2.2 = PostGma & FixGma 1
//Gma 2.4 = PostGma & FixGma 1.1
//Gma 2.6 = PostGma & FixGma 1.18
//Gma 2.8 = PostGma & FixGma 1.27
//Gma 3.0 = PostGma & FixGma 1.36
code BYTE *tAllAdjustGammaFixGammaTab[][3] =
{
    {tblFixGamma072_N, tblFixGamma072_N, tblFixGamma072_N,}, //Gma 1.6
    {tblFixGamma081_N, tblFixGamma081_N, tblFixGamma081_N,}, //Gma 1.8
    {tblFixGamma090_N, tblFixGamma090_N, tblFixGamma090_N,}, //Gma 2.0
    {tblFixGamma10_N, tblFixGamma10_N, tblFixGamma10_N,}, //Gma 2.2
    {tblFixGamma110_N, tblFixGamma110_N, tblFixGamma110_N,}, //Gma 2.4
    {tblFixGamma118_N, tblFixGamma118_N, tblFixGamma118_N,}, //Gma 2.6
    {tblFixGamma127_N, tblFixGamma127_N, tblFixGamma127_N,}, //Gma 2.8
    {tblFixGamma136_N, tblFixGamma136_N, tblFixGamma136_N,}, //Gma 3.0
};

#endif

const BYTE AutoColorCommand[] = {
    MS_ColorEngine_OnOff,
    MS_Set_PostGamma,
    MS_WR_PostGamma,
    MS_SetPostGammaFromMem,
    MS_LoadColorMode,
    MS_LoadPostGamma,
    MS_Set_3DLUT,
    MS_WR_3DLUT,
    MS_Set_DICOM_Mode,
    MS_Set_GammaCurve,
    MS_Set_ColorTrackMode,
    MS_WR_ColorMatrix,
    MS_SAVE_ColorMatrix,
    MS_WR_ColorTemp,
    MS_Set_ColorTemp,
    MS_Set_RGBGain,
    MS_IsUse_3DLUT,
    MS_GetBrightnessPWMFormat,
    MS_GetDeltaEVersion,
	MS_GetEEPROMData,
#if ENABLE_ReadColorFUNCTION_FROM_FW
    MS_ReadFirmwareSetting,
    MS_ReadColorTempValue,
#endif
    MS_WR_HDRPanelInfo,
    MS_WR_HDRColorTempGain,
    MS_LoadHDRColorMode,
    MS_GetHDRPanelMaxLum,
    MS_HDR_BacklightToMax,
    MS_WR_HDR_10StepLumMap,
    MS_Set_HDR_10StepLumMap,
    MS_Set_FS2_Brightness,
    MS_WR_FS2_Brightness,
    MS_Save_ColorMode_Adjust_PWM,  
    MS_Get_ColorMode_Adjust_PWM,  
    MS_SAVE_ColorMode_VerifiedDeltaE,
    MS_SAVE_ColorMode_VerifiedColorTemp,
    MS_SAVE_ColorMode_VerifiedGamma,
    MS_SAVE_ColorMode_VerifiedColorTrack,
    MS_GET_ColorMode_VerifiedDeltaE,
    MS_GET_ColorMode_VerifiedColorTemp,
    MS_GET_ColorMode_VerifiedGamma,
    MS_GET_ColorMode_VerifiedColorTrack,
    MS_WR_HDR_Calibrate_Y,
    MS_Set_LDStrength,
    MS_WR_LD_CalibrateData,
    MS_LoadLDTable,
    MS_Set_LD_Pattern,
};
void msSetPostRGBGain(BYTE u8WinIdx, WORD Rgain, WORD Ggain, WORD Bgain);
//=========================================CheckSum=========================================//
BYTE GetCRCU8CheckSum(BYTE *pData, int size);
DWORD GetCheckSum(BYTE * pData, int size);
DWORD GetCRCCheckSum(BYTE * pData, int size);
WORD DDCcmd_CRCU16CheckSum_Get(BYTE * pData, int size);
#if Enable3DLUTColorMode
void _EEPROMColorMode3DLUTCheckSum_Get(BYTE idx, BYTE AckType, WORD *checksum);
#else
void _EEPROMColorModeMatrixCheckSum_Get(BYTE idx, BYTE AckType, WORD *checksum);
#endif
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION && ENABLE_COlORMODE_ADJUST_PWM 
void _EEPROMBrightnessPWMInfoCheckSum_Get(BYTE idx, BYTE AckType, WORD *checksum);
#endif
void _EEPROMPostGammaCheckSum_Get(BYTE mode, BYTE idx, BYTE AckType, WORD *checksum); //DICOM
#if ENABLE_COLORTEMP_FUNCTION
void _EEPROMColorTempCheckSum_Get(BYTE idx, BYTE AckType, WORD *checksum);
#endif
//==========================================================================================//
void mdrv_DeltaE_Memory_Init(DWORD addr, MemoryType enMemoryType)
{
    _addrOfAutoColorBlock = addr;
    _memoryType = enMemoryType;
    //printf("_addrOfAutoColorBlock= %x \n",_addrOfAutoColorBlock);
}

void Memory_ReadByte( DWORD u32Addr, BYTE *value )
{
if(_memoryType == enMemoryType_FLASH)
    *value = FlashFSPdwAddrReadByte(u32Addr);
else
{
#if !USEFLASH
    NVRam_ReadByte(u32Addr, value);
#endif
}
}

void Memory_ReadWord( DWORD u32Addr, WORD *value )
{
if(_memoryType == enMemoryType_FLASH)
    *value = ((( DWORD )FlashFSPdwAddrReadByte( u32Addr+1 ) ) << 8 ) | FlashFSPdwAddrReadByte( u32Addr );
else
{
#if !USEFLASH
    NVRam_ReadWord(u32Addr, value);
#endif
}
}

void Memory_ReadTbl( DWORD u32Addr, BYTE *buffer, DWORD count )
{
if(_memoryType == enMemoryType_FLASH)
    Flash_ReadTable(u32Addr, buffer, count);
else
{
#if !USEFLASH
    NVRam_ReadTbl(u32Addr, buffer, count);
#endif
}
}

void mdrv_DeltaE_FlashWriteProtect_Set(Bool bDoWP)
{
    _bDoWP = bDoWP;
}

BOOL mdrv_DeltaE_FlashByteWriter_Set(void (*fpFlashWriteByte)(Bool bDoWP, DWORD u32Addr, BYTE u8Value))
{
    if (!fpFlashWriteByte)
    {
        LUT_printMsg("FlashWriteByte config fail.\r\n");
        return FALSE;
    }

    s_FlashWriteByte = fpFlashWriteByte;
    return TRUE;
}

void Memory_WriteByte(DWORD u32Addr, BYTE value )
{
if(_memoryType == enMemoryType_FLASH && !s_FlashWriteByte){
    LUT_printMsg("!! Please assign function pointer for FlashWriteByte!!\r\n");
}
else if(s_FlashWriteByte){
    s_FlashWriteByte(_bDoWP, u32Addr, value);
}
else
{
#if !USEFLASH
    NVRam_WriteByte(u32Addr, value);
#endif
}
#if (ENABLE_ColorMode_Preload_Function)
bMemoryWritten = true;
#endif
}

BOOL mdrv_DeltaE_FlashTblWriter_Set(void (*fpFlashWriteTbl)(Bool bDoWP, DWORD u32Addr, BYTE *buffer, DWORD count))
{
    if (!fpFlashWriteTbl)
    {
        LUT_printMsg("MemoryWriteTbl config fail.\r\n");
        return FALSE;
    }

    s_FlashWriteTbl = fpFlashWriteTbl;
    return TRUE;
}

void Memory_WriteTbl(DWORD u32Addr, BYTE *buffer, DWORD count )
{
if(_memoryType == enMemoryType_FLASH && !s_FlashWriteTbl){
    LUT_printMsg("!! Please assign function pointer for FlashWriteTbl!!\r\n");
}
else if(s_FlashWriteTbl){
    s_FlashWriteTbl(_bDoWP, u32Addr, buffer, count);
}
else
{
#if !USEFLASH
    NVRam_WriteTbl(u32Addr, buffer, count);
#endif
}
#if (ENABLE_ColorMode_Preload_Function)
bMemoryWritten = true;
#endif
}


#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
#if ENABLE_COlORMODE_ADJUST_PWM
BOOL IDXGetColorModeBrightnessPWMInfo(WORD u16IDX, BrightnessPWMInfo *mBrightnessPWMInfo)
{
	int idx = 0;
	DWORD addr = 0;
	WORD curIDX = 0;
	BYTE PWM_idx = 0;
	
	LUT_printMsg("=====IDXGetColorModeBrightnessPWMInfo=====\n");
	LUT_printData("IDX : %X\n", u16IDX);
#if ENABLE_ColorMode_FUNCTION
	for (idx = 0; idx < NUM_OF_COLORMODE_GAMMA; idx++) //search IDX in ColorMode PostGammaBlock
	{
		addr = GetAddrOfColorModePostGamma(idx);
		LUT_printData("GetAddrOfColorModePostGamma : %X\n", addr);
		Memory_ReadWord(addr+offset(StoredFormatOfPostGamma, IDX), (WORD*)(&curIDX));
		LUT_printData("curIDX : %X\n", curIDX);
		
		if(u16IDX == curIDX)
		{	
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, PWM_idx), (BYTE*)(&PWM_idx));
			LUT_printData("PWM_idx : %X\n", PWM_idx);
			
			if (!msGetColorModeBrightnessPWMInfo(PWM_idx, mBrightnessPWMInfo))
			{
				LUT_printMsg("IDXGetColorModeBrightnessPWMInfo fail...");
				return false;
			}
			else
			{
				return true;
			}
		}
	}
#endif
#if ENABLE_DICOM_FUNCTION
	for (idx = 0; idx < NUM_OF_DICOM_GAMMA; idx++) //search IDX in DICOM PostGammaBlock
	{
		addr = GetAddrOfDICOM(idx);
		LUT_printData("GetAddrOfDICOM : %X\n", addr);
		Memory_ReadWord(addr+offset(StoredFormatOfPostGamma, IDX), (WORD*)(&curIDX));
		LUT_printData("curIDX : %X\n", curIDX);
		
		if(u16IDX == curIDX)
		{	
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, PWM_idx), (BYTE*)(&PWM_idx));
			LUT_printData("PWM_idx : %X\n", PWM_idx);
			
			if (!msGetColorModeBrightnessPWMInfo(PWM_idx, mBrightnessPWMInfo))
			{
				LUT_printMsg("IDXGetColorModeBrightnessPWMInfo fail...");
				return false;
			}
			else
			{
				return true;
			}
		}
	}
#endif
#if ENABLE_COLORTRACK_FUNCTION
	for (idx = 0; idx < NUM_OF_COLORTRACK_GAMMA; idx++) //search IDX in Colortrack PostGammaBlock
	{
		addr = GetAddrOfColorTrackPostGamma(idx);
		LUT_printData("GetAddrOfColorTrackPostGamma : %X\n", addr);
		Memory_ReadWord(addr+offset(StoredFormatOfPostGamma, IDX), (WORD*)(&curIDX));
		LUT_printData("curIDX : %X\n", curIDX);
		
		if(u16IDX == curIDX)
		{	
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, PWM_idx), (BYTE*)(&PWM_idx));
			LUT_printData("PWM_idx : %X\n", PWM_idx);
			
			if (!msGetColorModeBrightnessPWMInfo(PWM_idx, mBrightnessPWMInfo))
			{
				LUT_printMsg("IDXGetColorModeBrightnessPWMInfo fail...");
				return false;
			}
			else
			{
				return true;
			}
		}
	}
#endif
#if ENABLE_COLORTEMP_FUNCTION
	for (idx = 0; idx < NUM_OF_COLOR_TEMP; idx++) //search IDX in Colortemp PostGammaBlock
	{
		addr = GetAddrOfColorTempRGBGain(idx);
		LUT_printData("GetAddrOfColorTempRGBGain : %X\n", addr);
		Memory_ReadWord(addr+offset(ColorTempInfo, IDX), (WORD*)(&curIDX));
		LUT_printData("curIDX : %X\n", curIDX);
		
		if(u16IDX == curIDX)
		{	
			Memory_ReadByte(addr+offset(ColorTempInfo, PWM_idx), (BYTE*)(&PWM_idx));
			if (!msGetColorModeBrightnessPWMInfo(PWM_idx, mBrightnessPWMInfo))
			{
				LUT_printMsg("IDXGetColorModeBrightnessPWMInfo fail...");
				return false;
			}
			else
			{
				return true;
			}
		}
	}
#endif

	return false;
}
#endif
#if ENABLE_COLORTEMP_FUNCTION
BOOL IDXGetColorTempInfo(WORD u16IDX, ColorTempInfo *mColorTempInfo)
{
	BYTE idx = 0;
	DWORD addr = 0;
	WORD curIDX = 0;
	
	LUT_printMsg("=====IDXGetColorTempModeRGBgain=====\n");
	LUT_printData("IDX : %X\n", u16IDX);

	for (idx = 0; idx < NUM_OF_COLOR_TEMP; idx++) //search IDX in ColortempBlock
	{
		addr = GetAddrOfColorTempRGBGain(idx);
		LUT_printData("GetAddrOfColorTempRGBGain : %X\n", addr);
		Memory_ReadWord(addr+offset(ColorTempInfo, IDX), (WORD*)(&curIDX));
		LUT_printData("curIDX : %X\n", curIDX);
		
		if(u16IDX == curIDX)
		{	
			if (!msGetColorTempData(idx, mColorTempInfo))
			{
				LUT_printMsg("IDXGetColorTempInfo fail...");
				return false;
			}
			else
			{
				return true;
			}
		}
	}
	return false;
}
#endif
#if ENABLE_GAMMA_FUNCTION
LoadStatus IDXLoadGammaCurveMode(BYTE u8DispWin, WORD IDX, BYTE GammaIndex)
{
	LUT_printData("[IDXLoadGammaCurveMode]IDX : %X\n", IDX);
	LoadStatus loadStatus = LoadStatus_SUCCESS;
	WORD _IDX = 0;
	BYTE ucColorMode = 0, funcIdx = 0;
	DWORD addr = GetAddrOfPostGamma();
	LUT_printData("GetAddrOfPostGamma : %X\n", addr);
	Memory_ReadWord(addr+offset(StoredFormatOfPostGamma, IDX), (WORD*)(&_IDX));
	LUT_printData("_IDX : %X\n", _IDX);
	
	if(IDX == _IDX)
	{
		Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, ColorMode), (BYTE*)(&ucColorMode));
		Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, funcIdx), (BYTE*)(&funcIdx));
		loadStatus = msNewLoadColorMode(u8DispWin, ucColorMode, funcIdx);
		loadStatus |= msSetGammaCurve(u8DispWin, GammaIndex);
	}
	else
	{
		LUT_printMsg("IDXLoadGammaCurveMode can't find color mode");
		msNewLoadColorMode(u8DispWin, AutoColorFunction_GammaCurve, 0xFF);//For reset 3DLUT/Colormatrix & gamma
		return LoadStatus_RESET_ALL;
	}
	return loadStatus;
}
#endif

LoadStatus IDXLoadDeltaEColorMode(BYTE u8DispWin, WORD IDX)
{
	int idx = 0;
	DWORD addr = 0;
	WORD _IDX = 0;
	#if ENABLE_ColorMode_FUNCTION || ENABLE_DICOM_FUNCTION || ENABLE_COLORTRACK_FUNCTION
	BYTE ucColorMode = 0, funcIdx = 0;
	#endif
	LUT_printData("[IDXLoadDeltaEColorMode]IDX : %X\n", IDX);
	
#if ENABLE_ColorMode_FUNCTION	
	for (idx = 0; idx < NUM_OF_COLORMODE_GAMMA; idx++) //search IDX in ColorMode PostGammaBlock
	{
		addr = GetAddrOfColorModePostGamma(idx);
		LUT_printData("GetAddrOfColorModePostGamma : %X\n", addr);
		Memory_ReadWord(addr+offset(StoredFormatOfPostGamma, IDX), (WORD*)(&_IDX));
		LUT_printData("_IDX : %X\n", _IDX);
		
		if(IDX == _IDX)
		{
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, ColorMode), (BYTE*)(&ucColorMode));
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, funcIdx), (BYTE*)(&funcIdx));
			return msNewLoadColorMode(u8DispWin, ucColorMode, funcIdx);
		}
	}
#endif
#if ENABLE_DICOM_FUNCTION
	for (idx = 0; idx < NUM_OF_DICOM_GAMMA; idx++) //search IDX in Dicom PostGammaBlock
	{
		addr = GetAddrOfDICOM(idx);
		LUT_printData("GetAddrOfDICOM : %X\n", addr);
		Memory_ReadWord(addr+offset(StoredFormatOfDICOMGamma, IDX), (WORD*)(&_IDX));
		LUT_printData("_IDX : %X\n", _IDX);
		
		if(IDX == _IDX)
		{
			Memory_ReadByte(addr+offset(StoredFormatOfDICOMGamma, ColorMode), (BYTE*)(&ucColorMode));
			Memory_ReadByte(addr+offset(StoredFormatOfDICOMGamma, funcIdx), (BYTE*)(&funcIdx));
			return msNewLoadColorMode(u8DispWin, ucColorMode, funcIdx);
		}
	}
#endif
#if ENABLE_COLORTRACK_FUNCTION
	for (idx = 0; idx < NUM_OF_COLORTRACK_GAMMA; idx++) //search IDX in ColorTrack PostGammaBlock
	{
		addr = GetAddrOfColorTrackPostGamma(idx);
		LUT_printData("GetAddrOfColorTrackPostGamma : %X\n", addr);
		Memory_ReadWord(addr+offset(StoredFormatOfPostGamma, IDX), (WORD*)(&_IDX));
		LUT_printData("IDX : %X\n", _IDX);
		
		if(IDX == _IDX)
		{
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, ColorMode), (BYTE*)(&ucColorMode));
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, funcIdx), (BYTE*)(&funcIdx));
			return msNewLoadColorMode(u8DispWin, ucColorMode, funcIdx);
		}
	}
#endif
#if ENABLE_COLORTEMP_FUNCTION	
	for (idx = 0; idx < NUM_OF_COLOR_TEMP; idx++) //search IDX in ColorTempBlock
	{
		addr = GetAddrOfColorTempRGBGain(idx);
		LUT_printData("Addr of _colorTempRGBGain : %X\n", addr);
		Memory_ReadWord(addr+offset(ColorTempInfo, IDX), (WORD*)(&_IDX));
		LUT_printData("Check_IDX : %X\n", _IDX);

		if(IDX == _IDX)
		{
			return msLoadColorTempMode(u8DispWin, idx);
		}
	}
#endif
/*#if ENABLE_GAMMA_FUNCTION
	addr = GetAddrOfPostGamma();
	LUT_printData("GetAddrOfPostGamma : %X\n", addr);
	NVRam_ReadWord(addr+offset(StoredFormatOfPostGamma, IDX), (WORD*)(&_IDX));
	LUT_printData("_IDX : %X\n", _IDX);
	
	if(IDX == _IDX)
	{
		NVRam_ReadByte(addr+offset(StoredFormatOfPostGamma, ColorMode), (BYTE*)(&ucColorMode));
		NVRam_ReadByte(addr+offset(StoredFormatOfPostGamma, funcIdx), (BYTE*)(&funcIdx));
		return msSetGammaCurve(u8DispWin, funcIdx);
	}
#endif*/

	LUT_printMsg("IDXLoadDeltaEColorMode can't find color mode");
	msNewLoadColorMode(u8DispWin, AutoColorFunction_Default, 0xFF);//For reset 3DLUT/Colormatrix & gamma
	return LoadStatus_RESET_ALL;
}
#endif

BYTE AutoColorCalibrationHandler(BYTE u8WinIdx, WORD *checkSum)
{
	static LoadStatus loadStatus = LoadStatus_SUCCESS;

        switch(DDCBuffer[2])
        {
        #if ENABLE_DeltaE
            case MS_ColorEngine_OnOff :
            {
	            static BYTE ColorEngineStatus[5] = {0};
				static BOOL ColorEngineStatusIsBackUp = false;
	        	if ( DDCBuffer[3] == 0x00 )
	        	{
	        		if(!ColorEngineStatusIsBackUp)
	        		{
	        			ColorEngineStatusIsBackUp = true;
		        		//BackUp PostGamma Status
						ColorEngineStatus[0] = (BYTE)GETBIT(msReadByte(SC10_A0), 0);
					    #if Enable3DLUTColorMode
							//BackUp 3DLUT Status
							ColorEngineStatus[1] = (BYTE)GETBIT(msReadByte(SC14_C8), 0);
					    #else
							//BackUp DeGamma Status 
							ColorEngineStatus[2] = (BYTE)GETBIT(msReadByte(SC25_02), 0);
							//BackUp FixGamma Status
							ColorEngineStatus[3] = (BYTE)GETBIT(msReadByte(SC25_02), 2);
					        //BackUp xvYcc Color Matrix Status
							ColorEngineStatus[4] = (BYTE)GETBIT(msReadByte(SC25_02), 1);
					    #endif
                        //BackUp Panelgamma status
                        ColorEngineStatus[5] = (BYTE)GETBIT(msReadByte(SC24_DB), 4);
                    }
                    msSetColorEngine(u8WinIdx, FALSE); //Color Engine Off
                    if(ColorEngineStatus[5])
                    {
                        #if (CHIP_ID == CHIP_MT9700)
                        msSetPanelGammaOnOff(0);
                        #endif
                    }
                }
                else
                {
                    msRecoverColorEngine(ColorEngineStatus); //Color Engine restore
                }
                *checkSum = MS_ColorEngine_OnOff * 2 + DDCBuffer[3];
            }
            break;

            case MS_Set_PostGamma :
            {
                DWORD addr = 0, idx = 0;
                BYTE cnt = 0, mode = 0, ch = 0;
                mode = DDCBuffer[3]; // gamma mode
                ch = DDCBuffer[4] & 0x03 ; // gamma channel
                cnt = DDCBuffer[5] ; // data size
                addr = (WORD)(DDCBuffer[6] << 8 );
                addr += DDCBuffer[7]; // start addr-hi, lo
                if(mode == AutoColorFunction_DICOMMode)
                {
                    for(idx = 0; idx < cnt; idx++)
                    {
                        msSetDICOMGammaData(ch, addr + idx, DDCBuffer[8 + idx]);
                    }
                    *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[8]), cnt);
                }
                else{
                    for(idx = 0; idx < cnt; idx++)
                    {
                        msSetPostGammaData(ch, addr + idx, DDCBuffer[8 + idx]);
                    }
                    *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[8]), cnt);
                }
            }
            break;
/*
            case MS_SetPostGammaFromMem:
            {
                DWORD _storedAddr;
                _storedAddr =  ((DWORD)DDCBuffer[3]) << 24;
        		_storedAddr +=  ((DWORD)DDCBuffer[4]) << 16;
        	    _storedAddr +=  ((DWORD)DDCBuffer[5]) << 8;
        		_storedAddr +=  DDCBuffer[6];
                BYTE ch = 0;
                BYTE *data = NULL;
                WORD  idx = 0;
                BYTE sum = 0;
                for(ch = 0; ch < 3; ch++)
                {
                    for(idx = 0; idx < 320; idx++)
                    {
                        data = (BYTE*)_PA2VA(_storedAddr+(ch*320)+idx);
                        sum ^= (*data) & 0xFF;
                        msSetPostGammaData(ch, idx, (*data) & 0xFF);
                    }
                }
                *checkSum = sum;
            }
            break;
*/
            case MS_WR_PostGamma :
            {
                BYTE  mode, idx, GammaValue;
                mode = DDCBuffer[3];
                idx = DDCBuffer[4];
                GammaValue = DDCBuffer[5];
				LUT_printMsg("=====MS_WR_PostGamma=====");
				LUT_printData("ColorMode : %d\n", mode);
				LUT_printData("GammaValue : %d\n", GammaValue);
				LUT_printData("idx : %d\n", idx);
				
			#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
				BYTE funcIdx, CT_idx, PWM_idx, UC_flag;
				funcIdx = DDCBuffer[6];
				CT_idx = DDCBuffer[7];
				PWM_idx = DDCBuffer[8];
				UC_flag = DDCBuffer[9];
				LUT_printData("funcIdx : %d\n", funcIdx);
				LUT_printData("CT_idx : %d\n", CT_idx);
				LUT_printData("PWM_idx : %d\n", PWM_idx);
				LUT_printData("UC_flag : %d\n", UC_flag);
			#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
					WORD IDX;
					//BrightnessPWMInfo mBrightnessPWMInfo;
					IDX = (WORD)DDCBuffer[11]<<8|DDCBuffer[10];
					LUT_printData("IDX : %d\n", IDX);
					msSavePostGammaTable(mode, idx, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag, IDX);
					//IDXGetColorModeBrightnessPWMInfo(IDX, &mBrightnessPWMInfo); //FAE can get and save pwminfo to the wanted EEPROM block 
					//LUT_printData("mBrightnessPWMInfo : %d", mBrightnessPWMInfo.ADJ_PWM);
			#else
					msSavePostGammaTable(mode, idx, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag);
			#endif
			#else
				msSavePostGammaTable(mode, idx, GammaValue);
			#endif 
                BYTE CmdLength = DDCBuffer[LENGTH] & 0x7F;
                BYTE AckType = DDCBuffer[CmdLength];
                if(AckType == 1 || AckType == 2)
                {
                    _EEPROMPostGammaCheckSum_Get(mode, idx, AckType, checkSum);
                }
                else
                    *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), 2);
            }
            break;

            case MS_LoadPostGamma :
            {
                //msLoadPostGammaData();
            }
            break;

	    #if ENABLE_COlORMODE_ADJUST_PWM
	    case MS_Save_ColorMode_Adjust_PWM:	
	    {
			BYTE idx = 0;
			idx = DDCBuffer[3];	
			LUT_printMsg("=====MS_Save_ColorMode_Adjust_PWM=====");
			LUT_printData("idx : %d\n", idx);
		#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
		    BYTE PWM_Low = 0, PWM_High = 0;
	   		DWORD nits = 0;
		    PWM_Low = DDCBuffer[4];	
			PWM_High = DDCBuffer[5];
			nits =  ((DWORD)DDCBuffer[9]) << 24;
    		nits +=  ((DWORD)DDCBuffer[8]) << 16;
    	    nits +=  ((DWORD)DDCBuffer[7]) << 8;
    		nits +=  DDCBuffer[6];
			msSetColorModeAdjustBrightnessPWMInfo(idx, PWM_Low, PWM_High, nits);
			
			LUT_printData("PWM_Low : %d\n", PWM_Low);
			LUT_printData("PWM_High : %d\n", PWM_High);
			LUT_printData("nits : %d\n", nits);
            *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[4]), 6);
		#else
			BYTE pValue;
			pValue = DDCBuffer[4];	
		    msSetColorModeAdjustPWM(idx,pValue);
			LUT_printData("PWM : %d\n", pValue);
            *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[4]), 1);
		#endif
            msSaveColorModeAdjustPWM();	
            BYTE CmdLength = DDCBuffer[LENGTH] & 0x7F;
            BYTE AckType = DDCBuffer[CmdLength];
            if(AckType == 1 || AckType == 2)
            {
                _EEPROMBrightnessPWMInfoCheckSum_Get(idx, AckType, checkSum);
            }    
	    }
	    break;		
	    case MS_Get_ColorMode_Adjust_PWM:
	    {
			BYTE idx;
			idx = DDCBuffer[3];	
		#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
			BrightnessPWMInfo mBrightnessPWMInfo;
			if(msGetColorModeBrightnessPWMInfo(idx , &mBrightnessPWMInfo))  
			{
				DDCBuffer[0] = 2;
				DDCBuffer[1] = (mBrightnessPWMInfo.ADJ_PWM)&0xFF;
				DDCBuffer[2] = (mBrightnessPWMInfo.ADJ_PWM)>>8;
				return 2;
			}
			else
				return 0;
		#else
			DDCBuffer[0] = 1;
			DDCBuffer[1] = msGetColorModeAdjustPWM(idx) & 0xFF;
			return 1;
		#endif
	    }
	    break;
	    #endif
		#if ENABLE_SAVE_COlORMODE_VERIFIED_VALUES
		    case MS_SAVE_ColorMode_VerifiedDeltaE:	
		    {
			    BYTE idx;
				WORD pValue;
			    idx = DDCBuffer[3];	
			    pValue = (DDCBuffer[4] << 8);	
				pValue += DDCBuffer[5];
						
				msSetColorModeVerfiedDeltaE(idx,pValue);
		        msSaveColorModeVerifiedValues();
		    }
		    break;		
		    case MS_SAVE_ColorMode_VerifiedColorTemp:
		    {
				BYTE idx;
				WORD pValue;
			    idx = DDCBuffer[3];	
			    pValue = (DDCBuffer[4] << 8);	
				pValue += DDCBuffer[5];
				
			    msSetColorModeVerfiedColorTemp(idx,pValue);
		        msSaveColorModeVerifiedValues();
		    }
		    break;
			case MS_SAVE_ColorMode_VerifiedGamma:
		    {
				BYTE idx;
				WORD pValue;
			    idx = DDCBuffer[3];	
			    pValue = (DDCBuffer[4] << 8);	
				pValue += DDCBuffer[5];
				
			    msSetColorModeVerfiedGamma(idx,pValue);
		        msSaveColorModeVerifiedValues();
		    }
		    break;
			case MS_SAVE_ColorMode_VerifiedColorTrack:
		    {
				BYTE idx;
				WORD pValue;
			    idx = DDCBuffer[3];	
			    pValue = (DDCBuffer[4] << 8);	
				pValue += DDCBuffer[5];
				
			    msSetColorModeVerfiedColorTrack(idx,pValue);
		        msSaveColorModeVerifiedValues();
		    }
		    break;
			case MS_GET_ColorMode_VerifiedDeltaE:	
		    {
			    BYTE idx;
				WORD value;
				idx = DDCBuffer[3];
				value = msGetColorModeVerfiedValues(MS_GET_ColorMode_VerifiedDeltaE, idx);
				
				DDCBuffer[0] = 2;
				DDCBuffer[1] = (BYTE)(value >> 8);
				DDCBuffer[2] = (BYTE)(value & 0xFF);
				return 2;	
		    }
		    break;		
		    case MS_GET_ColorMode_VerifiedColorTemp:
		    {
				BYTE idx;
				WORD value;
				idx = DDCBuffer[3];
				value = msGetColorModeVerfiedValues(MS_GET_ColorMode_VerifiedColorTemp, idx);

				DDCBuffer[0] = 2;
				DDCBuffer[1] = (value >> 8);
				DDCBuffer[2] = (value & 0xFF);
				return 2;	
		    }
		    break;
			case MS_GET_ColorMode_VerifiedGamma:
		    {
				BYTE idx;
				WORD value;
				idx = DDCBuffer[3];
				value = msGetColorModeVerfiedValues(MS_GET_ColorMode_VerifiedGamma, idx);

				DDCBuffer[0] = 2;
				DDCBuffer[1] = (value >> 8);
				DDCBuffer[2] = (value & 0xFF);
				return 2;	
		    }
		    break;
			case MS_GET_ColorMode_VerifiedColorTrack:
		    {
				BYTE idx;
				WORD value;
				idx = DDCBuffer[3];
				value = msGetColorModeVerfiedValues(MS_GET_ColorMode_VerifiedColorTrack, idx);

				DDCBuffer[0] = 2;
				DDCBuffer[1] = (value >> 8);
				DDCBuffer[2] = (value & 0xFF);
				return 2;	
		    }
		    break;
        #endif
            #if ENABLE_ColorMode_FUNCTION
            case MS_LoadColorMode :
            {
                *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), 2);
				
			#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
				LUT_printMsg("[MS_LoadColorMode]IDXLoadDeltaEColorMode\n");
				WORD IDX = 0;
				if(((DDCBuffer[LENGTH] & 0x7F) == 5) && (DDCBuffer[5] == 0xFF)) //0xFF: end of cmd 
				{
                	IDX = (WORD)(DDCBuffer[3] << 8)+(WORD)(DDCBuffer[4]);
					loadStatus = IDXLoadDeltaEColorMode(u8WinIdx, IDX);
					break;
				}
			#endif

                BYTE  type = 0,funcIdx = 0;
                type = DDCBuffer[3];
                funcIdx = DDCBuffer[4];
				LUT_printData("[MS_LoadColorMode]type:%d\n", type);
				LUT_printData("[MS_LoadColorMode]funcIdx: %d\n", funcIdx);

                //Turn-off local dimming
                #if (LD_ENABLE)
                    MApi_LD_Set_Localdimming_Strength(TRUE, 0x00);
                //#elif (ENABLE_MST9U3_LocalDimming && (CHIP_ID==MST9U3))
                    //Set backlight to standard ex.80%
                    //msAPI_AdjustBrightness(0x50);
                //    msSetLDOnOff(FALSE);
                #endif

	          switch(type)
                {
                #if ENABLE_ColorMode_FUNCTION
				#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
                    case AutoColorFunction_SRGB:
					case AutoColorFunction_ADOBERGB:
					case AutoColorFunction_BT709:
					case AutoColorFunction_BT2020:
					case AutoColorFunction_DCIP3:
					case AutoColorFunction_EBU:
					case AutoColorFunction_SMPTEC:
						loadStatus = msNewLoadColorMode(u8WinIdx, type, funcIdx);
                    break; 
				#else
					case  AutoColorFunction_ColorMode :
							#if ENABLE_COLORTEMP_FUNCTION
							msByPassGainOffset();
							#endif
							switch(funcIdx)
	                            {
	                                case 0x00:
	                                 //sRGB
	                                msLoadDeltaEColorMode(u8WinIdx, 0);
	                                break;

	                                case 0x01:
	                                //AdobeRGB
	                                msLoadDeltaEColorMode(u8WinIdx, 1);
	                                break;

	                                case 0x02:
	                                //BT709
	                                msLoadDeltaEColorMode(u8WinIdx, 2);
	                                break;

	                                case 0x03:
	                                //BT2020
	                                msLoadDeltaEColorMode(u8WinIdx, 3);
	                                break;

	                                case 0x04:
	                                //DCIP3
	                                msLoadDeltaEColorMode(u8WinIdx, 4);
	                                break;
	                                case 0x05:
	                                //UHDA
	                                msLoadDeltaEColorMode(u8WinIdx, 5);
	                                break;
	                            }
	                            msSetColorEngine(TRUE);
	                        break;
				#endif
				#endif
                    case  AutoColorFunction_DICOMMode :
                        #if ENABLE_DICOM_FUNCTION
                            //DICOM mode
                            #if ENABLE_NEW_LOADCOLORMODE_FUNCTION
							loadStatus = msNewLoadColorMode(u8WinIdx, AutoColorFunction_DICOMMode, funcIdx);
							#else
                            msSetDICOMMode(u8WinIdx, funcIdx);
							#endif
                        #endif
                        break;
                    case  AutoColorFunction_GammaCurve :
                        #if ENABLE_GAMMA_FUNCTION
						#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
							loadStatus = msNewLoadColorMode(u8WinIdx, AutoColorFunction_GammaCurve, funcIdx);
							loadStatus |= msSetGammaCurve(u8WinIdx, funcIdx);
						#else
                            //SetGammaCurve Gammaidx
                            loadStatus = msSetGammaCurve(u8WinIdx, funcIdx);
						#endif
                        #endif
                        break;
                    case  AutoColorFunction_ColorTemp :
                        #if ENABLE_COLORTEMP_FUNCTION
						#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
							loadStatus = msNewLoadColorMode(u8WinIdx, AutoColorFunction_ColorTemp, funcIdx);
						#else
                            //LoadColorTempMode idx
                            msLoadColorTempMode(funcIdx);
						#endif
                        #endif
                        break;
                    case  AutoColorFunction_ColorTrack :
                        #if ENABLE_COLORTRACK_FUNCTION
						#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
							loadStatus = msNewLoadColorMode(u8WinIdx, AutoColorFunction_ColorTrack, funcIdx);
						#else
                            //SetColorTrackMode Gammaidx
                            msSetColorTrackMode(u8WinIdx, funcIdx);
						#endif
                        #endif
                        break;
                     case  AutoColorFunction_HDR :
                        #if ENABLE_ACHDR_FUNCTION
                        {
                            //void msVerifyHDRMode(BYTE u8WinIdx, BYTE enHDR);
                            msVerifyHDRMode(u8WinIdx, funcIdx);
                        }
                        #endif
                        break;
                     case  AutoColorFunction_UHDA :
                        #if 0
                        {
                            SMPTE2086Metadata sHDRDefaultMetadata;
                            memcpy(&sHDRDefaultMetadata, (BYTE*)(&DDCBuffer[5]), sizeof(sHDRDefaultMetadata));

                            SetHDRDefaultMetadata(&sHDRDefaultMetadata);
                            msSetHDREnable(u8WinIdx, funcIdx);
                        }
                        #endif
                        break;
                     case AutoColorFunction_FreeSync2 :
                        {
                            // Needs to modify FreeSync2 demo mode by FAE.
                            // 1. Bypass color engine [Must do]
                            // 2. Load calibrated HDR Gamma22 [Must do]
                            // 3. Load HDR color temp for D65 color tracking [Chosen]
                        }
                        break;
                     case AutoColorFunction_ColorModeStatus :
                        {
                            if(funcIdx == 0)
                            {
                                //Enter Color Mode, bypass all color setting /LD off
                            }
                            else if(funcIdx == 1)
                            {
                                //Leave Color Mode, restore OSD setting
                            }
                        }
                        break;
                     default :
                        break;
                }
            }
            break;

            #if Enable3DLUTColorMode
                case MS_Set_3DLUT:
                {
                    DWORD addr = 0, idx = 0;
                    BYTE cnt = 0, ch = 0;

                    ch = DDCBuffer[3] & 0x03 ;
                    cnt = DDCBuffer[4] ; // data size
                    addr = (WORD)(DDCBuffer[5] << 8 );
                    addr += DDCBuffer[6]; // start addr-hi, lo

                    for(idx = 0; idx < cnt; idx++)
                    {
                        msSet3DLUTData(ch, addr + idx, DDCBuffer[7 + idx]);
                    }
                    *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[7]), cnt);
                }
                break;

                case MS_WR_3DLUT:
                {
                    BYTE  mode, idx;
                    mode = DDCBuffer[3];
                    idx = DDCBuffer[4];
					LUT_printMsg("=====MS_WR_3DLUT=====");
					LUT_printData("ColorMode : %d\n", mode);
					LUT_printData("idx : %d\n", idx);
				#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
					BYTE funcIdx;
					funcIdx = DDCBuffer[5];
					LUT_printData("funcIdx : %d\n", funcIdx);
					msSave3DLUTData(mode, funcIdx, idx);
                    *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), 3);
				#else
					msSave3DLUTData(mode, idx);
                    *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), 2);
				#endif
                    BYTE CmdLength = DDCBuffer[LENGTH] & 0x7F;
                    BYTE AckType = DDCBuffer[CmdLength];
                    if(AckType == 1 || AckType == 2)
                    {
                        _EEPROMColorMode3DLUTCheckSum_Get(idx, AckType, checkSum);
                    }    
                }
                break;
            #else
                case MS_WR_ColorMatrix:
                {
                    BYTE  cnt, type, idx;
					short _data = 0;
                    type = DDCBuffer[3];
                    cnt = DDCBuffer[4];
                    BYTE CMIdx = DDCBuffer[5];
					LUT_printMsg("=====MS_WR_ColorMatrix=====");
					LUT_printData("ColorMode : %d\n", type);
					LUT_printData("idx : %d\n", CMIdx);
				#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
					BYTE funcIdx;
					funcIdx = DDCBuffer[6];
					LUT_printData("funcIdx : %d\n", funcIdx);
				
                    for(idx = 0 ; idx < 9 ; idx++)
                    {
                        _data = DDCBuffer[7+ (idx * 2) + 1];
                        _data = (_data << 8) + DDCBuffer[7+ (idx * 2)];
                        msSetColorMatrixData(idx, _data);
                    }
					msSaveColorMatrixData(type, funcIdx, CMIdx);
				#else
					for(idx = 0 ; idx < 9 ; idx++)
                    {
                        _data = DDCBuffer[6+ (idx * 2) + 1];
                        _data = (_data << 8) + DDCBuffer[6+ (idx * 2)];
                        msSetColorMatrixData(idx, _data);
                    }
					msSaveColorMatrixData(type, CMIdx);
				#endif
                    BYTE CmdLength = DDCBuffer[LENGTH] & 0x7F;
                    BYTE AckType = DDCBuffer[CmdLength];
                    if(AckType == 1 || AckType == 2)
                    {
                        _EEPROMColorModeMatrixCheckSum_Get(CMIdx, AckType, checkSum);
                    }      
                    else
                    {
                        #if ENABLE_NEW_LOADCOLORMODE_FUNCTION
                            *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[7]), 18);
                        #else
                            *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[6]), 18);
                        #endif
                    }
                }
                break;
            #endif
            #endif

            #if ENABLE_DICOM_FUNCTION
            case MS_Set_DICOM_Mode :
            {
                BYTE idx = DDCBuffer[3];
                *checkSum = DDCBuffer[3];
				#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
					msNewLoadColorMode(u8WinIdx, AutoColorFunction_DICOMMode, idx);
				#else
                msSetDICOMMode(u8WinIdx, idx);
				#endif
            }
            break;
            #endif

            #if ENABLE_GAMMA_FUNCTION
            case MS_Set_GammaCurve :
            {
                BYTE idx = DDCBuffer[3];
                *checkSum = DDCBuffer[3];
                msSetGammaCurve(u8WinIdx ,idx);
            }
            break;
            #endif

            #if ENABLE_COLORTEMP_FUNCTION
            case MS_WR_ColorTemp :
            {
#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
				BYTE PWM_idx = 0;
				WORD IDX=0;
#endif
#if ENABLE_COLORTEMP_WORD_FORMAT
				BYTE  type=0;
				WORD  rGain=0, gGain=0, bGain=0;
				type = DDCBuffer[3];
				rGain = (WORD)(DDCBuffer[4] << 8)+(WORD)(DDCBuffer[5]);
				gGain = (WORD)(DDCBuffer[6] << 8)+(WORD)(DDCBuffer[7]);
				bGain = (WORD)(DDCBuffer[8] << 8)+(WORD)(DDCBuffer[9]);
				CurrentOutputPattern[0] = DDCBuffer[4];
            	CurrentOutputPattern[1] = DDCBuffer[5];
            	CurrentOutputPattern[2] = DDCBuffer[6];
            	CurrentOutputPattern[3] = DDCBuffer[7];
             	CurrentOutputPattern[4] = DDCBuffer[8];
            	CurrentOutputPattern[5] = DDCBuffer[9];
		#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
				PWM_idx = DDCBuffer[10];
				IDX = (WORD)(DDCBuffer[12] << 8)+(WORD)(DDCBuffer[11]);
				msSetColorTempData(type, rGain, gGain, bGain, PWM_idx, IDX);
				*checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[4]), 9);
		#else
				msSetColorTempData(type, rGain, gGain, bGain);
				*checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[4]), 6);
		#endif             
#else
				BYTE  type=0, rGain=0, gGain=0, bGain=0;
				type = DDCBuffer[3];
				rGain = DDCBuffer[4];
				gGain = DDCBuffer[5];
				bGain = DDCBuffer[6];
				CurrentOutputPattern[0] = 0;
				CurrentOutputPattern[2] = 0;
				CurrentOutputPattern[4] = 0;
				CurrentOutputPattern[1] = DDCBuffer[4];
				CurrentOutputPattern[3] = DDCBuffer[5];
				CurrentOutputPattern[5] = DDCBuffer[6];

		#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
				PWM_idx = DDCBuffer[7];
				IDX = (WORD)(DDCBuffer[9] << 8)+(WORD)(DDCBuffer[8]);
				msSetColorTempData(type, rGain, gGain, bGain, PWM_idx, IDX);
				*checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[4]), 6);
		#else
				msSetColorTempData(type, rGain, gGain, bGain);
				*checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[4]), 3);		   
		#endif
#endif     
				msSaveColorTempData(type);
				LUT_printMsg("=====MS_WR_ColorTemp =====\n");
				LUT_printData("type : %d\n", type);
				LUT_printData("rGain : %d\n", rGain);
				LUT_printData("gGain : %d\n", gGain);
				LUT_printData("bGain : %d\n", bGain);
		#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
				LUT_printData("PWM_idx : %d\n", PWM_idx);
				LUT_printData("IDX : %d\n", IDX);
		#endif
				LUT_printData("checkSum : %d\n", *checkSum);
                BYTE CmdLength = DDCBuffer[LENGTH] & 0x7F;
                BYTE AckType = DDCBuffer[CmdLength];
                if(AckType == 1 || AckType == 2)
                {
                   _EEPROMColorTempCheckSum_Get(type, AckType, checkSum);
                }    
            }
            break;

            case MS_Set_ColorTemp :
            {
                BYTE idx = DDCBuffer[3];
                *checkSum = DDCBuffer[3];
                msLoadColorTempMode(u8WinIdx, idx);
            }
            break;
	#endif
	#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
			case MS_Set_RGBGain :
			{
				BYTE sub_command = DDCBuffer[3];
				WORD Rgain = 0, Ggain = 0, Bgain = 0;

				if(sub_command == 0) //LOAD
				{
					LUT_printMsg("=====Load PreCalRGBGain=====");

					Rgain = (WORD)(DDCBuffer[4] << 8)+(WORD)(DDCBuffer[5]);
					Ggain = (WORD)(DDCBuffer[6] << 8)+(WORD)(DDCBuffer[7]);
					Bgain = (WORD)(DDCBuffer[8] << 8)+(WORD)(DDCBuffer[9]);

					LUT_printData("Rgain : %d\n", Rgain);
					LUT_printData("Ggain : %d\n", Ggain);
					LUT_printData("Bgain : %d\n", Bgain);

					CurrentOutputPattern[0] = DDCBuffer[4];
					CurrentOutputPattern[1] = DDCBuffer[5];
					CurrentOutputPattern[2] = DDCBuffer[6];
					CurrentOutputPattern[3] = DDCBuffer[7];
					CurrentOutputPattern[4] = DDCBuffer[8];
					CurrentOutputPattern[5] = DDCBuffer[9];

					*checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[4]), 6);;
					LUT_printData("checkSum : %d\n", *checkSum);
					msSetPostRGBGain(u8WinIdx, Rgain, Ggain, Bgain);
					msEnablePostContrast(u8WinIdx, _ENABLE);
				}
				else if(sub_command == 1) //BYPASS
				{
					LUT_printMsg("=====bypass PostRGBGain=====");
					msSetPostRGBGain(u8WinIdx, 0x400, 0x400, 0x400);
				}
			}
            break;
            #endif

            #if ENABLE_COLORTRACK_FUNCTION
            case MS_Set_ColorTrackMode :
            {
                BYTE idx = DDCBuffer[3];
                *checkSum = DDCBuffer[3];
                msSetColorTrackMode(u8WinIdx, idx);
            }
            break;
            #endif

            #if ENABLE_ACHDR_FUNCTION
            case MS_WR_HDRPanelInfo :
            {
                HDRPanelInfo sHDRInfo;
                memcpy(&sHDRInfo, (BYTE*)(&DDCBuffer[3]), sizeof(sHDRInfo));
                *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), sizeof(sHDRInfo));
                msSetACHDRPanelInfo(&sHDRInfo);
                msSaveHDRPanelInfo();
            }
            break;
            case MS_WR_HDRColorTempGain :
            {
                HDRColorTemp sHDRColorTemp;
                memcpy(&sHDRColorTemp, (BYTE*)(&DDCBuffer[3]), sizeof(sHDRColorTemp));
                msSetHDRColorTempRGBGain(&sHDRColorTemp);
                *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), 3);
                msSaveHDRColorTempRGBGain();
            }
            break;
            case MS_LoadHDRColorMode :
            {
				#if 0
                msLoadACHDRColorTempMode();
				#endif
            }
            break;
            case MS_GetHDRPanelMaxLum:
            {
                unsigned char bytes[4];
                unsigned long maxLum = (unsigned long)PANEL_MAX_LUMINANCE*10000;

                bytes[3] = (maxLum >> 24) & 0xFF;
                bytes[2] = (maxLum >> 16) & 0xFF;
                bytes[1] = (maxLum >> 8) & 0xFF;
                bytes[0] = maxLum;

                DDCBuffer[0] = 4;
                DDCBuffer[1] = bytes[0];
                DDCBuffer[2] = bytes[1];
                DDCBuffer[3] = bytes[2];
                DDCBuffer[4] = bytes[3];
                return 4;
            }
            break;
            case MS_HDR_BacklightToMax:
            {
                if ( DDCBuffer[3] == 0x00 )
                {
                    //Set backlight in normal case
                }
                else
                {
                    // Two cases:
                    // 1. Make backlight to max luminance without local dimming driver
                    // 2. The middle area of dimming to max luminance(under current protection)

                }
                *checkSum = DDCBuffer[3];
            }
            break;
            case MS_WR_HDR_10StepLumMap:
            {
                StoredHDRLumMap sHDRLumMap;
                BYTE lenHDRLumMap = sizeof(sHDRLumMap.mHDRLumMap);
                memcpy(&sHDRLumMap.mHDRLumMap, (BYTE*)(&DDCBuffer[3]), lenHDRLumMap);
                *checkSum = sHDRLumMap.CheckSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), lenHDRLumMap);
                msSetHDRLumMap(&sHDRLumMap);
                msSaveHDRLumMap();
            }
            break;
            case MS_Set_HDR_10StepLumMap:
            {
                BYTE HDRBrightness;
                HDRBrightness = HDR_MIN_DUTY + (DDCBuffer[3]*(HDR_MAX_DUTY - HDR_MIN_DUTY)/10);
                // Need to implement PWM control for measuring 10 step luminance value
                // ex.msAPI_AdjustBrightness(HDRBrightness);
                *checkSum = DDCBuffer[3];
            }
            break;
            case MS_Set_FS2_Brightness:
            {
                // Need to implement PWM control, range from 0 to 100 percentage
                // ex.msAPI_AdjustBrightness(DDCBuffer[u8Source][3]);
                *checkSum = DDCBuffer[3];
            }
            break;
            case MS_WR_FS2_Brightness:
            {
                DWORD addr = GetAddrOfHDRBrightness();
                Memory_WriteByte(addr, DDCBuffer[3]);
                *checkSum = DDCBuffer[3];
            }
            break;
            case MS_WR_HDR_Calibrate_Y:
            {
                HDRCalibrateY sHDRCalibrateY;
                memcpy(&sHDRCalibrateY, (BYTE*)(&DDCBuffer[3]), sizeof(sHDRCalibrateY));
                *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[3]), sizeof(sHDRCalibrateY));

                msSetACHDRCalibrateY(&sHDRCalibrateY);
                msSaveHDRCalibrateY();
            }
            break;
            
            #if LD_ENABLE
            case MS_Set_LDStrength:
            {
                MApi_LD_Set_Localdimming_Strength(TRUE, DDCBuffer[3]);
                MApi_LD_Set_CompensationEn(DDCBuffer[4]);
            }
            break;
            case MS_WR_LD_CalibrateData:
            {
                DWORD addr = 0, idx = 0;
                BYTE cnt = 0;
                cnt = DDCBuffer[3] ; // data size
                addr = (WORD)(DDCBuffer[4] << 8 ); // data index
                addr += DDCBuffer[5];

                if(addr == 0xABBA)
                {
                    msSaveLDCalibrateData();
                }
                else
                {
                    for(idx = 0; idx < cnt; idx++)
                    {
                        msSetLDCalibrateData(addr + idx, DDCBuffer[6 + idx]);
                    }
                    *checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[6]), cnt);
                }
            }
            break;
            case MS_LoadLDTable:
            {
                extern void MDrv_LD_Write_BacklightGamma(U8 iClamp);
                extern void MDrv_LD_Write_CompensateTbl_H (U8* tbl);
                
                StoredLDCalibrateData _ldData;
                if (msLoadLDCalibrateData(&_ldData))
                {
                    MDrv_LD_Write_BacklightGamma(_ldData.mLDCalibrateData.iMiniPt);
                    MDrv_LD_Write_CompensateTbl_H(_ldData.mLDCalibrateData.compTbl);
                }
            }
            break;
            case MS_Set_LD_Pattern:
            {
                if ( DDCBuffer[3] == 0x00 ) 
                {
                    //Disable
                    MApi_LD_Set_SW_PulseMode(0x00);
                    MApi_LD_Set_SW_PulseId(0x00);
                    MApi_LD_Set_LSFOutMode(0x00);
                }
                else if (DDCBuffer[3] == 0x01)
                {
                    //Set 10% pattern
                    MApi_LD_Set_SW_PulseMode(0x90);
                }
                else if (DDCBuffer[3] == 0x02)
                {
                    //Set corner pattern
                    MApi_LD_Set_SW_PulseMode(0x80);
                }
            }
            break;
            #endif
            
            #endif
            case MS_IsUse_3DLUT:
            {
                DDCBuffer[0] = 1;
                DDCBuffer[1] = Enable3DLUTColorMode;
                return 1;
            }
            break;
			#if ENABLE_COlORMODE_ADJUST_PWM
			case MS_GetBrightnessPWMFormat:
            {
                DDCBuffer[0] = 2;
				DDCBuffer[1] = BRIGHTNESS_REAL_MAX & 0xFF;
				DDCBuffer[2] = (BRIGHTNESS_REAL_MAX >> 8) & 0xFF;
                return 2;
            }
            break;
			#endif
            case MS_GetDeltaEVersion:
            {
                int idx =0, strVerlen = 0;

                strVerlen = sizeof(DeltaEVersion);

                DDCBuffer[0] = strVerlen;
                for( idx = 0 ; idx < strVerlen-1 ; ++idx)
                      DDCBuffer[idx+1] = DeltaEVersion[idx];
                DDCBuffer[strVerlen] = 0x00;
                return strVerlen;
            }
            break;
			case MS_GetEEPROMData:
			{
				BYTE sub_cmd = DDCBuffer[3];
				
				if(sub_cmd == 0) //Get start addr
	            {
	            	LUT_printData("_addrOfAutoColorBlock : %d\n", _addrOfAutoColorBlock);
					//little endian
		            DDCBuffer[4] = (BYTE)(_addrOfAutoColorBlock & 0xFF);
		            DDCBuffer[3] = (BYTE)(_addrOfAutoColorBlock >> 8);
		            DDCBuffer[2] = (BYTE)(_addrOfAutoColorBlock >> 16);
		            DDCBuffer[1] = (BYTE)((_addrOfAutoColorBlock >> 24) & 0x7F);
		            DDCBuffer[0] = 4;
		            return 4;
	            }
				else if(sub_cmd == 1) //Get define   
				{
					DDCBuffer[15] = ENABLE_ACHDR_FUNCTION;
					DDCBuffer[14] = 0; //ENABLE_UHDA_FUNCTION;
					DDCBuffer[13] = NUM_OF_ADJUST_PWM;
					DDCBuffer[12] = ENABLE_COlORMODE_ADJUST_PWM;
					DDCBuffer[11] = ENABLE_GAMMA_FUNCTION;
		            DDCBuffer[10]  = NUM_OF_COLORTRACK_GAMMA;
					DDCBuffer[9]  = ENABLE_COLORTRACK_FUNCTION;
		            DDCBuffer[8]  = NUM_OF_DICOM_GAMMA;
					DDCBuffer[7]  = ENABLE_DICOM_FUNCTION;
					DDCBuffer[6]  = NUM_OF_COLOR_TEMP;
					DDCBuffer[5]  = ENABLE_COLORTEMP_WORD_FORMAT;
					DDCBuffer[4]  = ENABLE_COLORTEMP_FUNCTION;
		            DDCBuffer[3]  = NUM_OF_COLORMODE_GAMMA;
		            DDCBuffer[2]  = NUM_OF_COLORMODE;
					DDCBuffer[1]  = (ENABLE_IDX_LOADCOLORMODE_FUNCTION?2:(ENABLE_NEW_LOADCOLORMODE_FUNCTION?1:0));
		            DDCBuffer[0]  = 15;
		            return 15;
	            }
				else if(sub_cmd == 2) //Read EEPROM data
	            {
	            	DWORD addr = (DDCBuffer[4]<<8)+DDCBuffer[5];
					BYTE size = DDCBuffer[6];
					Memory_ReadTbl(addr, (BYTE*)(&DDCBuffer[1]), size);
					DDCBuffer[0] = size;
					*checkSum = DDCcmd_CRCU16CheckSum_Get((BYTE*)(&DDCBuffer[1]), size);
	              	return size;
	            }
				else if(sub_cmd == 3) //Get LoadMode result
	            {
	            	DDCBuffer[0] = 1;
					DDCBuffer[1] = loadStatus;
	              	return 1;
	            }	
			}
			break;
#if ENABLE_ReadColorFUNCTION_FROM_FW
            case MS_ReadFirmwareSetting:
            {
                int idx=0;
                U32 cfInt = 0;
                BYTE chksum=0;
                cfInt += Enable3DLUTColorMode << ECFEnBitOffset_Is_Use_3DLut_Table;
                cfInt += sRGB_Enable << ECFEnBitOffset_sRGB_Enable;
                cfInt += AdobeRGB_Enable << ECFEnBitOffset_AdobeRGB_Enable;
                cfInt += BT709_Enable << ECFEnBitOffset_BT709_Enable;
                cfInt += BT2020_Enable << ECFEnBitOffset_BT2020_Enable;
                cfInt += DCIP3_Enable << ECFEnBitOffset_DCIP3_Enable;
                cfInt += EBU_Enable << ECFEnBitOffset_EBU_Enable;
                cfInt += SMPTEC_Enable << ECFEnBitOffset_SMPTEC_Enable;
                cfInt += ENABLE_COLORTEMP_FUNCTION << ECFEnBitOffset_ColorTemp_Enable;
                cfInt += ENABLE_DICOM_FUNCTION << ECFEnBitOffset_DICOM_Enable;
                cfInt += ENABLE_GAMMA_FUNCTION << ECFEnBitOffset_GammaCurve_Enable;
                cfInt += ENABLE_COLORTRACK_FUNCTION << ECFEnBitOffset_ColorTrack_Enable;
                cfInt += ENABLE_ACHDR_FUNCTION << ECFEnBitOffset_HDR_Enable;

                for(idx = 0 ; idx < 4 ; ++idx)
                {
                    DDCBuffer[idx+1] = ((cfInt>>(8*idx)) & 0xFF);
                    chksum ^= DDCBuffer[idx+1];
                }

                DDCBuffer[idx+1] = NUM_OF_COLORTRACK_GAMMA;
                chksum ^= DDCBuffer[idx+1];
                ++idx;
                DDCBuffer[idx+1] = NUM_OF_COLOR_TEMP;
                chksum ^= DDCBuffer[idx+1];
                ++idx;
                DDCBuffer[idx+1] = NUM_OF_DICOM_GAMMA;
                chksum ^= DDCBuffer[idx+1];

                 DDCBuffer[0] = idx+1;
                 
                *checkSum = chksum;

                return idx+1;
                
            }
            break;

            case MS_ReadColorTempValue:
            {
                int i = 0;
                int idx=DDCBuffer[3];
                int num=DDCBuffer[4];
                U16 valx = 0, valy = 0;
                U16 chksum=0;

                if((idx+num)>10)
                {
                         *checkSum = 0;
                        DDCBuffer[0] = 1;
                        DDCBuffer[1] = 0xFF; //length should be A multiple of 4 , return 1 means error
                        return 1;
                }

                for(i = idx ; i < (idx+num) ; ++i)
                {
                    valx  = ColorTempValue[i][0]*65536;
                    valy  = ColorTempValue[i][1]*65536;                    
                    DDCBuffer[i*4+1] = valx&0xFF;
                    DDCBuffer[i*4+1+1] = (valx>>8)&0xFF;
                    DDCBuffer[i*4+2+1] = valy&0xFF;
                    DDCBuffer[i*4+3+1] = (valy>>8)&0xFF;
                    chksum+=DDCBuffer[i*4+1];
                    chksum+=DDCBuffer[i*4+1+1];
                    chksum+=DDCBuffer[i*4+2+1];
                    chksum+=DDCBuffer[i*4+3+1];
                }
                                 
                *checkSum = chksum;

                 DDCBuffer[0] = (num*4);
                
                return (num*4);                               
            }
            break;

#endif

            
        #endif
            default:
            {
                *checkSum = 0;
            }
            break;
        }
        return 0;

}

BOOL IsAutoColorCommand(BYTE CommandCode)
{
    BYTE idx = 0;
    for (idx = 0; idx < sizeof(AutoColorCommand)/sizeof(BYTE); idx++)
    {
        if (AutoColorCommand[idx] == CommandCode)
        {
            return TRUE;
        }
    }
    return FALSE;
}

U16 getCRCU8(U8 u8_data, U16 crc)
{
    U8 i=0,x16=0,carry=0;

    for (i = 0; i < 8; i++)
    {
        x16 = (U8)((u8_data & 1) ^ ((U8)crc & 1));
        u8_data >>= 1;

        if (x16 == 1)
        {
            crc ^= 0x4002;
            carry = 1;
        }
        else 
            carry = 0;
        
        crc >>= 1;
        if (carry)
            crc |= 0x8000;
        else
            crc &= 0x7fff;
    }
    return crc;
} 

U16 getCRCU16(U16 newval, U16 crc) 
{
    crc=getCRCU8( (U8) (newval),crc);
    crc=getCRCU8( (U8) ((newval)>>8)	,crc);
    //printf("[getCRCU16]crc:%x\n",crc);
    return crc;
}

DWORD GetCRCCheckSum(BYTE * pData, int size)
{
    int idx = 0;
    U16 crcChecksum = 0;

    for(idx = 0; idx < size; idx++){
        crcChecksum = getCRCU16(pData[idx], crcChecksum);
        //LUT_printData("--%x", pData[idx]);
    }
    //LUT_printData("\n");
    return crcChecksum;
}

#define CRC8_POLYNOMIAL 0x07
BYTE DDCcmd_CRCU8CheckSum_Get(BYTE *pData, int size) 
{
    BYTE crc = 0x00; // Initial value
    U8 i = 0;
    while (size-- > 0) 
    {
        crc ^= *pData++; // XOR byte into least sig. byte of crc

        for (i = 0; i < 8; i++) 
        { // Loop over each bit
            if ((crc & 0x80) != 0) 
            { // If the uppermost bit is 1...
                crc = (crc << 1) ^ CRC8_POLYNOMIAL;
            } else {
                crc <<= 1;
            }
        }
    }
    return crc;
}

WORD DDCcmd_CRCU16CheckSum_Get(BYTE * pData, int size)
{
    int idx = 0;
    U16 crcChecksum = 0;

    for(idx = 0; idx < size-1; idx+=2){
        crcChecksum = getCRCU16((pData[idx]<<8)+pData[idx+1], crcChecksum);
    }
    if(size%2==1)
        crcChecksum = getCRCU16((pData[size-1]<<8)+0, crcChecksum);
    return crcChecksum;
}

DWORD GetCheckSum(BYTE * pData, int size)
{
	DWORD sum = 0;
	int idx = 0;

	for(idx = 0; idx < size; idx++){
		if(idx%40 == 0){
            LUT_printMsg("\n");
        }
		sum ^=	pData[idx];
		LUT_printData("[%x] ", pData[idx]);
	}
	LUT_printMsg("\n");
	return sum;
}

//fix Coverity_errors
BOOL IsStructEmpty(void * pData, int size)
{
    short idx = 0;
    BYTE* pStruct = pData;
    BOOL bIsAllData_FF = TRUE;
    BOOL bIsAllData_Zero = TRUE;

	for(idx = 0; idx < size; idx++)
    {
	    if (0x00 != pStruct[idx])
        {
            bIsAllData_Zero = FALSE;
        }
        if (0xFF != pStruct[idx])
        {
            bIsAllData_FF = FALSE;
        }

        if(!bIsAllData_Zero && !bIsAllData_FF)
        {
           break;
        }
	}

    if(bIsAllData_Zero || bIsAllData_FF)
        return TRUE;
    else	
    return FALSE;
}
//-------------------------------------------------------------------------------
// Gamma code segment
//-------------------------------------------------------------------------------
void ResetDICOMGammaData(void)
{
	int idx = 0;
    BYTE **pDefaultGamma = (BYTE**)DefaultPostGamma[0]; //default same with post gamma
	for(idx = 0; idx < GammaTableSize; idx++)
	{
		_DICOMGamma.Data[0][idx] = pDefaultGamma[0][idx];
		_DICOMGamma.Data[1][idx] = pDefaultGamma[1][idx];
		_DICOMGamma.Data[2][idx] = pDefaultGamma[2][idx];
	}
	_DICOMGamma.CheckSum = GetCRCCheckSum((BYTE*)(&_DICOMGamma.Data), sizeof(_DICOMGamma.Data));
	LUT_printData("[Reset] CheckSum of DICOM Gamma : %x\n", _DICOMGamma.CheckSum);
}
void ResetPostGammaData(void)
{
	int idx = 0;
    BYTE **pDefaultGamma = (BYTE**)DefaultPostGamma[0];
	for(idx = 0; idx < GammaTableSize; idx++)
	{
		_postGamma.Data[0][idx] = pDefaultGamma[0][idx];
		_postGamma.Data[1][idx] = pDefaultGamma[1][idx];
		_postGamma.Data[2][idx] = pDefaultGamma[2][idx];
	}
	_postGamma.CheckSum = GetCRCCheckSum((BYTE*)(&_postGamma.Data), sizeof(_postGamma.Data));
	LUT_printData("[Reset] CheckSum of Post Gamma : %x\n", _postGamma.CheckSum);
}

void msSetPostGammaData(int ch, int idx, BYTE _data)
{
	if ((ch >= 0 && ch < 3) && (idx >=0 && idx < GammaTableSize)){
		_postGamma.Data[ch][idx] = _data;
		//LUT_printData("[msSetPostGammaData] Data : %x\n", _postGamma.Data[ch][idx]);
	}
}
void msSetDICOMGammaData(int ch, int idx, BYTE _data)
{
	if ((ch >= 0 && ch < 3) && (idx >=0 && idx < DICOMTableSize)){
		_DICOMGamma.Data[ch][idx] = _data;
		//LUT_printData("[msSetPostGammaData] Data : %x\n", _postGamma.Data[ch][idx]);
	}
}
#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
void msSavePostGammaData(DWORD addr, BYTE ColorMode, BYTE funcIdx, BYTE GammaValue, BYTE CT_idx, BYTE PWM_idx, BYTE UC_flag, WORD IDX)
#elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
void msSavePostGammaData(DWORD addr, BYTE ColorMode, BYTE funcIdx, BYTE GammaValue, BYTE CT_idx, BYTE PWM_idx, BYTE UC_flag)
#else
void msSavePostGammaData(DWORD addr, BYTE GammaValue)	
#endif
{
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	_postGamma.ColorMode = ColorMode;
	_postGamma.funcIdx = funcIdx;
#endif
    _postGamma.GammaValue = GammaValue;
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	_postGamma.CT_idx = CT_idx;
	_postGamma.PWM_idx = PWM_idx;
	_postGamma.UC_flag = UC_flag;
#endif
#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	_postGamma.IDX = IDX;
#endif
	_postGamma.CheckSum = GetCRCCheckSum((BYTE*)(&_postGamma.Data), sizeof(_postGamma.Data));
	Memory_WriteTbl(addr, (BYTE*)(&_postGamma), sizeof(_postGamma));
}


#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
void msSaveDICOMGammaData(DWORD addr, BYTE ColorMode, BYTE funcIdx, BYTE GammaValue, BYTE CT_idx, BYTE PWM_idx, BYTE UC_flag, WORD IDX)
#elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
void msSaveDICOMGammaData(DWORD addr, BYTE ColorMode, BYTE funcIdx, BYTE GammaValue, BYTE CT_idx, BYTE PWM_idx, BYTE UC_flag)
#else
void msSaveDICOMGammaData(DWORD addr, BYTE GammaValue)	
#endif
{
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	_DICOMGamma.ColorMode = ColorMode;
	_DICOMGamma.funcIdx = funcIdx;
#endif
    _DICOMGamma.GammaValue = GammaValue;
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	_DICOMGamma.CT_idx = CT_idx;
	_DICOMGamma.PWM_idx = PWM_idx;
	_DICOMGamma.UC_flag = UC_flag;
#endif
#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	_DICOMGamma.IDX = IDX;
#endif
	_DICOMGamma.CheckSum = GetCRCCheckSum((BYTE*)(&_DICOMGamma.Data), sizeof(_DICOMGamma.Data));
	Memory_WriteTbl(addr, (BYTE*)(&_DICOMGamma), sizeof(_DICOMGamma));
}
LoadStatus msLoadDICOMGammaData(DWORD addr)
{
	//WORD size = sizeof(_DICOMGamma);
	//BYTE* pData  = (BYTE*)(&_DICOMGamma);
	LUT_printData("sizeof(_DICOMGamma) = %d\n", sizeof(_DICOMGamma));
	//Memory_ReadTbl(addr, pData, size);
	Memory_ReadTbl(addr, (BYTE*)(&_DICOMGamma), sizeof(_DICOMGamma));
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION	
	LUT_printData("_DICOMGamma.ColorMode = %x\n", _DICOMGamma.ColorMode);
	LUT_printData("_DICOMGamma.funcIdx = %x\n", _DICOMGamma.funcIdx);
#endif    
	LUT_printData("_DICOMGamma.GammaValue = %x\n", _DICOMGamma.GammaValue);
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	LUT_printData("_DICOMGamma.CT_idx = %x\n", _DICOMGamma.CT_idx);
	LUT_printData("_DICOMGamma.PWM_idx = %x\n", _DICOMGamma.PWM_idx);
	LUT_printData("_DICOMGamma.UC_flag = %x\n", _DICOMGamma.UC_flag);
#endif
#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	LUT_printData("_DICOMGamma.IDX = %x\n", _DICOMGamma.IDX);
#endif
	short checkSum = GetCRCCheckSum((BYTE*)(&_DICOMGamma.Data), sizeof(_DICOMGamma.Data));
    LUT_printData("msLoadDICOMGammaData addr = %x\n", addr);
	LUT_printData("Stored CheckSum of DICOM Gamma : %x\n", _DICOMGamma.CheckSum);
	LUT_printData("Calculated CheckSum of DICOM Gamma : %x\n", checkSum );

	if ((_DICOMGamma.CheckSum != checkSum) || IsStructEmpty(_DICOMGamma.Data, sizeof(_DICOMGamma.Data)))
	{
		//ResetDICOMGammaData();//ResetPostGammaData();
		LUT_printMsg("ResetDICOMGammaData");
        //ResetPostGammaData();
		LUT_printMsg("ResetPostGammaData");
		return LoadStatus_RESET_GAMMA;
 	}
	return LoadStatus_SUCCESS;
}
LoadStatus msLoadPostGammaData(DWORD addr)
{
	//WORD size = sizeof(_postGamma);
	//BYTE* pData  = (BYTE*)(&_postGamma);
	LUT_printData("sizeof(_postGamma) = %d\n", sizeof(_postGamma));
	//Memory_ReadTbl(addr, pData, size);
	Memory_ReadTbl(addr, (BYTE*)(&_postGamma), sizeof(_postGamma));
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION	
	LUT_printData("_postGamma.ColorMode = %x\n", _postGamma.ColorMode);
	LUT_printData("_postGamma.funcIdx = %x\n", _postGamma.funcIdx);
#endif    
	LUT_printData("_postGamma.GammaValue = %x\n", _postGamma.GammaValue);
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	LUT_printData("_postGamma.CT_idx = %x\n", _postGamma.CT_idx);
	LUT_printData("_postGamma.PWM_idx = %x\n", _postGamma.PWM_idx);
	LUT_printData("_postGamma.UC_flag = %x\n", _postGamma.UC_flag);
#endif
#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	LUT_printData("_postGamma.IDX = %x\n", _postGamma.IDX);
#endif
	short checkSum = GetCRCCheckSum((BYTE*)(&_postGamma.Data), sizeof(_postGamma.Data));
    LUT_printData("msLoadPostGammaData sizeof(_postGamma.Data) = %x\n", sizeof(_postGamma.Data));
    LUT_printData("msLoadPostGammaData sizeof(_postGamma.Data) = %d\n", sizeof(_postGamma.Data));
    LUT_printData("msLoadPostGammaData addr = %x\n", addr);
	LUT_printData("Stored CheckSum of Post Gamma : %x\n", _postGamma.CheckSum);
	LUT_printData("Calculated CheckSum of Post Gamma : %x\n", checkSum );

	if ((_postGamma.CheckSum != checkSum) || IsStructEmpty(_postGamma.Data, sizeof(_postGamma.Data)))
	{
		ResetPostGammaData();
		LUT_printMsg("ResetPostGammaData");
		return LoadStatus_RESET_GAMMA;
 	}
	return LoadStatus_SUCCESS;
}

void msReadPostGammaData(BYTE u8WinIdx, BYTE u8Color, WORD *pu8GammaTblIdx )
{
        BYTE u8ErrorDetCnt=0, u8TriggerBit=0; //, u8ScalerIdx=0;
        //WORD u16ScalerMask = g_DisplayWindow[u8WinIdx].u16DwScMaskOut;
        //DWORD u32BaseAddr = g_ScalerInfo[u8ScalerIdx].u32SiRegBase;

        WORD u16Idx = 0;
        //while(u16ScalerMask)
        {
                //if(u16ScalerMask & BIT0)
                {
                    //u32BaseAddr = g_ScalerInfo[u8ScalerIdx].u32SiRegBase;

                    // set address first
                    msWrite2Byte(SC10_E2, 0x0000);
                    msWrite2Byte(SC10_E0, 0x0000);
                    if(u8WinIdx == MAIN_WINDOW) //Main Window
                    {
                     	msWriteByteMask(SC10_E0, _BIT0, _BIT0);

					}
                    else                         //Sub Window
                    {
                    	msWriteByteMask(SC10_E0, _BIT1, _BIT1);
					}

                    if( u8Color == 0 ) // Red
                    {
                            u8TriggerBit = 0;
                    }
                    else if( u8Color == 1 ) // Green
                    {
                            u8TriggerBit = _BIT5;
                    }
                    else //if( ucColor == 2 ) // Blue
                    {
                       	u8TriggerBit =_BIT6;
                    }
		      		u8TriggerBit = msReadByte(SC10_E0) | u8TriggerBit  ;
                    for(u16Idx = 0; u16Idx < 256; u16Idx++)
                    {
                            msWrite2Byte(SC10_E2, u16Idx);
                            msWriteByte(SC10_E0, u8TriggerBit|_BIT4);
                            while(msReadByte(SC10_E0) & _BIT4)
                            {
                                    Delay1ms(1);
                                    u8ErrorDetCnt++;
                                    if(u8ErrorDetCnt==100)
                                    {
                                            //Check Fail
                                            break;
                                    }
                            }
                            pu8GammaTblIdx[u16Idx] = msRead2Byte(SC10_E8);//dataPort
                    }

                    msWrite2Byte(SC10_E2, 0x0000);
                    msWrite2Byte(SC10_E0, 0x0000);
                    //break;
                }
                //u8ScalerIdx++;
                //u16ScalerMask >>= 1;
        }

}

LoadStatus msReloadGammaData(BYTE u8DispWin, DWORD addr)
{
    //Load PostGamma Table
	LoadStatus loadStatus = msLoadPostGammaData(addr);
	BYTE *StoredPostGamma[][3] =
	{
		{
       		_postGamma.Data[0],
        	_postGamma.Data[1],
        	_postGamma.Data[2],
    	},
	};

    msAPI_GammaLoadTbl_256E_14B(u8DispWin,  StoredPostGamma[0]);

	return loadStatus;
}
LoadStatus msReloadDICOMGammaData(BYTE u8DispWin, DWORD addr)
{
    //Load PostGamma Table
	LoadStatus loadStatus = msLoadDICOMGammaData(addr);//msLoadPostGammaData(addr);
	BYTE *StoredDICOMGamma[][3] =
	{
		{
       		_DICOMGamma.Data[0],
        	_DICOMGamma.Data[1],
        	_DICOMGamma.Data[2],
    	},
	};

    msAPI_GammaLoadTbl_256E_14B_DICOM(u8DispWin,  StoredDICOMGamma[0]);//msAPI_GammaLoadTbl_256E_14B(u8DispWin,  StoredPostGamma[0]);

	return loadStatus;
}
/*void msReloadPanelGammaData(BYTE u8DispWin, DWORD addr)
{
    //Load PanelGamma Table
    msLoadPostGammaData(addr);
    BYTE *StoredPostGamma[][3] =
    {
        {
            _postGamma.Data[0],
            _postGamma.Data[1],
            _postGamma.Data[2],
        },
    };
    
    msAPI_PanelGammaLoadTbl_1024E_14B_C(u8DispWin,  StoredPostGamma[0]);
}*/

//-------------------------------------------------------------------------------
// Set test pattern
//-------------------------------------------------------------------------------
extern void msSetTestPattern(BOOL IsOn, BYTE R, BYTE G, BYTE B)
{
	short horSt, horEd;
	if (IsOn)
	{
	    horSt = msRead2Byte(SC00_18);
	    horEd = msRead2Byte(SC00_1C);
	    if (horSt != 0 || horEd !=0)
	    {
	        HSt = horSt;
		 	HEd = horEd;
		 	msWrite2Byte(SC00_18, 0x00);
   	        msWrite2Byte(SC00_1C, 0x00);
	    }

	    msWriteByte(SC10_33, R);
        msWriteByte(SC10_34, G);
	    msWriteByte(SC10_35, B);
		
		msWriteByte(SC10_32, 0x10);
	    /*horSt = msRead2Byte(SC10_10);
	    horEd = msRead2Byte(SC10_12);
	    if (horSt != 0 || horEd !=0)
	    {
	        HSt = horSt;
		 	HEd = horEd;
		 	msWrite2Byte(SC10_10, 0x00);
   	        msWrite2Byte(SC10_12, 0x00);
	    }

	    msWriteByte(SC10_33, R);
        msWriteByte(SC10_34, G);
	    msWriteByte(SC10_35, B);*/

	}
	else
	{
        if (HSt != 0 || HEd != 0)
	    {
	        //msWriteByte(0x102F00, 0x10);
	        msWrite2Byte(SC00_18, HSt);
   	        msWrite2Byte(SC00_1C, HEd);
        }
		msWriteByte(SC10_32, DISABLE);
	    /*if (HSt != 0 || HEd != 0)
        {
	        //msWriteByte(0x102B00, 0x10);
	        msWrite2Byte(SC10_10, HSt);
   	        msWrite2Byte(SC10_12, HEd);
	    }*/
	}
}

//-------------------------------------------------------------------------------
// Set Color Engine test pattern
//
void msSetColorEngineTestPattern(BYTE u8WinIdx, Bool bEnable, WORD u16Red, WORD u16Green, WORD u16Blue)
{
	UNUSED(u8WinIdx);
    //BYTE u8ScalerIdx = 0;
    //WORD u16ScalerMask = g_DisplayWindow[u8WinIdx].u16DwScMaskOut;
    //DWORD u32BaseAddr = g_ScalerInfo[u8ScalerIdx].u32SiRegBase;

    //while(u16ScalerMask)
    {
        //if(u16ScalerMask & BIT0)
        {
            //u32BaseAddr = g_ScalerInfo[u8ScalerIdx].u32SiRegBase;

            msWriteByte(SC14_03, (bEnable ? BIT0: 0));
            msWriteByteMask(SC25_60, (bEnable ? BIT0: 0), BIT0);
            msWriteByteMask(SC25_62, (bEnable ? BIT0: 0), BIT0);
            msWrite2Byte(SC25_64, u16Red);
            msWrite2Byte(SC25_66, u16Green);
            msWrite2Byte(SC25_68, u16Blue);

        }
        //u8ScalerIdx++;
        //u16ScalerMask >>= 1;
    }
}
#if 1//ENABLE_ACHDR_FUNCTION
void msSetHDRColorEngineTestPattern(BYTE u8WinIdx, Bool bEnable, BYTE R, BYTE G, BYTE B, int stepAddr)
{
	UNUSED(u8WinIdx); 
    UNUSED(stepAddr);   
    DWORD u32R, u32G, u32B;

    u32R = R*0x3FFF;
    u32G = G*0x3FFF;
    u32B = B*0x3FFF;

    u32R /= 0xFF;
    u32G /= 0xFF;
    u32B /= 0xFF;

	msWriteByteMask(SC7A_02, bEnable?BIT2:0, BIT2); // set y2r bypass enable
    msWriteByteMask(SC7A_02, bEnable?BIT6:0, BIT6); // set r2y bypass enable
	msWriteByteMask(SC53_15, (bEnable ? 0x00: BIT7), BIT7); // bypass tgen pattern
	msWrite2Byte(SC53_02, u32R);
	msWrite2Byte(SC53_08, u32G);
	msWrite2Byte(SC53_0E, u32B);
}

#endif

void msSetIP2TestPattern_XPercentPIP(BYTE u8WinIdx, double percentOfCentralArea, WORD R, WORD G, WORD B)
{
    UNUSED(u8WinIdx);
    DWORD PIPWin_hsize = PANEL_WIDTH * sqrt(percentOfCentralArea);
    DWORD PIPWin_vsize = PANEL_HEIGHT * sqrt(percentOfCentralArea);

    DWORD PIPWin_hst = (PANEL_WIDTH -  PIPWin_hsize) / 2;
    DWORD PIPWin_hend = PIPWin_hst + PIPWin_hsize;
    DWORD PIPWin_vst = (PANEL_HEIGHT - PIPWin_vsize) / 2;
    DWORD PIPWin_vend = PIPWin_vst + PIPWin_vsize;

    DWORD u32R, u32G, u32B;

    u32R = R;
    u32G = G;
    u32B = B;



    msWriteByteMask(SC53_15, 0, BIT7); // bypass tgen pattern
    msWriteByteMask(SC53_15, BIT1, BIT1); //Display pip pattern

	msWrite2Byte(SC53_24, u32R);//msWrite2Byte(SC53_02, u32R);
	msWrite2Byte(SC53_26, u32G);//msWrite2Byte(SC53_08, u32G);
	msWrite2Byte(SC53_28, u32B);//msWrite2Byte(SC53_0E, u32B);

    msWrite2Byte(SC53_34, (WORD)PIPWin_hst);
    msWrite2Byte(SC53_36, (WORD)PIPWin_hend);
    msWrite2Byte(SC53_38, (WORD)PIPWin_vst);
    msWrite2Byte(SC53_3A, (WORD)PIPWin_vend);
    msWrite2Byte(SC53_18, PANEL_WIDTH);
    msWrite2Byte(SC53_1C, PANEL_HEIGHT);
}
void msSetIP2TestPattern_Off(void)
{
    msWriteByteMask(SC53_15, BIT7, BIT7); // bypass tgen pattern
    msWriteByteMask(SC53_15, 0, BIT1); //Display pip pattern
    msWrite2Byte(SC53_34, 0x0000);//(WORD)PIPWin_hst
    msWrite2Byte(SC53_36, 0x0000);//(WORD)PIPWin_hend
    msWrite2Byte(SC53_38, 0x0000);//(WORD)PIPWin_vst
    msWrite2Byte(SC53_3A, 0x0000);//(WORD)PIPWin_vend
    msWrite2Byte(SC53_18, 0x0000);//PANEL_WIDTH
    msWrite2Byte(SC53_1C, 0x0000);//PANEL_HEIGHT
}
void msSetIP2TestPattern_ImageSize(BYTE u8WinIdx, WORD hSize, WORD vSize)
{
UNUSED(u8WinIdx);
    _hSizeOfIP2TestPtn[0] = hSize;
    _vSizeOfIP2TestPtn[0] = vSize;    
}
//-------------------------------------------------------------------------------
// Toggle color engine
//-------------------------------------------------------------------------------
/*void msByPassColorEngine(BYTE u8WinIdx, BOOL bEnable)
{
    //BYTE u8ScalerIdx = 0;
    //WORD u16ScalerMask = g_DisplayWindow[u8WinIdx].u16DwScMaskOut;
    //DWORD u32BaseAddr = g_ScalerInfo[u8ScalerIdx].u32SiRegBase;

    //while(u16ScalerMask)
    {
        //if(u16ScalerMask & BIT0)
        {
            //u32BaseAddr = g_ScalerInfo[u8ScalerIdx].u32SiRegBase;

            if(bEnable)
            {
                if(u8WinIdx == MAIN_WINDOW)
                    msWriteBit(SC27_E0, TRUE, _BIT0);

            }
            else
            {
                if(u8WinIdx == MAIN_WINDOW)
                    msWriteBit(SC27_E0, FALSE, _BIT0);

            }
        }
        //u8ScalerIdx++;
        //u16ScalerMask >>= 1;
    }
}
*/
void msSetColorModeEngine(BYTE u8DispWin, BOOL canLoadColor, BOOL canLoadGamma, BOOL canLoadRGBGain, BOOL IsOn)
{
	if(canLoadGamma)
	{
		msAPI_GammaEnable(u8DispWin, IsOn);
	
	}
	if(canLoadColor)
	{
	#if Enable3DLUTColorMode
        ms3DLutGrayGuard(/*u8DispWin,*/ IsOn);
        ms3DLutEnable(u8DispWin, IsOn);
    #else
        msAPI_DeGammaEnable(u8DispWin, IsOn);
	    msAPI_FixGammaEnable(u8DispWin, IsOn);
        //xvYcc Color Matrix
	    msAPI_ColorMatrixEnable(u8DispWin, IsOn, 0);
    #endif
	}
	if(!canLoadRGBGain)
	{
		msByPassGainOffset(u8DispWin);
	}
}

void msSetColorEngine(BYTE u8DispWin, BOOL IsOn)
{
    //msByPassColorEngine(u8DispWin, IsOn);
	msAPI_GammaEnable(u8DispWin, IsOn);

    //#if Enable3DLUTColorMode
    //    ms3DLutGrayGuard(/*u8DispWin, */IsOn);
    #if ENABLE_3DLUT
        ms3DLutEnable(u8DispWin, IsOn);
    #endif
    //#else
        msAPI_DeGammaEnable(u8DispWin, IsOn);
	    msAPI_FixGammaEnable(u8DispWin, IsOn);
        //xvYcc Color Matrix
	    msAPI_ColorMatrixEnable(u8DispWin, IsOn, 0);
    //#endif
}

void msRecoverColorEngine(BYTE *ColorEngineStatus)
{
	msAPI_GammaEnable(MAIN_WINDOW, ColorEngineStatus[0]);

    #if Enable3DLUTColorMode
		ms3DLutGrayGuard(/*MAIN_WINDOW, */ColorEngineStatus[1]);
		ms3DLutEnable(MAIN_WINDOW, ColorEngineStatus[1]);
    #else
        msAPI_DeGammaEnable(MAIN_WINDOW, ColorEngineStatus[2]);
	    msAPI_FixGammaEnable(MAIN_WINDOW, ColorEngineStatus[3]);
        //xvYcc Color Matrix
	    msAPI_ColorMatrixEnable(MAIN_WINDOW, ColorEngineStatus[4], 0);
    #endif
    #if (CHIP_ID == CHIP_MT9700)
    msSetPanelGammaOnOff(ColorEngineStatus[5]);
    #endif
}
//-------------------------------------------------------------------------------
// Table Address on EPPROM
//      Color Mode
//      ------------------------------------
//      |Gamma x NUM_OF_COLORMODE_GAMMA
//      |Gamma 2.2(Panel native) x 1
//      |Gamma 2.4(Panel native) x 1
//      |Gamma 2.6(Panel native) x 1
//      |          ...
//      ------------------------------------ Traditional color matrix calibration mode
//      |Color Matrix x NUM_OF_COLORMODE_MATRIX
//      |SRGB, AdobeRGB Color Matrix x 2
//      |BT709, BT2020 Color Matrix x 2
//      |DCIP Color Matrix x 1
//      |          ...
//      ------------------------------------ 3D LUT calibration mode
//      |3DLUT x NUM_OF_COLORMODE
//      |SRGB, AdobeRGB 3DLUTx 2
//      |BT709, BT2020 3DLUT x 2
//      |DCIP 3DLUT x 1
//      |          ...
//      ------------------------------------
//      DICOM
//      ------------------------------------
//      |Gamma 4.8 x 1
//      ------------------------------------
//      Gamma curve
//      ------------------------------------
//      |Gamma 2.2(Panel native) x 1
//      ------------------------------------
//      Color temp
//      ------------------------------------
//      |Gamma (Fix target) x 1
//      |RGB gain x NUM_OF_COLOR_TEMP
//      ------------------------------------
//      Color track mode
//      ------------------------------------
//      |Gamma x NUM_OF_COLORTRACK_GAMMA
//      ------------------------------------
//-------------------------------------------------------------------------------
void SetAddrOfStoredTable(int addr)
{
	_addrOfAutoColorBlock = addr;
}

//-------------------------------------------------------------------------------
// Access Color Matrix
//-------------------------------------------------------------------------------
#if ENABLE_ColorMode_FUNCTION
DWORD GetAddrOfColorModePostGamma(BYTE idx)
{
	return _addrOfAutoColorBlock + sizeof(StoredFormatOfPostGamma)*idx;
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
#if ENABLE_COlORMODE_ADJUST_PWM
void ResetAdjustPWM(void)
{
	//msAPI_SetGlobalBrightnessPWM(BRIGHTNESS_REAL_MID);
}

LoadStatus msLoadAdjustPWM(BYTE idx)
{
	UNUSED(idx);

#if 0
	LUT_printMsg("msLoadAdjustPWM......");
    LUT_printData("msLoadAdjustPWM idx : %d\n", idx);

	BrightnessPWMInfo mBrightnessPWMInfo;
	WORD value = 0;

	if (0xFF == idx)
	{
		LUT_printMsg("idx == 0xFF, Set PWM to Max...");
	}
	else if(0xFE == idx)
	{
		LUT_printMsg("idx == 0xFE, Set PWM to Default...");
	}
	else if(!msGetColorModeBrightnessPWMInfo(idx, &mBrightnessPWMInfo))
	{
		ResetAdjustPWM();
		LUT_printMsg("Checksum Fail, ResetAdjustPWM...");
		return LoadStatus_RESET_PWM;
	}

	if (0xFF == idx)
	{
		value = 0xFFFF;
	}
	else if(0xFE == idx)
	{
		value = BRIGHTNESS_REAL_MID;
	}
	else
	{
		value = mBrightnessPWMInfo.ADJ_PWM;
		LUT_printMsg("LoadAdjustPWM...");
	}

	msAPI_SetGlobalBrightnessPWM(PWMBoundaryClamp(value));
	return LoadStatus_SUCCESS;
#endif
	return LoadStatus_SUCCESS;
}
#endif
#endif

//-------------------------------------------------------------------------------
// 3DLUT
//-------------------------------------------------------------------------------
#if Enable3DLUTColorMode
StoredFormatOf3DLUT _3DLUT;
DWORD GetAddrOfColorMode3DLUT(BYTE idx)
{
    return _addrOfAutoColorBlock + sizeof(StoredFormatOfPostGamma)*NUM_OF_COLORMODE_GAMMA + sizeof(StoredFormatOf3DLUT)*idx;
}

void _EEPROMColorMode3DLUTCheckSum_Get(BYTE idx, BYTE AckType, WORD* checksum)
{
    if(AckType == 1)
    {
        Memory_ReadWord((GetAddrOfColorMode3DLUT(idx)+offset(StoredFormatOf3DLUT, Data)+sizeof(_3DLUT.Data)), (WORD*)(checksum));
    }
    else if(AckType == 2)
    {
        Memory_ReadTbl(GetAddrOfColorMode3DLUT(idx), (BYTE*)(&_3DLUT), sizeof(_3DLUT));
        *checksum = GetCRCCheckSum((BYTE*)(&_3DLUT.Data), sizeof(_3DLUT.Data));
    }    
}

void Reset3DLUTData(void)
{
	BYTE R=0, G=0, B=0;

    for (B=0; B<5; B++)
    {
        for (G=0; G<5; G++)
        {
            for (R=0; R<5; R++)
            {

                _3DLUT.Data[0][B*25+G*5+R] = (((4-R)*64)>255)?255:((4-R)*64);
                _3DLUT.Data[1][B*25+G*5+R] = (((4-G)*64)>255)?255:((4-G)*64);
                _3DLUT.Data[2][B*25+G*5+R] = (((4-B)*64)>255)?255:((4-B)*64);
            }
        }
    }
	_3DLUT.CheckSum = GetCRCCheckSum((BYTE*)(&_3DLUT.Data), sizeof(_3DLUT.Data));
	LUT_printData("[Reset] CheckSum of 3DLUT : %x\n", _3DLUT.CheckSum);

}

void msSet3DLUTData(int ch, int idx, BYTE val)
{
	if ((ch >= 0 && ch < 3) && (idx >=0 && idx < _3DLUTTableSize)){
		_3DLUT.Data[ch][idx] = val;
	}
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
void msSave3DLUTData(BYTE ucColorMode, BYTE funcIdx, BYTE idx)
#else
void msSave3DLUTData(BYTE ucColorMode, BYTE idx)
#endif
{
    if (idx >= NUM_OF_COLORMODE)
        return;

	DWORD addr = GetAddrOfColorMode3DLUT(idx);
    _3DLUT.ColorMode = ucColorMode;
	#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	_3DLUT.funcIdx = funcIdx;
	#endif
	_3DLUT.CheckSum = GetCRCCheckSum((BYTE*)(&_3DLUT.Data), sizeof(_3DLUT.Data));
	Memory_WriteTbl(addr, (BYTE*)(&_3DLUT), sizeof(_3DLUT));
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
LoadStatus msLoad3DLUTData(BYTE ucColorMode, BYTE ucfuncIdx)
#else
LoadStatus msLoad3DLUTData(BYTE ucColorMode)
#endif
{
    LUT_printMsg("msLoad3DLUTData......");
    LUT_printData("msLoad3DLUTData ucColorMode : %X\n", ucColorMode);
	
    BYTE idx = 0;
    DWORD addr = 0;
    BYTE colorMode = 0;
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	LUT_printData("msLoad3DLUTData funcIdx : %X\n", ucfuncIdx);
	BYTE funcIdx = 0;
#endif
    short checkSum = 0;
    for (idx = 0; idx < NUM_OF_COLORMODE; idx++)
    {
        addr = GetAddrOfColorMode3DLUT(idx);
        Memory_ReadByte(addr+offset(StoredFormatOf3DLUT, ColorMode), (BYTE*)(&colorMode));
        if (colorMode == ucColorMode)
        {
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
			Memory_ReadByte(addr+offset(StoredFormatOf3DLUT, funcIdx), (BYTE*)(&funcIdx));
			if(funcIdx != ucfuncIdx)
				continue;
#endif        
            LUT_printData("Addr of _3DLUT : %X\n", addr);
            Memory_ReadTbl(addr, (BYTE*)(&_3DLUT), sizeof(_3DLUT));
        	checkSum = GetCRCCheckSum((BYTE*)(&_3DLUT.Data), sizeof(_3DLUT.Data));

        	LUT_printData("ColorMode : %d\n", _3DLUT.ColorMode);
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
			LUT_printData("funcIdx : %d\n", _3DLUT.funcIdx);
#endif        
        	LUT_printData("Stored CheckSum of 3DLUT : %x\n", _3DLUT.CheckSum);
        	LUT_printData("Calculated CheckSum of 3DLUT : %x\n", checkSum);
            break;
        }
    }
	if ((_3DLUT.CheckSum != checkSum) || (idx == NUM_OF_COLORMODE) || IsStructEmpty(_3DLUT.Data, sizeof(_3DLUT.Data)))
	{
		Reset3DLUTData();
		LUT_printMsg("Reset3DLUTData...");
		return LoadStatus_RESET_GAMUT;
	}
	return LoadStatus_SUCCESS;
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION

#else
void msLoadDeltaEColorMode(BYTE u8DispWin, BYTE ucColorMode)
{
    int idx = 0;
	msSetColorEngine(FALSE);

	//Load 3DLUT table
	msLoad3DLUTData(ucColorMode);
    drv3DLut_WriteCompressedLUT(MAIN_WINDOW, &_3DLUT.Data[0][0]);
    ms3DLutGrayGuard(0, TRUE);

    BYTE GammaMap[DELTAE_NUM_OF_COLORMODE] = {66, 22, 24, 24, 26, 24, 22};
    DWORD addr = 0;
    BYTE GammaValue = 0;
    for (idx = 0; idx < NUM_OF_COLORMODE_GAMMA; idx++)
    {
        addr = GetAddrOfColorModePostGamma(idx);
        Memory_ReadByte(DWORD addr,BYTE * value)(addr, &GammaValue);
        if (GammaMap[ucColorMode] == GammaValue)
        {
            msReloadGammaData(addr);
            break;
        }
    }
    if (NUM_OF_COLORMODE_GAMMA == idx)
    {
       ResetPostGammaData();
       BYTE *StoredPostGamma[][3] =
       {
    		{
           		_postGamma.Data[0],
            	_postGamma.Data[1],
            	_postGamma.Data[2],
        	},
       };

       msAPI_GammaLoadTbl_256E_14B(MAIN_WINDOW,  StoredPostGamma[0]);

    }
	msSetColorEngine(TRUE);
}

#endif
#else
StoredFormatOfColorMatirx _colorMatrix;
DWORD GetAddrOfColorModeMatrix(BYTE idx)
{
    return _addrOfAutoColorBlock + sizeof(StoredFormatOfPostGamma)*NUM_OF_COLORMODE_GAMMA + sizeof(StoredFormatOfColorMatirx)*idx;
}

void _EEPROMColorModeMatrixCheckSum_Get(BYTE idx, BYTE AckType, WORD *checksum)
{
    if(AckType == 1)
    {
        Memory_ReadWord((GetAddrOfColorModeMatrix(idx)+offset(StoredFormatOfColorMatirx, Data)+sizeof(_colorMatrix.Data)), (WORD*)(checksum));
    }
    else if(AckType == 2)
    {
        Memory_ReadTbl(GetAddrOfColorModeMatrix(idx), (BYTE*)(&_colorMatrix), sizeof(_colorMatrix));
        *checksum = GetCRCCheckSum((BYTE*)(&_colorMatrix.Data), sizeof(_colorMatrix.Data));
    } 
}

void ResetColorMatrixData(void)
{
	int idx = 0;
	for (idx = 0; idx < 9; idx++)
		_colorMatrix.Data[idx] = 0;

	_colorMatrix.Data[0] = 0x400;
	_colorMatrix.Data[4] = 0x400;
	_colorMatrix.Data[8] = 0x400;

	_colorMatrix.CheckSum = GetCRCCheckSum((BYTE*)(&_colorMatrix.Data), sizeof(_colorMatrix.Data));
	LUT_printData("[Reset] CheckSum of Color Matrix : %x\n", _colorMatrix.CheckSum);

}

void msSetColorMatrixData(int idx, short _data)
{
	if (idx >= 0 && idx < 9)
		_colorMatrix.Data[idx] = _data;
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
void msSaveColorMatrixData(BYTE ucColorMode, BYTE ucfuncIdx, BYTE idx)
#else
void msSaveColorMatrixData(BYTE ucColorMode, BYTE idx)
#endif
{
    if (idx >= NUM_OF_COLORMODE)
        return;
	DWORD addr = GetAddrOfColorModeMatrix(idx);
    _colorMatrix.ColorMode = ucColorMode;
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	_colorMatrix.funcIdx = ucfuncIdx;
#endif
	_colorMatrix.CheckSum = GetCRCCheckSum((BYTE*)(&_colorMatrix.Data), sizeof(_colorMatrix.Data));
	Memory_WriteTbl(addr, (BYTE*)(&_colorMatrix), sizeof(_colorMatrix));
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
LoadStatus msLoadColorMatrixData(BYTE ucColorMode, BYTE ucfuncIdx)
#else
LoadStatus msLoadColorMatrixData(BYTE ucColorMode)
#endif
{
    LUT_printMsg("msLoadColorMatrixData......");
    LUT_printData("msLoadColorMatrixData ucColorMode : %X\n", ucColorMode);
    BYTE idx = 0;
    DWORD addr = 0;
    BYTE colorMode = 0;
	short checkSum = 0;
	#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
	BYTE funcIdx = 0;
	LUT_printData("msLoadColorMatrixData ucfuncIdx : %X\n", ucfuncIdx);
    #endif
    for (idx = 0; idx < NUM_OF_COLORMODE; idx++)
    {
        addr = GetAddrOfColorModeMatrix(idx);
        Memory_ReadByte(addr+offset(StoredFormatOfColorMatirx, ColorMode), (BYTE*)(&colorMode));
        if (colorMode == ucColorMode)
        {
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
			Memory_ReadByte(addr+offset(StoredFormatOfColorMatirx, funcIdx), (BYTE*)(&funcIdx));
			if(funcIdx != ucfuncIdx)
				continue;
#endif
            LUT_printData("Addr of _colorMatrix : %X\n", addr);
            Memory_ReadTbl(addr, (BYTE*)(&_colorMatrix), sizeof(_colorMatrix));
        	checkSum = GetCRCCheckSum((BYTE*)(&_colorMatrix.Data), sizeof(_colorMatrix.Data));

        	LUT_printData("ColorMode : %d\n", _colorMatrix.ColorMode);
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
			LUT_printData("funcIdx : %d\n", _colorMatrix.funcIdx);
#endif
        	LUT_printData("Stored CheckSum of Color Matrix : %x\n", _colorMatrix.CheckSum);
        	LUT_printData("Calculated CheckSum of Color Matrix : %x\n", checkSum);
            break;
        }
    }
	if ((_colorMatrix.CheckSum != checkSum) || (idx == NUM_OF_COLORMODE) || IsStructEmpty(_colorMatrix.Data, sizeof(_colorMatrix.Data)))
	{
		ResetColorMatrixData();
		LUT_printMsg("ResetColorMatrixData...");
		return LoadStatus_RESET_GAMUT;
	}
	return LoadStatus_SUCCESS;
}
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION

#else
void msLoadDeltaEColorMode(BYTE u8DispWin, BYTE ucColorMode)
{
	int idx = 0;
	//short val = 0;
	msSetColorEngine(FALSE);

	//Load ColorMatrix table
	msLoadColorMatrixData(ucColorMode);
	
	short* psMatrix = &_colorMatrix.Data[0];
	msFormatMatrixToS2D10(psMatrix);
	msWritexvYccColorMatrix(MAIN_WINDOW, psMatrix);

    BYTE GammaMap[DELTAE_NUM_OF_COLORMODE] = {66, 22, 24, 24, 26, 24, 22};
    DWORD addr = 0;
    BYTE GammaValue = 0;
    for (idx = 0; idx < NUM_OF_COLORMODE_GAMMA; idx++)
    {
        addr = GetAddrOfColorModePostGamma(idx);
        Memory_ReadByte(addr, &GammaValue);
        if (GammaMap[ucColorMode] == GammaValue)
        {
            msReloadGammaData(addr);
            break;
        }
    }
    if (NUM_OF_COLORMODE_GAMMA == idx)
    {
       ResetPostGammaData();
       BYTE *StoredPostGamma[][3] =
       {
    		{
           		_postGamma.Data[0],
            	_postGamma.Data[1],
            	_postGamma.Data[2],
        	},
       };

       msAPI_GammaLoadTbl_256E_14B(MAIN_WINDOW,  StoredPostGamma[0]);
    }

	//Load DeGamma Table
    //degamma : hardware compress format
    BYTE *pDeGammaTab = (BYTE*)tblDeGamma22;
    if (DELTAE_COLORMODE_SRGB == ucColorMode)
    {
	 pDeGammaTab = (BYTE*)tblDeGammasRGB;
    }
    else if (DELTAE_COLORMODE_ADOBERGB == ucColorMode || DELTAE_COLORMODE_SMPTEC == ucColorMode )
    {
        pDeGammaTab = (BYTE*)tblDeGamma22;
    }
    else if (DELTAE_COLORMODE_BT709 == ucColorMode || DELTAE_COLORMODE_BT2020 == ucColorMode || DELTAE_COLORMODE_EBU == ucColorMode )
    {
        pDeGammaTab = (BYTE*)tblDeGamma24;
    }
    else if (DELTAE_COLORMODE_DCIP3 == ucColorMode)
    {
        pDeGammaTab = (BYTE*)tblDeGamma26;
    }

    BYTE *DefaultDeGammaTab[][3] =
    {
        {pDeGammaTab,  pDeGammaTab,  pDeGammaTab,},
    };

    msAPI_DeGammaLoadTbl_256E_16B_N(MAIN_WINDOW, DefaultDeGammaTab[0]);

	//Load FixGamma Table
    //fixgamma : 256 entry - 12 bits
    BYTE *pFixGammaTab = (BYTE*)tblFixGamma22_N;
    if (DELTAE_COLORMODE_SRGB == ucColorMode)
    {
        pFixGammaTab = (BYTE*)tblFixGammasRGB_N;
    }
    else if (DELTAE_COLORMODE_ADOBERGB == ucColorMode || DELTAE_COLORMODE_SMPTEC == ucColorMode)
    {
        pFixGammaTab = (BYTE*)tblFixGamma22_N;
    }
    else if (DELTAE_COLORMODE_BT709 == ucColorMode || DELTAE_COLORMODE_BT2020 == ucColorMode || DELTAE_COLORMODE_EBU == ucColorMode)
    {
        pFixGammaTab = (BYTE*)tblFixGamma24_N;
    }
    else if (DELTAE_COLORMODE_DCIP3 == ucColorMode)
    {
        pFixGammaTab = (BYTE*)tblFixGamma26_N;
    }

    BYTE *DefaultFixGammaTab[][3]=
    {
        {pFixGammaTab,  pFixGammaTab,  pFixGammaTab,},
    };

	msAPI_FixGammaLoadTbl_256E_12B(MAIN_WINDOW, DefaultFixGammaTab[0]);

	msSetColorEngine(TRUE);
}

#endif
#endif
#endif

void msColorModeConfiguration(BYTE ucColorMode, BOOL *canLoadColor, BOOL *canLoadGamma, BOOL *canLoadRGBGain)
{
	switch(ucColorMode)
	{
	#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
		case AutoColorFunction_SRGB:
		case AutoColorFunction_ADOBERGB:
    	case AutoColorFunction_BT709:
    	case AutoColorFunction_BT2020:
    	case AutoColorFunction_DCIP3:
    	case AutoColorFunction_EBU:
    	case AutoColorFunction_SMPTEC:
		case AutoColorFunction_Default:
	#else
		case DELTAE_COLORMODE_SRGB:
		case DELTAE_COLORMODE_ADOBERGB:
		case DELTAE_COLORMODE_BT709:
		case DELTAE_COLORMODE_BT2020:
		case DELTAE_COLORMODE_DCIP3:
		case DELTAE_COLORMODE_EBU:
		case DELTAE_COLORMODE_SMPTEC:
		case DELTAE_COLORMODE_UHDADCIP3:
	#endif
			*canLoadColor = true;	
			break;
		default:
			*canLoadColor = false;	
			break;
	}

	switch(ucColorMode)
	{
	#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
		case AutoColorFunction_SRGB:
		case AutoColorFunction_ADOBERGB:
    	case AutoColorFunction_BT709:
    	case AutoColorFunction_BT2020:
    	case AutoColorFunction_DCIP3:
    	case AutoColorFunction_EBU:
    	case AutoColorFunction_SMPTEC:
		case AutoColorFunction_DICOMMode:
    	case AutoColorFunction_GammaCurve:
    	#if ENABLE_COLORTEMP_GAMMA
		case AutoColorFunction_ColorTemp: //Need to turn it on/off according to project by FAE. 
		#endif
    	case AutoColorFunction_ColorTrack:
    	case AutoColorFunction_UHDA:
    	case AutoColorFunction_HDR:
    	case AutoColorFunction_FreeSync2:
    	case AutoColorFunction_ColorModeStatus:
		case AutoColorFunction_Default:
	#else
		case DELTAE_COLORMODE_SRGB:
		case DELTAE_COLORMODE_ADOBERGB:
		case DELTAE_COLORMODE_BT709:
		case DELTAE_COLORMODE_BT2020:
		case DELTAE_COLORMODE_DCIP3:
		case DELTAE_COLORMODE_EBU:
		case DELTAE_COLORMODE_SMPTEC:
		case DELTAE_COLORMODE_UHDADCIP3:
	#endif
			*canLoadGamma = true;	
			break;
		default:
			*canLoadGamma = false;	
			break;
	}

	switch(ucColorMode)
	{
	#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
    	case AutoColorFunction_ColorTemp:
		case AutoColorFunction_Default:
	#endif
			*canLoadRGBGain= true;	
			break;
		default:
			*canLoadRGBGain = false;	
			break;
	}
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
BOOL msGetAddrOfNewColorMode(BYTE ucColorMode, BYTE funcIdx, DWORD *addr)
{
	#if ENABLE_ColorMode_FUNCTION || ENABLE_DICOM_FUNCTION || ENABLE_COLORTRACK_FUNCTION
	int idx = 0;
	#endif
	BYTE _colorMode = 0;
	BYTE _funcIdx = 0;
	LUT_printData("[msGetAddrOfNewColorMode] ucColorMode : %d\n", ucColorMode);
	LUT_printData("[msGetAddrOfNewColorMode] funcIdx : %d\n", funcIdx);
	switch(ucColorMode)
	{
	#if ENABLE_ColorMode_FUNCTION
		case AutoColorFunction_SRGB:
		case AutoColorFunction_ADOBERGB:
    	case AutoColorFunction_BT709:
    	case AutoColorFunction_BT2020:
    	case AutoColorFunction_DCIP3:
    	case AutoColorFunction_EBU:
    	case AutoColorFunction_SMPTEC:
		{
			for (idx = 0; idx < NUM_OF_COLORMODE_GAMMA; idx++)
			{
				*addr = GetAddrOfColorModePostGamma(idx);
					LUT_printData("[msGetAddrOfNewColorMode] GetAddrOfColorModePostGamma : %X\n", *addr);
				Memory_ReadByte(*addr, (BYTE*)(&_colorMode));
					LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _colorMode : %d\n", _colorMode);
				if (ucColorMode == _colorMode)
				{
					Memory_ReadByte((*addr)+1, (BYTE*)(&_funcIdx));
					LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _funcIdx : %d\n", _funcIdx);
					if(funcIdx == _funcIdx)
					{
						return true;
					}
				}
			}
			addr = (void *)NULL;
			return false;
    	}
		break;
	#endif
	#if ENABLE_DICOM_FUNCTION
		case AutoColorFunction_DICOMMode:
		{
			for (idx = 0; idx < NUM_OF_DICOM_GAMMA; idx++)
			{
				*addr = GetAddrOfDICOM(idx);
					LUT_printData("[msGetAddrOfNewColorMode] GetAddrOfDICOM : %X\n", *addr);
				Memory_ReadByte(*addr, (BYTE*)(&_colorMode));
					LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _colorMode : %d\n", _colorMode);
				if (ucColorMode == _colorMode)
				{
					Memory_ReadByte((*addr)+1, (BYTE*)(&_funcIdx));
					LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _funcIdx : %d\n", _funcIdx);
					if(funcIdx == _funcIdx)
					{
						return true;
					}
				}
			}
			addr = (void *)NULL;
			return false;
    	}
		break;
	#endif
	#if ENABLE_COLORTRACK_FUNCTION
		case AutoColorFunction_ColorTrack:
		{
			for (idx = 0; idx < NUM_OF_COLORTRACK_GAMMA; idx++)
			{
				*addr = GetAddrOfColorTrackPostGamma(idx);
					LUT_printData("[msGetAddrOfNewColorMode] GetAddrOfColorTrackPostGamma : %X\n", *addr);
				Memory_ReadByte(*addr, (BYTE*)(&_colorMode));
					LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _colorMode : %d\n", _colorMode);
				if (ucColorMode == _colorMode)
				{
					Memory_ReadByte((*addr)+1, (BYTE*)(&_funcIdx));
					LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _funcIdx : %d\n", _funcIdx);
					if(funcIdx == _funcIdx)
					{
						return true;
					}
				}
			}
			addr = (void *)NULL;
			return false;
    	}
		break;
	#endif
	#if ENABLE_COLORTEMP_FUNCTION && ENABLE_COLORTEMP_GAMMA
		case AutoColorFunction_ColorTemp:
		{
			*addr = GetAddrOfColorTempPostGamma();
				LUT_printData("[msGetAddrOfNewColorMode] GetAddrOfColorTempPostGamma : %X\n", *addr);
			Memory_ReadByte(*addr, (BYTE*)(&_colorMode));
				LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _colorMode : %d\n", _colorMode);
			if (ucColorMode == _colorMode)
			{
				Memory_ReadByte((*addr)+1, (BYTE*)(&_funcIdx));
				LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _funcIdx : %d\n", _funcIdx);
				if(funcIdx == _funcIdx)
				{
					return true;
				}
			}
			addr = (void *)NULL;
			return false;
    	}
		break;
	#endif	
	#if ENABLE_GAMMA_FUNCTION
		case AutoColorFunction_GammaCurve:
		{
			*addr = GetAddrOfPostGamma();
				LUT_printData("[msGetAddrOfNewColorMode] GetAddrOfPostGamma : %X\n", *addr);
			Memory_ReadByte(*addr, (BYTE*)(&_colorMode));
				LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _colorMode : %d\n", _colorMode);
			if (ucColorMode == _colorMode)
			{
				Memory_ReadByte((*addr)+1, (BYTE*)(&_funcIdx));
				LUT_printData("[msGetAddrOfNewColorMode] NVRam_Read _funcIdx : %d\n", _funcIdx);
				if(funcIdx == _funcIdx)
				{
					return true;
				}
			}
			addr = (void *)NULL;
			return false;
    	}
		break;
	#endif
	}
	return false;
}

LoadStatus msNewLoadColorMode(BYTE u8DispWin, BYTE ucColorMode, BYTE funcIdx)
{
	LoadStatus loadStatus = LoadStatus_SUCCESS;
	BOOL canLoadColor 	= false;
	BOOL canLoadGamma 	= false;
	BOOL canLoadRGBGain = false;

LUT_printMsg("=====msNewLoadColorMode=====");	

	msColorModeConfiguration(ucColorMode, &canLoadColor, &canLoadGamma, &canLoadRGBGain);

	msSetColorEngine(u8DispWin, FALSE);

#if ENABLE_ColorMode_FUNCTION
	if(canLoadColor)
	{
	#if Enable3DLUTColorMode
		//Load 3DLUT table
		LUT_printMsg("msLoad3DLUTData");
		loadStatus |= msLoad3DLUTData(ucColorMode, funcIdx);
		LUT_printMsg("drv3DLut_WriteCompressedLUT");
	    //TBD, drv3DLut_WriteCompressedLUT(u8DispWin, &_3DLUT.Data[0][0]);
		LUT_printMsg("ms3DLutGrayGuard");
	    ms3DLutGrayGuard(/*0,*/ TRUE);
	#else
		//Load ColorMatrix table
		loadStatus |= msLoadColorMatrixData(ucColorMode, funcIdx);
		
		short* psMatrix = &_colorMatrix.Data[0];
		msFormatMatrixToS2D10(psMatrix);
		msWritexvYccColorMatrix(u8DispWin, psMatrix);
	#endif
	}
#endif
	BYTE GammaValue = 0;

	if(canLoadGamma)
	{
		DWORD addr = 0;

		if(msGetAddrOfNewColorMode(ucColorMode, funcIdx, &addr))
		{
            
			if(ucColorMode == AutoColorFunction_DICOMMode)
            {
			Memory_ReadByte(addr+offset(StoredFormatOfDICOMGamma, GammaValue), (BYTE*)(&GammaValue));
			LUT_printData("GammaValue DICOM: %X\n", GammaValue);   
            loadStatus |= msReloadDICOMGammaData(u8DispWin, addr);          
            }
            else
            {
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, GammaValue), (BYTE*)(&GammaValue));
			LUT_printData("GammaValue post: %X\n", GammaValue);
		#if ENABLE_COLORTEMP_FUNCTION	
			BYTE CT_idx = 0;
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, CT_idx), (BYTE*)(&CT_idx));
			if(canLoadRGBGain)
				loadStatus |= msLoadColorTempMode(u8DispWin, CT_idx);
		#endif
		#if ENABLE_COlORMODE_ADJUST_PWM
			BYTE PWM_idx = 0;
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, PWM_idx), (BYTE*)(&PWM_idx));
			loadStatus |= msLoadAdjustPWM(PWM_idx);
		#endif
		#if (0) //ENABLE_COlORMODE_UCflag
			BYTE UC_flag = 0;
			Memory_ReadByte(addr+offset(StoredFormatOfPostGamma, UC_flag), (BYTE*)(&UC_flag));
			drvEnabledDemura(UC_flag);
		#endif

		if(ucColorMode == AutoColorFunction_GammaCurve) //GammaCurve mode load entry: IDXLoadGammaCurveMode
			goto end;
		
			loadStatus |= msReloadGammaData(u8DispWin, addr);
            }
		}
		else
		{
        
			if(ucColorMode == AutoColorFunction_DICOMMode)
            {
                ResetDICOMGammaData();
                BYTE *StoredDICOMGamma[][3] =
                {
                    {
                        _DICOMGamma.Data[0],
                        _DICOMGamma.Data[1],
                        _DICOMGamma.Data[2],
                    },
                };
				msAPI_GammaLoadTbl_256E_14B_DICOM(u8DispWin,  StoredDICOMGamma[0]);
                //printf("msNewLoadColorMode: ucColorMode =%d\n",ucColorMode);
            }
			else{
                ResetPostGammaData();
                BYTE *StoredPostGamma[][3] =
                {
                    {
                        _postGamma.Data[0],
                        _postGamma.Data[1],
                        _postGamma.Data[2],
                    },
                };
       			msAPI_GammaLoadTbl_256E_14B(u8DispWin,  StoredPostGamma[0]);
            }

																	 


		}
        if(canLoadColor){
		#if (!Enable3DLUTColorMode) && ENABLE_ColorMode_FUNCTION
		//Load DeGamma Table
		//degamma : hardware compress format
		BYTE *pDeGammaTab = (BYTE*)tblDeGamma22;
		if(GammaValue == GammaValue18)
		{
			pDeGammaTab = (BYTE*)tblDeGamma18;
		}
		else if(GammaValue == GammaValue20)
		{
			pDeGammaTab = (BYTE*)tblDeGamma20;
		}
		else if(GammaValue == GammaValue22)
		{
			pDeGammaTab = (BYTE*)tblDeGamma22;
		}
		else if(GammaValue == GammaValue24)
		{
			pDeGammaTab = (BYTE*)tblDeGamma24;
		}
		else if(GammaValue == GammaValue26)
		{
			pDeGammaTab = (BYTE*)tblDeGamma26;
		}
		else if(GammaValue == GammaValuesRGB)
		{
			pDeGammaTab = (BYTE*)tblDeGammasRGB;
		}
	
		BYTE *DefaultDeGammaTab[][3] =
		{
			{pDeGammaTab,  pDeGammaTab,  pDeGammaTab,},
		};
		
		msAPI_DeGammaLoadTbl_256E_16B_N(u8DispWin, DefaultDeGammaTab[0]);
	
		//Load FixGamma Table
		//fixgamma : 256 entry - 12 bits
		BYTE *pFixGammaTab = (BYTE*)tblFixGamma22_N;
		if(GammaValue == GammaValue18)
		{
			pFixGammaTab = (BYTE*)tblFixGamma18_N;
		}
		else if(GammaValue == GammaValue20)
		{
			pFixGammaTab = (BYTE*)tblFixGamma20_N;
		}
		else if(GammaValue == GammaValue22)
		{
			pFixGammaTab = (BYTE*)tblFixGamma22_N;
		}
		else if(GammaValue == GammaValue24)
		{
			pFixGammaTab = (BYTE*)tblFixGamma24_N;
		}
		else if(GammaValue == GammaValue26)
		{
			pFixGammaTab = (BYTE*)tblFixGamma26_N;
		}
		else if(GammaValue == GammaValuesRGB)
		{
			pFixGammaTab = (BYTE*)tblFixGammasRGB_N;
		}
	
		BYTE *DefaultFixGammaTab[][3]=
		{
			{pFixGammaTab,	pFixGammaTab,  pFixGammaTab,},
		};
	
		msAPI_FixGammaLoadTbl_256E_12B(u8DispWin, DefaultFixGammaTab[0]);
		#endif
        }
	}
end:
	msSetColorModeEngine(u8DispWin, canLoadColor, canLoadGamma, canLoadRGBGain, TRUE);
	return loadStatus;
}
#endif
//-------------------------------------------------------------------------------
// DICOM
//-------------------------------------------------------------------------------
#if ENABLE_DICOM_FUNCTION
DWORD GetAddrOfDICOM(BYTE idx)
{
    return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeof(StoredFormatOfDICOMGamma)*idx;
}

void msSetDICOMMode(BYTE u8DispWin, BYTE DICOMModeIdx)
{
    msSetColorEngine(u8DispWin,FALSE);
    msReloadGammaData(u8DispWin,GetAddrOfDICOM(DICOMModeIdx));
    msAPI_GammaEnable(u8DispWin, true);
}
#endif

//-------------------------------------------------------------------------------
// Gamma curve
//-------------------------------------------------------------------------------
#if ENABLE_GAMMA_FUNCTION
DWORD GetAddrOfPostGamma(void)
{
	return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock;
}

LoadStatus msSetGammaCurve(BYTE u8DispWin, BYTE GammaIndex)
{
	LoadStatus loadStatus = LoadStatus_SUCCESS;
	msAPI_GammaEnable(u8DispWin, _DISABLE);
    msAPI_FixGammaEnable(u8DispWin, _DISABLE);
	msAPI_DeGammaEnable(u8DispWin, _DISABLE);
	
    loadStatus |= msReloadGammaData(u8DispWin, GetAddrOfPostGamma());

    msAPI_FixGammaLoadTbl_256E_12B(u8DispWin, (BYTE**)tAllAdjustGammaFixGammaTab[GammaIndex]);
    /*BYTE *DefaultFixGammaTab[][3]=
    {
        {tblFixGamma22_N,  tblFixGamma22_N,  tblFixGamma22_N,},
    };
	msAPI_FixGammaLoadTbl_256E_12B(u8DispWin, (BYTE**)DefaultFixGammaTab[0]);*/
	
    msAPI_GammaEnable(u8DispWin, _ENABLE);
    msAPI_FixGammaEnable(u8DispWin, _ENABLE);
	return loadStatus;
}
#endif

//-------------------------------------------------------------------------------
// Adjust Luminance PWM
//-------------------------------------------------------------------------------
#if ENABLE_COlORMODE_ADJUST_PWM 
DWORD GetAddrOfAdjustPWM(void)
{
	return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock + sizeOfColorTempBlock + sizeOfColorTrackBlock + sizeOfHDRBlock;
}

#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
void msSetColorModeAdjustBrightnessPWMInfo(int idx, BYTE u8PWMlow, BYTE u8PWMhigh, DWORD u32nits ) 
{
    if (idx >= 0 && idx < NUM_OF_ADJUST_PWM)
    {
        _AdjustPWM.mBrightnessPWMInfo[idx].ADJ_PWM  = ((((WORD)u8PWMhigh)<<8)|(((WORD)u8PWMlow)&0xFF));
        _AdjustPWM.mBrightnessPWMInfo[idx].nits     = u32nits;
        _AdjustPWM.CheckSum[idx]    = GetCRCCheckSum((BYTE*)(&_AdjustPWM.mBrightnessPWMInfo[idx]), sizeof(_AdjustPWM.mBrightnessPWMInfo[idx]));
        LUT_printData("_AdjustPWM.CheckSum[idx] : %x\n", _AdjustPWM.CheckSum[idx]);
    }
}
#else
void msSetColorModeAdjustPWM(int idx, BYTE u8PWMValue ) 
{
	_AdjustPWM.mBrightnessPWMInfo[idx].ADJ_PWM = u8PWMValue;
	_AdjustPWM.CheckSum[idx] = u8PWMValue-1;
}
#endif

void msSaveColorModeAdjustPWM()
{
    DWORD addr = GetAddrOfAdjustPWM(); 
	LUT_printData("msSaveColorModeAdjustPWM addr : %x\n", addr);
	Memory_WriteTbl(addr, (BYTE*)(&_AdjustPWM), sizeof(_AdjustPWM));		
}

//PWM index = 0: sRGB, 1 : adobeRGB, 2 : BT709, 3 : BT2020, 4 : DCI_P3, 5: EBU, 
//6:SMPTEC, 10:GammaCurve, 11~20:ColorTemp,  21~30:ColorTrack
#if ENABLE_NEW_LOADCOLORMODE_FUNCTION
void _EEPROMBrightnessPWMInfoCheckSum_Get(BYTE idx, BYTE AckType, WORD* checksum)     
{
    if(AckType == 1)
    {
        Memory_ReadWord(GetAddrOfAdjustPWM()+sizeof(BrightnessPWMInfo)*NUM_OF_ADJUST_PWM+idx*sizeof(DWORD), (WORD*)(checksum));     
    }
    else if(AckType == 2)
    {
        Memory_ReadTbl(GetAddrOfAdjustPWM(), (BYTE *)(&_AdjustPWM), sizeof(_AdjustPWM)); 
        *checksum = (WORD)GetCRCCheckSum((BYTE*)(&_AdjustPWM.mBrightnessPWMInfo[idx]), sizeof(_AdjustPWM.mBrightnessPWMInfo[idx]));
    }
}

BOOL msGetColorModeBrightnessPWMInfo ( BYTE idx , BrightnessPWMInfo* mBrightnessPWMInfo)     
{
    DWORD addr = GetAddrOfAdjustPWM ( );
    LUT_printData ( "addr of _ColorModeAdjustPWM : %X\n", addr );
    Memory_ReadTbl( addr, ( BYTE * ) ( &_AdjustPWM), sizeof ( _AdjustPWM) ); 
    LUT_printData ( "Stored ADJ_PWM of ColorMode : %x\n", _AdjustPWM.mBrightnessPWMInfo[idx].ADJ_PWM);
	LUT_printData ( "Stored Brightness(nits) of ColorMode : %x\n", _AdjustPWM.mBrightnessPWMInfo[idx].nits);
	
	DWORD checkSum = GetCRCCheckSum((BYTE*)(&_AdjustPWM.mBrightnessPWMInfo[idx]), sizeof(_AdjustPWM.mBrightnessPWMInfo[idx]));
   if( _AdjustPWM.CheckSum[idx] == checkSum )
   {
   		*mBrightnessPWMInfo = _AdjustPWM.mBrightnessPWMInfo[idx];
   		return true;		
   }
   else
   {
   	  LUT_printData ( "Stored CheckSum of BrightnessPWMInfo : %x\n", _AdjustPWM.CheckSum[idx] );	
   	  LUT_printData ( "Calculated CheckSum of BrightnessPWMInfo : %x\n", checkSum);
   	  return false;
   }
}
#else
BYTE msGetColorModeAdjustPWM ( BYTE idx )     
{
    DWORD addr = GetAddrOfAdjustPWM ( );
    LUT_printData ( "addr of _ColorModeAdjust : %X\n", addr );
    Memory_ReadTbl( addr, ( BYTE * ) ( &_AdjustPWM ), sizeof ( _AdjustPWM ) ); 
    LUT_printData ( "Stored ADJ_PWM of Color Temp : %x\n", _AdjustPWM.mBrightnessPWMInfo[idx].ADJ_PWM );
    LUT_printData ( "Stored CheckSum of Color Temp : %x\n", _AdjustPWM.CheckSum[idx] );

   if(_AdjustPWM.mBrightnessPWMInfo[idx].ADJ_PWM == (_AdjustPWM.CheckSum[idx]+1))
   	return _AdjustPWM.mBrightnessPWMInfo[idx].ADJ_PWM ;		
   else
   	return 0xFF;
}
#endif
#endif
//-------------------------------------------------------------------------------
// Save Verified Values to EEPROM
//-------------------------------------------------------------------------------
#if ENABLE_SAVE_COlORMODE_VERIFIED_VALUES 
DWORD GetAddrOfVerifiedValues(void)
{
	return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock + sizeOfColorTempBlock + sizeOfColorTrackBlock + sizeOfUHDABlock + sizeOfHDRBlock + sizeAdjustPWMblock;
}

void msSetColorModeVerfiedDeltaE(int idx, WORD u16DeltaEValue ) 
{
	_VerifiedValues.Vrf_DeltaE[idx] = u16DeltaEValue;
	_VerifiedValues.CheckSum[idx] = u16DeltaEValue-1;
}

void msSetColorModeVerfiedColorTemp(int idx, WORD u16ColorTempValue ) 
{
	_VerifiedValues.Vrf_ColorTemp[idx] = u16ColorTempValue;
	_VerifiedValues.CheckSum[7+idx] = u16ColorTempValue-1;
}

void msSetColorModeVerfiedGamma(int idx, WORD u16GammaValue ) 
{
	_VerifiedValues.Vrf_Gamma[idx] = u16GammaValue;
	_VerifiedValues.CheckSum[14+idx] = u16GammaValue-1;
}

void msSetColorModeVerfiedColorTrack(int idx, WORD u16ColorTrackValue ) 
{
	_VerifiedValues.Vrf_ColorTrack[idx]= u16ColorTrackValue;
	_VerifiedValues.CheckSum[20+idx] = u16ColorTrackValue-1;
}

void msSaveColorModeVerifiedValues(void)
{
    DWORD addr = GetAddrOfVerifiedValues(); 
	Memory_WriteTbl(addr, (BYTE*)(&_VerifiedValues), sizeof(_VerifiedValues));		
}

//index = 0: sRGB, 1: adobeRGB, 2: BT709, 3: BT2020, 4: DCI_P3, 5: EBU, 6:SMPTEC
WORD msGetColorModeVerfiedValues ( BYTE type, BYTE idx )     
{
    DSWORD addr = GetAddrOfVerifiedValues( );

    LUT_printData ( "addr of _ColorModeVerifiedValues : %X\n", addr );
    Memory_ReadTbl( addr, ( BYTE * ) ( &_VerifiedValues ), sizeof ( _VerifiedValues ) ); 

	switch(type)
	{
		case MS_SAVE_ColorMode_VerifiedDeltaE:
		case MS_GET_ColorMode_VerifiedDeltaE:
		{
			LUT_printData ( "Stored Verified_Values of DeltaE : %x\n", _VerifiedValues.Vrf_DeltaE[idx] );
		    LUT_printData ( "Stored CheckSum of DeltaE : %x\n", _VerifiedValues.CheckSum[idx] );

		    if(_VerifiedValues.Vrf_DeltaE[idx] ==(_VerifiedValues.CheckSum[idx]+1)  )
		   	   return _VerifiedValues.Vrf_DeltaE[idx] ;		
		    else
		   	   return 0xFFFF;
		}
		break;
		case MS_SAVE_ColorMode_VerifiedColorTemp:
		case MS_GET_ColorMode_VerifiedColorTemp:
		{
			LUT_printData ( "Stored Verified_Values of Color Temp : %x\n", _VerifiedValues.Vrf_ColorTemp[idx] );
		    LUT_printData ( "Stored CheckSum of Color Temp : %x\n", _VerifiedValues.CheckSum[7+idx] );

		    if(_VerifiedValues.Vrf_ColorTemp[idx] ==(_VerifiedValues.CheckSum[7+idx]+1)  )
		   	   return _VerifiedValues.Vrf_ColorTemp[idx] ;		
		    else
		   	   return 0xFFFF;
		}
		break;
		case MS_SAVE_ColorMode_VerifiedGamma:
		case MS_GET_ColorMode_VerifiedGamma:	
		{
			LUT_printData ( "Stored Verified_Values of Gamma : %x\n", _VerifiedValues.Vrf_Gamma[idx] );
		    LUT_printData ( "Stored CheckSum of Gamma : %x\n", _VerifiedValues.CheckSum[14+idx] );

		    if(_VerifiedValues.Vrf_Gamma[idx] ==(_VerifiedValues.CheckSum[14+idx]+1)  )
		   	   return _VerifiedValues.Vrf_Gamma[idx] ;		
		    else
		   	   return 0xFFFF;
		}
		break;
		case MS_SAVE_ColorMode_VerifiedColorTrack:
		case MS_GET_ColorMode_VerifiedColorTrack:
		{
			LUT_printData ( "Stored Verified_Values of Color Track : %x\n", _VerifiedValues.Vrf_ColorTrack[idx] );
		    LUT_printData ( "Stored CheckSum of Color Track : %x\n", _VerifiedValues.CheckSum[20+idx] );

		    if(_VerifiedValues.Vrf_ColorTrack[idx] ==(_VerifiedValues.CheckSum[20+idx]+1)  )
		   	   return _VerifiedValues.Vrf_ColorTrack[idx] ;		
		    else
		   	   return 0xFFFF;
		}
		break;
	}
	return 0xFFFF;	
}

#endif

//-------------------------------------------------------------------------------
// Access Color Temp
//-------------------------------------------------------------------------------
void msSetPostRGBGain(BYTE u8WinIdx, WORD Rgain, WORD Ggain, WORD Bgain)
{
    //BYTE u8ScalerIdx = 0;
    //DWORD u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
    //WORD u16ScalerMask = msAPIWinGetScMaskOut(u8WinIdx);
#if 0
	if(msDrvDS_IsBegin())
	{
		while(u16ScalerMask)
	    {
	        if(u16ScalerMask & BIT0)
	        {
	            u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
	            if( (u8ScalerIdx % 2) == 1)// Main Win
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC25_48+ u32BaseAddr, Rgain);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_4A+ u32BaseAddr, Ggain);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_4C+ u32BaseAddr, Bgain);
	            }
	            else
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC25_54 + u32BaseAddr, Rgain);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_56 + u32BaseAddr, Ggain);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_58 + u32BaseAddr, Bgain);
	            }
	        }
	        u8ScalerIdx++;
	        u16ScalerMask >>= 1;
	    }	
	}
	else
#endif
	{
	    MENU_LOAD_START();
	    //while(u16ScalerMask)
	    {
	        //if(u16ScalerMask & BIT0)
	        {
	            //u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
	            if(u8WinIdx == MAIN_WINDOW)// Main Win
	            {
	                DB_W2B(SC25_48, Rgain);
	                DB_W2B(SC25_4A, Ggain);
	                DB_W2B(SC25_4C, Bgain);
	            }
	            else
	            {
	                DB_W2B(SC25_54, Rgain);
	                DB_W2B(SC25_56, Ggain);
	                DB_W2B(SC25_58, Bgain);
	            }
	        }
	        //u8ScalerIdx++;
	        //u16ScalerMask >>= 1;
	    }
	    MENU_LOAD_END();
	}
//    msEnablePostContrast(u8WinIdx, _ENABLE);
}

void msSetPreRGBGain(BYTE u8WinIdx, WORD Rgain, WORD Ggain, WORD Bgain)
{
    //BYTE u8ScalerIdx = 0;
    //DWORD u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
    //WORD u16ScalerMask = msAPIWinGetScMaskOut(u8WinIdx);
#if 0
	if(msDrvDS_IsBegin())
	{
		while(u16ScalerMask)
	    {
	        if(u16ScalerMask & BIT0)
	        {
	            u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
	            if( (u8ScalerIdx % 2) == 1)// Main Win
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_8E+ u32BaseAddr, Rgain);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_90+ u32BaseAddr, Ggain);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_92+ u32BaseAddr, Bgain);
	            }
	            else
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_94 + u32BaseAddr, Rgain);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_96 + u32BaseAddr, Ggain);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_98 + u32BaseAddr, Bgain);
	            }
	        }
	        u8ScalerIdx++;
	        u16ScalerMask >>= 1;
	    }	
	}
	else
#endif
	{
	    MENU_LOAD_START();
	    //while(u16ScalerMask)
	    {
	        //if(u16ScalerMask & BIT0)
	        {
	            //u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
	            if(u8WinIdx == MAIN_WINDOW)// Main Win
	            {
	                DB_W2B(SC0F_8E, Rgain);
	                DB_W2B(SC0F_90, Ggain);
	                DB_W2B(SC0F_92, Bgain);
	            }
	            else
	            {
	                DB_W2B(SC0F_94, Rgain);
	                DB_W2B(SC0F_96, Ggain);
	                DB_W2B(SC0F_98, Bgain);
	            }
	        }
	        //u8ScalerIdx++;
	        //u16ScalerMask >>= 1;
	    }
	    MENU_LOAD_END();
	}
//    msEnablePerContrast(u8WinIdx, _ENABLE);
}


void msSetPreRGBOffset(BYTE u8WinIdx, WORD Roffset, WORD Goffset, WORD Boffset)
{
    //BYTE u8ScalerIdx = 0;
    //DWORD u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
    //WORD u16ScalerMask = msAPIWinGetScMaskOut(u8WinIdx);
#if 0
	if(msDrvDS_IsBegin())
	{
	
	while(u16ScalerMask)
	    {
	        if(u16ScalerMask & BIT0)
	        {
	            u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
	            if( (u8ScalerIdx % 2) == 1)// Main Win
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_9A+ u32BaseAddr, Roffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_9C+ u32BaseAddr, Goffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_9E+ u32BaseAddr, Boffset);
	            }
	            else
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_A0 + u32BaseAddr, Roffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_A2 + u32BaseAddr, Goffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC0F_A4 + u32BaseAddr, Boffset);
	            }
	        }
	        u8ScalerIdx++;
	        u16ScalerMask >>= 1;
	    }
	}
	else
#endif
	{
	    MENU_LOAD_START();
	    //while(u16ScalerMask)
	    {
	        //if(u16ScalerMask & BIT0)
	        {
	            //u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
	            if(u8WinIdx == MAIN_WINDOW)// Main Win
	            {
	                DB_W2B(SC0F_9A, Roffset);
	                DB_W2B(SC0F_9C, Goffset);
	                DB_W2B(SC0F_9E, Boffset);
	            }
	            else
	            {
	                DB_W2B(SC0F_A0, Roffset);
	                DB_W2B(SC0F_A2, Goffset);
	                DB_W2B(SC0F_A4, Boffset);
	            }
	        }
	        //u8ScalerIdx++;
	        //u16ScalerMask >>= 1;
	    }
	    MENU_LOAD_END();
	}
//    msEnablePerBrightness(u8WinIdx, _ENABLE);
}

void msSetPostRGBOffset(BYTE u8WinIdx, WORD Roffset, WORD Goffset, WORD Boffset)
{
    //BYTE u8ScalerIdx = 0;
    //DWORD u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
    //WORD u16ScalerMask = msAPIWinGetScMaskOut(u8WinIdx);
#if 0
	if(msDrvDS_IsBegin())
	{

		while(u16ScalerMask)
	    {
	        if(u16ScalerMask & BIT0)
	        {
	            u32BaseAddr = msDrvScGetRegBase(u8ScalerIdx);
	            if( (u8ScalerIdx % 2) == 1)// Main Win
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC25_42+ u32BaseAddr, Roffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_44+ u32BaseAddr, Goffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_46+ u32BaseAddr, Boffset);
	            }
	            else
	            {
	                msDrvDS_Write2Byte(u8WinIdx, SC25_4E + u32BaseAddr, Roffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_50 + u32BaseAddr, Goffset);
	                msDrvDS_Write2Byte(u8WinIdx, SC25_52 + u32BaseAddr, Boffset);
	            }
	        }
	        u8ScalerIdx++;
	        u16ScalerMask >>= 1;
	    }
	}
	else
#endif
	{
	    MENU_LOAD_START();
	    //while(u16ScalerMask)
	    {
	        //if(u16ScalerMask & BIT0)
	        {
	            //u32BaseAddr = 0 ;msDrvScGetRegBase(u8ScalerIdx);
	            if(u8WinIdx == MAIN_WINDOW)// Main Win
	            {
	                DB_W2B(SC25_42, Roffset);
	                DB_W2B(SC25_44, Goffset);
	                DB_W2B(SC25_46, Boffset);
	            }
	            else
	            {
	                DB_W2B(SC25_4E, Roffset);
	                DB_W2B(SC25_50, Goffset);
	                DB_W2B(SC25_52, Boffset);
	            }
	        }
	        //u8ScalerIdx++;
	        //u16ScalerMask >>= 1;
	    }
	    MENU_LOAD_END();
	}
//    msEnablePostOffset(u8WinIdx, _ENABLE);
}

void msByPassGainOffset(BYTE u8DispWin)
{
	msSetPreRGBGain(u8DispWin, 0x400, 0x400, 0x400);
	msSetPostRGBGain(u8DispWin, 0x400, 0x400, 0x400);
	msSetPreRGBOffset(u8DispWin, 0x400, 0x400, 0x400);
	msSetPostRGBOffset(u8DispWin, 0x400, 0x400, 0x400);
}

#if ENABLE_COLORTEMP_FUNCTION
#if ENABLE_COLORTEMP_GAMMA
DWORD GetAddrOfColorTempPostGamma(void)
{
	return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock;
}
DWORD GetAddrOfColorTempRGBGain(BYTE idx)
{
    return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock + sizeof(StoredFormatOfPostGamma) + sizeof(StoredFormatOfColorTemp)*idx;
}
#else
DWORD GetAddrOfColorTempRGBGain(BYTE idx)
{
    return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock + sizeof(StoredFormatOfColorTemp)*idx;
}
#endif

void _EEPROMColorTempCheckSum_Get(BYTE idx, BYTE AckType, WORD* checksum)
{
    if(AckType == 1)
    {
        Memory_ReadWord((GetAddrOfColorTempRGBGain(idx)+offset(StoredFormatOfColorTemp, mColorTempInfo)+sizeof(_colorTemp.mColorTempInfo)), (WORD*)(checksum));
    }
    else if(AckType == 2)
    {
        Memory_ReadTbl(GetAddrOfColorTempRGBGain(idx), (BYTE*)(&_colorTemp), sizeof(_colorTemp));
        *checksum = GetCRCCheckSum((BYTE*)(&_colorTemp.mColorTempInfo), sizeof(_colorTemp.mColorTempInfo));
    }    
}

#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
void msSetColorTempData(int idx, WORD u16Red, WORD u16Green, WORD u16Blue, BYTE PWM_idx, WORD IDX)
{
	if (idx >= 0 && idx < NUM_OF_COLOR_TEMP)
    {
       _colorTemp.mColorTempInfo.rgbCont[0] = u16Red;
       _colorTemp.mColorTempInfo.rgbCont[1] = u16Green;
       _colorTemp.mColorTempInfo.rgbCont[2] = u16Blue;
	   #if ENABLE_COlORMODE_ADJUST_PWM
	   _colorTemp.mColorTempInfo.PWM_idx= PWM_idx;
	   #else
	   UNUSED(PWM_idx);
	   #endif
	   _colorTemp.mColorTempInfo.IDX = IDX;
    }
}
BOOL msGetColorTempData ( BYTE idx , ColorTempInfo *mColorTempInfo)     
{
    DWORD addr = GetAddrOfColorTempRGBGain(idx);
    LUT_printData ( "addr of ColorTempRGBGain : %X\n", addr );
    Memory_ReadTbl( addr, ( BYTE * ) ( &_colorTemp), sizeof ( _colorTemp) ); 
    LUT_printData ( "Stored Rgain : %x\n", _colorTemp.mColorTempInfo.rgbCont[0]);
	LUT_printData ( "Stored Ggain : %x\n", _colorTemp.mColorTempInfo.rgbCont[1]);
	LUT_printData ( "Stored Bgain : %x\n", _colorTemp.mColorTempInfo.rgbCont[2]);
	
	short checkSum = GetCRCCheckSum((BYTE*)(&_colorTemp.mColorTempInfo), sizeof(_colorTemp.mColorTempInfo));
   	if( _colorTemp.CheckSum == checkSum )
   	{
   		*mColorTempInfo = _colorTemp.mColorTempInfo;
   		return true;		
   	}
   	else
   	{
   		LUT_printData ( "Stored CheckSum of ColorTempInfo : %x\n", _colorTemp.CheckSum );	
   		LUT_printData ( "Calculated CheckSum of ColorTempInfo : %x\n", checkSum);
   		return false;
   	}
}
#else
void msSetColorTempData(int idx, WORD u16Red, WORD u16Green, WORD u16Blue)
{
    if (idx >= 0 && idx < NUM_OF_COLOR_TEMP)
    {
       _colorTemp.mColorTempInfo.rgbCont[0] = u16Red;
       _colorTemp.mColorTempInfo.rgbCont[1] = u16Green;
       _colorTemp.mColorTempInfo.rgbCont[2] = u16Blue;
    }
}
#endif
void msSaveColorTempData(int idx)
{
    if (idx >= NUM_OF_COLOR_TEMP)
        return;
    DWORD addr = GetAddrOfColorTempRGBGain(idx);
	_colorTemp.CheckSum = GetCRCCheckSum((BYTE*)(&_colorTemp.mColorTempInfo), sizeof(_colorTemp.mColorTempInfo));
	Memory_WriteTbl(addr, (BYTE*)(&_colorTemp), sizeof(_colorTemp));
}
//Real Value Functions=======================================================================================================
WORD _mdrv_DeltaE_RealVaue_Get(WORD u16RgbGain, WORD wOsdMin, WORD wOsdMid, WORD wOsdMax, WORD wRealMin, WORD wRealMid, WORD wRealMax)
{
    WORD wResult=0;

    if(u16RgbGain == wOsdMid)
    {
        wResult = wRealMid;
    }
    else if(u16RgbGain > wOsdMid)
    {
        wResult = LINEAR_MAPPING_VALUE(u16RgbGain, \
            wOsdMid, wOsdMax, \
            wRealMid, wRealMax);
    }
    else
    {
        wResult = LINEAR_MAPPING_VALUE(u16RgbGain, \
            wOsdMin, wOsdMid, \
            wRealMin, wRealMid);
    }
    return wResult;
}

WORD _mdrv_DeltaE_RealRgbGain_Get(WORD u16RgbGain)
{
    WORD u16Result = 0;

    u16Result = _mdrv_DeltaE_RealVaue_Get(u16RgbGain, 0x00, 0x80, 0xFF,\
        0x00, 0x200, 0x400);

    return u16Result;
}

void mdrv_DeltaE_RGBGain_Get(WORD *u16Red, WORD *u16Green, WORD *u16Blue)
{
    *u16Red = _u16ColorTempRed;
    *u16Green = _u16ColorTempGreen;
    *u16Blue = _u16ColorTempBlue;
}

static void _mdrv_DeltaE_RGBGain_Adjust(BYTE u8DispWin, WORD u16Red, WORD u16Green, WORD u16Blue)
{   
        _u16ColorTempRed  = _mdrv_DeltaE_RealRgbGain_Get(u16Red);
        _u16ColorTempGreen= _mdrv_DeltaE_RealRgbGain_Get(u16Green);
        _u16ColorTempBlue = _mdrv_DeltaE_RealRgbGain_Get(u16Blue);
    
    
    msSetRGBGain(u8DispWin, _u16ColorTempRed, _u16ColorTempGreen, _u16ColorTempBlue);
    msAdjustPostRGBContrast(u8DispWin);
}

LoadStatus msLoadColorTempMode(BYTE u8DispWin, BYTE idx)
{
	msSetColorEngine(u8DispWin, FALSE);
    //msPQ_BypassPQ(u8DispWin, true);
	DWORD addr = GetAddrOfColorTempRGBGain(idx);
    LUT_printData("addr of _colorTemp : %X\n", addr);
	Memory_ReadTbl(addr, (BYTE*)(&_colorTemp), sizeof(_colorTemp));
	short checkSum = GetCRCCheckSum((BYTE*)(&_colorTemp.mColorTempInfo), sizeof(_colorTemp.mColorTempInfo));

	LUT_printData("Stored CheckSum of Color Temp : %x\n", _colorTemp.CheckSum);
	LUT_printData("Calculated CheckSum of Color Temp : %x\n", checkSum);

	if ((_colorTemp.CheckSum != checkSum) || IsStructEmpty(&_colorTemp.mColorTempInfo, sizeof(_colorTemp.mColorTempInfo)))
	{
		LUT_printMsg("CheckSum of Color Temp ERROR");
		_mdrv_DeltaE_RGBGain_Adjust(u8DispWin, 0x400, 0x400, 0x400);
		return LoadStatus_RESET_RGBGAIN;
	}
    else
    {
        LUT_printData("_colorTemp.rgbCont[0] : %x\n", _colorTemp.mColorTempInfo.rgbCont[0]);
        LUT_printData("_colorTemp.rgbCont[1] : %x\n", _colorTemp.mColorTempInfo.rgbCont[1]);
        LUT_printData("_colorTemp.rgbCont[2] : %x\n", _colorTemp.mColorTempInfo.rgbCont[2]);
    #if ENABLE_IDX_LOADCOLORMODE_FUNCTION
        #if ENABLE_COlORMODE_ADJUST_PWM
			msLoadAdjustPWM(_colorTemp.mColorTempInfo.PWM_idx);
		#endif
	#else
        #if ENABLE_COLORTEMP_GAMMA
        msReloadGammaData(GetAddrOfColorTempPostGamma());
        msAPI_GammaEnable(u8DispWin, true);
        #endif
	#endif
    _mdrv_DeltaE_RGBGain_Adjust(u8DispWin, (WORD)_colorTemp.mColorTempInfo.rgbCont[0], (WORD)_colorTemp.mColorTempInfo.rgbCont[1], (WORD)_colorTemp.mColorTempInfo.rgbCont[2]);
	return LoadStatus_SUCCESS;  
    }
}
#endif

//-------------------------------------------------------------------------------
// Color track mode
//-------------------------------------------------------------------------------
#if ENABLE_COLORTRACK_FUNCTION
DWORD GetAddrOfColorTrackPostGamma(BYTE idx)
{
	return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock + sizeOfColorTempBlock + sizeof(StoredFormatOfPostGamma)*idx;
}

void msSetColorTrackMode(BYTE u8DispWin, BYTE GammaIndex)
{
    //msPQ_BypassPQ(USER_PREF_WIN_SEL, true);
    msReloadGammaData(u8DispWin,GetAddrOfColorTrackPostGamma(GammaIndex));
    msAPI_GammaEnable(u8DispWin, true);
}
#endif
//-------------------------------------------------------------------------------
// UHDA Color mode
//-------------------------------------------------------------------------------
#if (0 && LD_ENABLE)
DWORD GetAddrOfUHDAYGamma(void)
{
	return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock + sizeOfColorTempBlock + sizeOfColorTrackBlock;
}

void msLoadUHDAYGammaData(DWORD addr)
{
	WORD size = sizeof(_UHDAYGamma);
	BYTE* pData  = (BYTE*)(&_UHDAYGamma);
	Memory_ReadTbl(addr, pData, size);
	short checkSum = GetCRCCheckSum((BYTE*)(&_UHDAYGamma.Data), sizeof(_UHDAYGamma.Data));
    LUT_printData("msLoadUHDAPostGammaData addr = %x\n", addr);
	LUT_printData("Stored CheckSum of UHDA Post Gamma : %x\n", _UHDAYGamma.CheckSum);
	LUT_printData("Calculated CheckSum of UHDA Post Gamma : %x\n", checkSum );

	if ((_UHDAYGamma.CheckSum != checkSum) || IsStructEmpty(_UHDAYGamma.Data, sizeof(_UHDAYGamma.Data)))
	{
		int idx=0;
        for (idx=0; idx<UHDASWGammaTableSize; idx++)
        {
            _UHDAYGamma.Data[idx] = idx;
        }
		LUT_printMsg("ResetUHDAPostGammaData");
 	}
}

void msSaveUHDAYGammaData(DWORD addr)
{
    int idx=0;
    for (idx=0; idx<UHDASWGammaTableSize; idx++)
    {
        _UHDAYGamma.Data[idx] = MApi_LD_Read_GammaTable(TRUE, idx);//_postGamma.Data[0][idx];
    }
	_UHDAYGamma.CheckSum = GetCRCCheckSum((BYTE*)(&_UHDAYGamma.Data), sizeof(_UHDAYGamma.Data));
	Memory_WriteTbl(addr, (BYTE*)(&_UHDAYGamma), sizeof(_UHDAYGamma));
}

void LoadUHDAColorMode(BYTE u8DispWin)
{
    DWORD addr = GetAddrOfUHDAYGamma();
    int idx=0;
    LUT_printData("addr of UHDAPostGamma : 0x%X", addr);
    msLoadUHDAYGammaData(addr);
    //pYGamma = (BYTE*)(_UHDAYGamma.Data);
    for (idx=0; idx<UHDASWGammaTableSize; idx++)
        MApi_LD_Write_GammaTable(TRUE, idx, _UHDAYGamma.Data[idx]);

 #if ENABLE_NEW_LOADCOLORMODE_FUNCTION
    //msNewLoadColorMode(u8DispWin, AutoColorFunction_UHDADCIP3, 0); //not support UHDADCIP3
 #else
	msLoadDeltaEColorMode(u8DispWin, DELTAE_COLORMODE_UHDADCIP3);
 #endif
    msSetColorEngine(u8DispWin, TRUE);
    /*
    int idx=0;
    for (idx=0; idx<UHDASWGammaTableSize; idx++)
    {
        LUT_printData("_UHDAYGamma[%d] : 0x%X\n", idx, _UHDAYGamma.Data[idx]);
    }
    */

}
#endif

#if ENABLE_ACHDR_FUNCTION
StoredHDRPanelInfo g_HDRPanelInfo;
DWORD GetAddrOfHDRPostGamma(void)
{
	return _addrOfAutoColorBlock + sizeOfColorModeBlock + sizeOfDICOMBlock + sizeOfGammaBlock + sizeOfColorTempBlock + sizeOfColorTrackBlock;
}

DWORD GetAddrOfHDRPanelInfo(void)
{
    return GetAddrOfHDRPostGamma() + sizeof(StoredFormatOfPostGamma);
}

void msSaveHDRPanelInfo(void)
{
    DWORD addr = GetAddrOfHDRPanelInfo();
	g_HDRPanelInfo.CheckSum = GetCRCCheckSum((BYTE*)(&g_HDRPanelInfo.mHDRPanelInfo), sizeof(g_HDRPanelInfo.mHDRPanelInfo));
	Memory_WriteTbl(addr, (BYTE*)(&g_HDRPanelInfo), sizeof(g_HDRPanelInfo));
	LUT_printData("[msSaveHDRPanelInfo] addr of GetAddrOfHDRPanelInfo : %X\n", addr);
	LUT_printData("[msSaveHDRPanelInfo] g_HDRPanelInfo.CheckSum : %d\n", g_HDRPanelInfo.CheckSum);
}

void msSetACHDRPanelInfo(HDRPanelInfo *pHDRInfo)
{
    memcpy(&g_HDRPanelInfo.mHDRPanelInfo, pHDRInfo, sizeof(g_HDRPanelInfo.mHDRPanelInfo));
}

BOOL msLoadACHDRPanelInfo(StoredHDRPanelInfo *pHDRPanelInfo)
{
    DWORD addr = GetAddrOfHDRPanelInfo();
    LUT_printData("addr of ACHDRPanelInfo : %X\n", addr);
	Memory_ReadTbl(addr, (BYTE*)(&g_HDRPanelInfo), sizeof(g_HDRPanelInfo));
	DWORD checkSum = GetCRCCheckSum((BYTE*)(&g_HDRPanelInfo.mHDRPanelInfo), sizeof(g_HDRPanelInfo.mHDRPanelInfo));
    LUT_printData("Stored CheckSum of AutoCalibrationHDR : %x\n", g_HDRPanelInfo.CheckSum);
	LUT_printData("Calculated CheckSum of AutoCalibrationHDR here: %x\n", checkSum );

    if ((DWORD)checkSum == g_HDRPanelInfo.CheckSum && !IsStructEmpty(&g_HDRPanelInfo.mHDRPanelInfo, sizeof(g_HDRPanelInfo.mHDRPanelInfo)))
    {
        memcpy(pHDRPanelInfo, &g_HDRPanelInfo, sizeof(g_HDRPanelInfo));
        return TRUE;
    }
    return FALSE;
}

void msLoadACHDRGamma(StoredFormatOfPostGamma *pStoredPostGamma)
{
    msLoadPostGammaData(GetAddrOfHDRPostGamma());
    memcpy(pStoredPostGamma, &_postGamma, sizeof(_postGamma));
    /*int i =0; 
    int j;
    for(i=0;i<3;i++){
        printf("[%d] = ",i );
        for(j=54;j<64;j++){
        printf("%x, ",pStoredPostGamma->Data[i][j]);
        }
        printf("\n");
    }
    printf("%x, ",pStoredPostGamma->CheckSum);*/
    
}

//-------------------------------------------------------------------------------
// Access HDR Color Temp
//-------------------------------------------------------------------------------
StoredFormatOfHDRColorTemp g_HDRColorTemp;
DWORD GetAddrOfHDRColorTempRGBGain(void)
{
    return GetAddrOfHDRPostGamma() + sizeof(StoredFormatOfPostGamma) + sizeof(StoredHDRPanelInfo);
}

void msSaveHDRColorTempRGBGain(void)
{
    DWORD addr = GetAddrOfHDRColorTempRGBGain();
	g_HDRColorTemp.CheckSum = GetCRCCheckSum((BYTE*)(&g_HDRColorTemp.mHDRColorTemp), sizeof(g_HDRColorTemp.mHDRColorTemp));
	Memory_WriteTbl(addr, (BYTE*)(&g_HDRColorTemp), sizeof(g_HDRColorTemp));
}

void msSetHDRColorTempRGBGain(HDRColorTemp *pHDRColorTemp)
{
    memcpy(&g_HDRColorTemp.mHDRColorTemp, pHDRColorTemp, sizeof(g_HDRColorTemp.mHDRColorTemp));
}

void msLoadHDRColorTempMode(void)
{
    DWORD addr = GetAddrOfHDRColorTempRGBGain();
    LUT_printData("addr of ACHDRColorTemp : %X\n", addr);

	Memory_ReadTbl(addr, (BYTE*)(&g_HDRColorTemp), sizeof(g_HDRColorTemp));
	short checkSum = GetCRCCheckSum((BYTE*)(&g_HDRColorTemp.mHDRColorTemp), sizeof(g_HDRColorTemp.mHDRColorTemp));

	LUT_printData("Stored CheckSum of HDR Color Temp : %x\n", g_HDRColorTemp.CheckSum);
	LUT_printData("Calculated CheckSum of HDR Color Temp : %x\n", checkSum);

	if ((g_HDRColorTemp.CheckSum != checkSum) || IsStructEmpty(&g_HDRColorTemp.mHDRColorTemp, sizeof(g_HDRColorTemp.mHDRColorTemp)))
	{
        int idx=0;
        for (idx=0; idx<3; idx++)
        {
            g_HDRColorTemp.mHDRColorTemp.rgbCont[idx] = 128;
        }
        LUT_printMsg("Reset HDR Color Temp Data");
	}

    LUT_printData("Stored HDR Color Temp R Gain : %x\n", g_HDRColorTemp.mHDRColorTemp.rgbCont[0]);
    LUT_printData("Stored HDR Color Temp G Gain : %x\n", g_HDRColorTemp.mHDRColorTemp.rgbCont[1]);
    LUT_printData("Stored HDR Color Temp B Gain : %x\n", g_HDRColorTemp.mHDRColorTemp.rgbCont[2]);
}

void msLoadACHDRColorTemp(StoredFormatOfHDRColorTemp *pStoredHDRColorTemp)
{
    msLoadHDRColorTempMode();
    memcpy(pStoredHDRColorTemp, &g_HDRColorTemp, sizeof(g_HDRColorTemp));
}

void msLoadACHDRColorTempMode(BYTE u8DispWin)
{
    LUT_printMsg("Load ACHDR Color Temp Mode");
    msLoadHDRColorTempMode();
    msSetRGBGain(u8DispWin, g_HDRColorTemp.mHDRColorTemp.rgbCont[0] << 3,
        g_HDRColorTemp.mHDRColorTemp.rgbCont[1] << 3, g_HDRColorTemp.mHDRColorTemp.rgbCont[2] << 3);
    msAdjustPostRGBContrast(u8DispWin);
}

//-------------------------------------------------------------------------------
// Access Verify HDR Mode & Turn Off ToneMapping
//-------------------------------------------------------------------------------
void msVerifyHDRMode(BYTE u8WinIdx, BYTE enHDR)
{
	msSetHDREnable(u8WinIdx, enHDR);
	//msAPI_SetDLCEnable(u8WinIdx, FALSE);
}
//-------------------------------------------------------------------------------
// Access HDR 10 Step Luminance Map
//-------------------------------------------------------------------------------
StoredHDRLumMap g_HDRLumMap;
DWORD GetAddrOfHDRLumMap(void)
{
    return GetAddrOfHDRPostGamma() + sizeof(StoredFormatOfPostGamma) + sizeof(StoredHDRPanelInfo) + sizeof(StoredFormatOfHDRColorTemp);
}

void msSetHDRLumMap(StoredHDRLumMap *pHDRLumMap)
{
    memcpy(&g_HDRLumMap, pHDRLumMap, sizeof(g_HDRLumMap));
}

void msSaveHDRLumMap(void)
{
    DWORD addr = GetAddrOfHDRLumMap();
	//g_HDRLumMap.CheckSum = GetCRCCheckSum((BYTE*)(&g_HDRLumMap.mHDRLumMap), sizeof(g_HDRLumMap.mHDRLumMap));
	Memory_WriteTbl(addr, (BYTE*)(&g_HDRLumMap), sizeof(g_HDRLumMap));
}

BOOL msLoadACHDRLumMap(StoredHDRLumMap *pHDRLumMap)
{
    DWORD addr = GetAddrOfHDRLumMap();
    LUT_printData("addr of ACHDRLumMap : %X\n", addr);
	Memory_ReadTbl(addr, (BYTE*)(&g_HDRLumMap), sizeof(g_HDRLumMap));
	short checkSum = GetCRCCheckSum((BYTE*)(&g_HDRLumMap.mHDRLumMap), sizeof(g_HDRLumMap.mHDRLumMap));
    LUT_printData("Stored CheckSum of ACHDR Luminance Map : %x\n", g_HDRLumMap.CheckSum);
	LUT_printData("Calculated CheckSum of ACHDR Luminance Map : %x\n", checkSum );

    if ((DWORD)checkSum == (DWORD)g_HDRLumMap.CheckSum && !IsStructEmpty(&g_HDRLumMap.mHDRLumMap, sizeof(g_HDRLumMap.mHDRLumMap)))
    {
        memcpy(pHDRLumMap, &g_HDRLumMap, sizeof(g_HDRLumMap));
        return TRUE;
    }
    return FALSE;
}

//-------------------------------------------------------------------------------
// Access Adjust HDR Brightness
//-------------------------------------------------------------------------------
DWORD GetAddrOfHDRBrightness(void)
{
    return GetAddrOfHDRPostGamma() + sizeof(StoredFormatOfPostGamma) + sizeof(StoredHDRPanelInfo) + sizeof(StoredFormatOfHDRColorTemp) + sizeof(StoredHDRLumMap);
}

StoredHDRCalibrateY g_HDRCalibrateY;
DWORD GetAddrOfHDRCalibrateY(void)
{
    //LUT_printData("GetAddrOfCalibrateHDRY : 0x%x", (GetAddrOfHDRBrightness() + sizeof(BYTE)));
    return (GetAddrOfHDRBrightness() + sizeof(BYTE));
}

void msSaveHDRCalibrateY(void)
{
    DWORD addr= GetAddrOfHDRCalibrateY();
    g_HDRCalibrateY.CheckSum = GetCRCCheckSum((BYTE*)(&g_HDRCalibrateY.mHDRCalibrateY), sizeof(g_HDRCalibrateY.mHDRCalibrateY));
    Memory_WriteTbl(addr, (BYTE*)(&g_HDRCalibrateY), sizeof(g_HDRCalibrateY));
}

void msSetACHDRCalibrateY(HDRCalibrateY *pHDRCalibrateY)
{
    memcpy(&g_HDRCalibrateY.mHDRCalibrateY, pHDRCalibrateY, sizeof(g_HDRCalibrateY.mHDRCalibrateY));
}

BOOL msLoadACHDRCalibrateY(StoredHDRCalibrateY *pHDRCalibrateY)
{
    DWORD addr = GetAddrOfHDRCalibrateY();
    LUT_printData("addr of ACHDRCalibrateY : %X\n", addr);
    Memory_ReadTbl(addr, (BYTE*)(&g_HDRCalibrateY), sizeof(g_HDRCalibrateY));

    short checkSum = GetCRCCheckSum((BYTE*)(&g_HDRCalibrateY.mHDRCalibrateY), sizeof(g_HDRCalibrateY.mHDRCalibrateY));
    LUT_printData("Stored CheckSum of ACHDR Calibrate Y : %x\n", g_HDRCalibrateY.CheckSum);
    LUT_printData("Calculated CheckSum of ACHDR Calibrate Y : %x\n", checkSum );

    if ((DWORD)checkSum == (DWORD)g_HDRCalibrateY.CheckSum && !IsStructEmpty(&g_HDRCalibrateY.mHDRCalibrateY, sizeof(g_HDRCalibrateY.mHDRCalibrateY)))
    {
        memcpy(pHDRCalibrateY, &g_HDRCalibrateY, sizeof(g_HDRCalibrateY));
        return TRUE;
    }
    
    return FALSE;
}

//-------------------------------------------------------------------------------
// Set LD Online Calibration Data
//-------------------------------------------------------------------------------
#if LD_ENABLE
StoredLDCalibrateData g_LDCalibrateData;
DWORD GetAddrOfLDCalibrateData(void)
{
    return GetAddrOfHDRCalibrateY() + sizeof(StoredHDRCalibrateY);
}

void msSaveLDCalibrateData(void)
{
    DWORD addr = GetAddrOfLDCalibrateData();
    g_LDCalibrateData.CheckSum = GetCRCCheckSum((BYTE*)(&g_LDCalibrateData.mLDCalibrateData), sizeof(g_LDCalibrateData.mLDCalibrateData));
    Memory_WriteTbl(addr, (BYTE*)(&g_LDCalibrateData), sizeof(g_LDCalibrateData));
}

void msSetLDCalibrateData(int idx, BYTE data)
{
    if ((idx >=0 && idx < 512))
    {
        g_LDCalibrateData.mLDCalibrateData.compTbl[idx] = data;
    }
    else if(idx == 512)
        g_LDCalibrateData.mLDCalibrateData.iMiniPt = data;
}

BOOL msLoadLDCalibrateData(StoredLDCalibrateData *pStoredLDCalibrateData)
{
    DWORD addr = GetAddrOfLDCalibrateData();
    LUT_printData("addr of LDCalibrateData : %X\n", addr);
    Memory_ReadTbl(addr, (BYTE*)(&g_LDCalibrateData), sizeof(g_LDCalibrateData));

    short checkSum = GetCRCCheckSum((BYTE*)(&g_LDCalibrateData.mLDCalibrateData), sizeof(g_LDCalibrateData.mLDCalibrateData));
    LUT_printData("Stored CheckSum of LD Calibrate Data : %x\n", g_LDCalibrateData.CheckSum);
    LUT_printData("Calculated CheckSum of LD Calibrate Data : %x\n", checkSum );

    if ((DWORD)checkSum == (DWORD)g_LDCalibrateData.CheckSum && !IsStructEmpty(&g_LDCalibrateData.mLDCalibrateData, sizeof(g_LDCalibrateData.mLDCalibrateData)))
    {
        memcpy(pStoredLDCalibrateData, &g_LDCalibrateData, sizeof(g_LDCalibrateData));
        return TRUE;
    }
    
    return FALSE;
}
#endif
#endif
#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
void  msSavePostGammaTable(BYTE mode, BYTE idx, BYTE funcIdx,BYTE GammaValue, BYTE CT_idx, BYTE PWM_idx, BYTE UC_flag, WORD IDX)
{
	LUT_printMsg("[msSavePostGammaTable]");
	
	switch(mode)
	{
#if ENABLE_ColorMode_FUNCTION
		case AutoColorFunction_SRGB:
		case AutoColorFunction_ADOBERGB:
		case AutoColorFunction_BT709:
		case AutoColorFunction_BT2020:
		case AutoColorFunction_DCIP3:
		case AutoColorFunction_EBU:
		case AutoColorFunction_SMPTEC:
		{
			if (idx >= NUM_OF_COLORMODE_GAMMA)
				return;
			LUT_printData("GetAddrOfColorModePostGamma : %x\n", GetAddrOfColorModePostGamma(idx));
			msSavePostGammaData(GetAddrOfColorModePostGamma(idx), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag, IDX);
		}
		break;
#else
			UNUSED(idx);
		
#endif	
    #if ENABLE_DICOM_FUNCTION && (NUM_OF_DICOM_GAMMA>0)
		case AutoColorFunction_DICOMMode :
		{
			if (idx >= NUM_OF_DICOM_GAMMA)
				return;
			LUT_printData("GetAddrOfDICOM savetable: %x\n", GetAddrOfDICOM(idx));
			msSaveDICOMGammaData(GetAddrOfDICOM(idx), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag, IDX);
		}
		break;
    #endif
    #if ENABLE_GAMMA_FUNCTION
		case AutoColorFunction_GammaCurve :
		{
			LUT_printData("GetAddrOfPostGamma : %x\n", GetAddrOfPostGamma());
			msSavePostGammaData(GetAddrOfPostGamma(), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag, IDX);
		}
		break;
    #endif
    #if ENABLE_COLORTEMP_FUNCTION && ENABLE_COLORTEMP_GAMMA
		case AutoColorFunction_ColorTemp:
		{
			LUT_printData("GetAddrOfColorTempPostGamma : %x\n", GetAddrOfColorTempPostGamma());
			msSavePostGammaData(GetAddrOfColorTempPostGamma(), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag, IDX);
		}
		break;
    #endif
    #if ENABLE_COLORTRACK_FUNCTION
		case AutoColorFunction_ColorTrack :
		{
			if (idx >= NUM_OF_COLORTRACK_GAMMA)
				return;
			LUT_printData("GetAddrOfColorTrackPostGamma : %x\n", GetAddrOfColorTrackPostGamma(idx));
			msSavePostGammaData(GetAddrOfColorTrackPostGamma(idx), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag, IDX);
		}
		break;
    #endif
    #if (0 && LD_ENABLE)
		case AutoColorFunction_UHDA :
		{
			LUT_printData("GetAddrOfUHDAYGamma : %x\n", GetAddrOfUHDAYGamma());
			msSaveUHDAYGammaData(GetAddrOfUHDAYGamma());
		}
		break;
    #endif

    #if (ENABLE_ACHDR_FUNCTION)
		case AutoColorFunction_HDR :
		{
			LUT_printData("GetAddrOfHDRPostGamma : %x\n", GetAddrOfHDRPostGamma());
			msSavePostGammaData(GetAddrOfHDRPostGamma(), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag, IDX);
		}
		break;
    #endif
	}
}

#elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
void  msSavePostGammaTable(BYTE mode, BYTE idx, BYTE funcIdx,BYTE GammaValue, BYTE CT_idx, BYTE PWM_idx, BYTE UC_flag)
{
	switch(mode)
    {
#if ENABLE_ColorMode_FUNCTION
		case AutoColorFunction_SRGB:
		case AutoColorFunction_ADOBERGB:
		case AutoColorFunction_BT709:
		case AutoColorFunction_BT2020:
		case AutoColorFunction_DCIP3:
		case AutoColorFunction_EBU:
		case AutoColorFunction_SMPTEC:
        {
            if (idx >= NUM_OF_COLORMODE_GAMMA)
                return;

			msSavePostGammaData(GetAddrOfColorModePostGamma(idx), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag);
		}
		break;
#else
            UNUSED(idx);
        
#endif
        #if ENABLE_DICOM_FUNCTION
        case AutoColorFunction_DICOMMode :
        {
			msSavePostGammaData(GetAddrOfDICOM(idx), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag);
		}
        break;
        #endif
        #if ENABLE_GAMMA_FUNCTION
        case AutoColorFunction_GammaCurve :
        {
			msSavePostGammaData(GetAddrOfPostGamma(), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag);
		}
        break;
        #endif
        #if ENABLE_COLORTEMP_FUNCTION && ENABLE_COLORTEMP_GAMMA
        case AutoColorFunction_ColorTemp:
        {
			msSavePostGammaData(GetAddrOfColorTempPostGamma(), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag);
		}
        break;
        #endif
        #if ENABLE_COLORTRACK_FUNCTION && (NUM_OF_COLORTRACK_GAMMA>0)
        case AutoColorFunction_ColorTrack :
        {
            if (idx >= NUM_OF_COLORTRACK_GAMMA)
                return;
			
			msSavePostGammaData(GetAddrOfColorTrackPostGamma(idx), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag);
		}
        break;
        #endif
        #if (0) //(ENABLE_UHDA_FUNCTION && LD_ENABLE)
        case AutoColorFunction_UHDA :
        {
            msSaveUHDAYGammaData(GetAddrOfUHDAYGamma());
        }
        break;
        #endif

        #if (ENABLE_ACHDR_FUNCTION)
        case AutoColorFunction_HDR :
        {
			msSavePostGammaData(GetAddrOfHDRPostGamma(), mode, funcIdx, GammaValue, CT_idx, PWM_idx, UC_flag);
		}
        break;
        #endif
    }
}
#else
void  msSavePostGammaTable(BYTE mode, BYTE idx, BYTE GammaValue)
{
    switch(mode)
    {
#if ENABLE_ColorMode_FUNCTION
		case AutoColorFunction_ColorMode :
        {
            if (idx >= NUM_OF_COLORMODE_GAMMA)
                return;

			msSavePostGammaData(GetAddrOfColorModePostGamma(idx), GammaValue);
		}
		break;
#else
            UNUSED(idx);
        
#endif
        #if ENABLE_DICOM_FUNCTION
        case AutoColorFunction_DICOMMode :
        {
			msSavePostGammaData(GetAddrOfDICOM(idx), GammaValue);
		}
        break;
        #endif
        #if ENABLE_GAMMA_FUNCTION
        case AutoColorFunction_GammaCurve :
        {
			msSavePostGammaData(GetAddrOfPostGamma(), GammaValue);
		}
        break;
        #endif
        #if ENABLE_COLORTEMP_FUNCTION && ENABLE_COLORTEMP_GAMMA
        case AutoColorFunction_ColorTemp:
        {
			msSavePostGammaData(GetAddrOfColorTempPostGamma(), GammaValue);
		}
        break;
        #endif
        #if ENABLE_COLORTRACK_FUNCTION && (NUM_OF_COLORTRACK_GAMMA>0)
        case AutoColorFunction_ColorTrack :
        {
            if (idx >= NUM_OF_COLORTRACK_GAMMA)
                return;
			
			msSavePostGammaData(GetAddrOfColorTrackPostGamma(idx), GammaValue);
		}
        break;
        #endif
        #if (0 && LD_ENABLE)
        case AutoColorFunction_UHDA :
        {
            msSaveUHDAYGammaData(GetAddrOfUHDAYGamma());
        }
        break;
        #endif

        #if (ENABLE_ACHDR_FUNCTION)
        case AutoColorFunction_HDR :
        {
			msSavePostGammaData(GetAddrOfHDRPostGamma(), GammaValue);
		}
        break;
        #endif
    }
}
#endif

void msResetWholeColorCalibrationData()
{
    BYTE idx = 0;
    ResetPostGammaData();

#if ENABLE_ColorMode_FUNCTION
    for (idx = 0; idx < NUM_OF_COLORMODE_GAMMA; idx++)
    {
    #if ENABLE_IDX_LOADCOLORMODE_FUNCTION
		msSavePostGammaData(GetAddrOfColorModePostGamma(idx), 0, 0, 22, 0, 0, 0, 0);
    #elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
        msSavePostGammaData(GetAddrOfColorModePostGamma(idx), 0, 0, 22, 0, 0, 0);
	#else
		msSavePostGammaData(GetAddrOfColorModePostGamma(idx), 22);
	#endif
	}
#if Enable3DLUTColorMode
    Reset3DLUTData();
    for (idx = 0; idx < NUM_OF_COLORMODE; idx++)
    {
    #if ENABLE_NEW_LOADCOLORMODE_FUNCTION
        msSave3DLUTData(0, 0, 0);
	#else
		msSave3DLUTData(idx, idx);
	#endif
    }
#else
    ResetColorMatrixData();
    for (idx = 0; idx < NUM_OF_COLORMODE; idx++)
    {
    #if ENABLE_NEW_LOADCOLORMODE_FUNCTION
        msSaveColorMatrixData(0, 0, 0);
	#else
		msSaveColorMatrixData(idx, idx);
	#endif
    }
#endif
#else
    UNUSED(idx);
#endif

#if ENABLE_DICOM_FUNCTION && (NUM_OF_DICOM_GAMMA>0)
    for (idx = 0; idx < NUM_OF_DICOM_GAMMA; idx++)
    {
    #if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	 	msSaveDICOMGammaData(GetAddrOfDICOM(idx), 0, 0, 22, 0, 0, 0, 0);//msSavePostGammaData(GetAddrOfDICOM(idx), 0, 0, 22, 0, 0, 0, 0);
    #elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
        msSaveDICOMGammaData(GetAddrOfDICOM(idx), 0, 0, 22, 0, 0, 0);//msSavePostGammaData(GetAddrOfDICOM(idx), 0, 0, 22, 0, 0, 0);
	#else
		msSaveDICOMGammaData(GetAddrOfDICOM(idx), 22);//msSavePostGammaData(GetAddrOfDICOM(idx), 22);
	#endif
    }
    //msSavePostGammaData(GetAddrOfDICOM(), 22);
#endif


#if ENABLE_GAMMA_FUNCTION
	#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	msSavePostGammaData(GetAddrOfPostGamma(), 0, 0, 22, 0, 0, 0, 0);
    #elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
    msSavePostGammaData(GetAddrOfPostGamma(), 0, 0, 22, 0, 0, 0);
	#else
	msSavePostGammaData(GetAddrOfPostGamma(), 22);
	#endif
#endif


#if ENABLE_COLORTEMP_FUNCTION
#if ENABLE_COLORTEMP_GAMMA
	#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	msSavePostGammaData(GetAddrOfColorTempPostGamma(), 0, 0, 22, 0, 0, 0, 0);
	#elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
    msSavePostGammaData(GetAddrOfColorTempPostGamma(), 0, 0, 22, 0, 0, 0);
	#else
	msSavePostGammaData(GetAddrOfColorTempPostGamma(), 22);
	#endif
#endif
	#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	msSetColorTempData(0, 0xFFFF, 0xFFFF, 0xFFFF, 0, 0);
	#else
	msSetColorTempData(0, 0xFFFF, 0xFFFF, 0xFFFF);
	#endif
    for (idx = 0; idx < NUM_OF_COLOR_TEMP; idx++)
    {
        msSaveColorTempData(idx);
    }
#endif


#if ENABLE_COLORTRACK_FUNCTION && (NUM_OF_COLORTRACK_GAMMA>0)
    for (idx = 0; idx < NUM_OF_COLORTRACK_GAMMA; idx++)
    {
    #if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	 msSavePostGammaData(GetAddrOfColorTrackPostGamma(idx), 0, 0, 22, 0, 0, 0, 0);
    #elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
        msSavePostGammaData(GetAddrOfColorTrackPostGamma(idx), 0, 0, 22, 0, 0, 0);
	#else
		msSavePostGammaData(GetAddrOfColorTrackPostGamma(idx), 22);
	#endif
	}
#endif

#if ENABLE_ACHDR_FUNCTION
	#if ENABLE_IDX_LOADCOLORMODE_FUNCTION
	msSavePostGammaData(GetAddrOfHDRPostGamma(), 0, 0, 22, 0, 0, 0, 0);
    #elif ENABLE_NEW_LOADCOLORMODE_FUNCTION
	msSavePostGammaData(GetAddrOfHDRPostGamma(), 0, 0, 22, 0, 0, 0);
	#else
	msSavePostGammaData(GetAddrOfHDRPostGamma(), 22);
	#endif
#endif

}

void msLoadHDRColorMode(short* p3x3)
{
#if (CHIP_ID == MST9U4) && ENABLE_ColorMode_FUNCTION
    msSetColorEngine(FALSE);
    msWritexvYccColorMatrix(MAIN_WINDOW, p3x3);

    BYTE *pDeGammaTab = tblDeGammasRGB;
    BYTE *DefaultDeGammaTab[][3] =
    {
        {pDeGammaTab,  pDeGammaTab,  pDeGammaTab,},
    };
    msAPI_DeGammaLoadTbl_256E_16B_N(MAIN_WINDOW, DefaultDeGammaTab[0]);

    BYTE *pFixGammaTab = tblFixGammasRGB_N;
      BYTE *DefaultFixGammaTab[][3]=
    {
        {pFixGammaTab,  pFixGammaTab,  pFixGammaTab,},
    };

    msAPI_FixGammaLoadTbl_256E_14B(MAIN_WINDOW, DefaultFixGammaTab[0]);

    msSetColorEngine(TRUE);
#else
    UNUSED(p3x3);
#endif
}

void msInitTestPattern_WithoutSignal(void)
{
	drvOSD_FrameColorEnable(FALSE);
	
    msWrite2Byte(REG_120FCA, 0x00A4);
        
    msWrite2Byte(REG_102E02, 0x001F); 
    msWrite2Byte(REG_102E20, 0x0101);                                            
    msWrite2Byte(REG_102E24, 0x0001); 
    msWrite2Byte(REG_102E26, 0x0001);
    msWrite2Byte(REG_102E28, 0x0001);
    msWrite2Byte(REG_102E2A, 0x0fff);
    msWrite2Byte(REG_102E2C, 0x0001); 
    msWrite2Byte(REG_102E2E, 0x0001); 
    msWrite2Byte(REG_102E30, 0x0001); 
    msWrite2Byte(REG_102E32, 0x0fff); 

    //Test Pattern Width/Hight
    msWrite2Byte(SC53_18, PANEL_WIDTH); 
    msWrite2Byte(SC53_1C, PANEL_HEIGHT); 
	
    //Test Pattern Force Signal en
    msWriteBit(SC53_15, TRUE, BIT2);

    //Black Screen Off
    msWriteBit(SC10_32, FALSE, BIT1);

    //Tgen
    msWriteBit(SC0D_62, TRUE, BIT7);

    //No signal en
    msWriteBit(SC10_47, FALSE, BIT3);
    
    msWriteBit(SC00_02, FALSE, BIT7);
}

void msExitTestPattern_WithoutSignal(void)
{
	//Test Pattern Force Signal en
    msWriteBit(SC53_15, FALSE, BIT2);

	//Test Pattern Width/Hight
    msWrite2Byte(SC53_18, 0); 
    msWrite2Byte(SC53_1C, 0); 
}

DWORD GetAddrOfAutoColorFunctionPostGamma(BYTE mode, BYTE idx)
{
    switch(mode)
    {
    #if ENABLE_ColorMode_FUNCTION
        case AutoColorFunction_SRGB:
        case AutoColorFunction_ADOBERGB:
        case AutoColorFunction_BT709:
        case AutoColorFunction_BT2020:
        case AutoColorFunction_DCIP3:
        case AutoColorFunction_EBU:
        case AutoColorFunction_SMPTEC:
        {
            if (idx >= NUM_OF_COLORMODE_GAMMA)
                return 0;
            return GetAddrOfColorModePostGamma(idx);
        }
    #endif
    #if ENABLE_DICOM_FUNCTION
        case AutoColorFunction_DICOMMode :
        {
            if (idx >= NUM_OF_DICOM_GAMMA)
                return 0;
            //printf("[GetAddrOfAutoColorFunctionPostGamma]GetAddrOfDICOM(%x)\n",idx);
            return GetAddrOfDICOM(idx);
        }
    #endif
    #if ENABLE_GAMMA_FUNCTION
        case AutoColorFunction_GammaCurve :
            return GetAddrOfPostGamma();
    #endif
    #if ENABLE_COLORTEMP_FUNCTION && ENABLE_COLORTEMP_GAMMA
        case AutoColorFunction_ColorTemp:
            return GetAddrOfColorTempPostGamma();
    #endif
    #if ENABLE_COLORTRACK_FUNCTION
        case AutoColorFunction_ColorTrack :
        {
            if (idx >= NUM_OF_COLORTRACK_GAMMA)
                return 0;
            return GetAddrOfColorTrackPostGamma(idx);
        }
    #endif
    #if (ENABLE_ACHDR_FUNCTION)
        case AutoColorFunction_HDR :
            return GetAddrOfHDRPostGamma();
    #endif            
        default:
            return 0;
    }
}

void _EEPROMPostGammaCheckSum_Get(BYTE mode, BYTE idx, BYTE AckType, WORD* checksum)
{
    if(AckType == 1)
    {
        if(mode == AutoColorFunction_DICOMMode)
            Memory_ReadWord((GetAddrOfAutoColorFunctionPostGamma(mode, idx)+offset(StoredFormatOfDICOMGamma, Data)+sizeof(_DICOMGamma.Data)), (WORD*)(checksum));
        else
            Memory_ReadWord((GetAddrOfAutoColorFunctionPostGamma(mode, idx)+offset(StoredFormatOfPostGamma, Data)+sizeof(_postGamma.Data)), (WORD*)(checksum));
    }
    else if(AckType == 2)
    {
        {
            if(mode == AutoColorFunction_DICOMMode)
            {
            Memory_ReadTbl(GetAddrOfAutoColorFunctionPostGamma(mode, idx), (BYTE*)(&_DICOMGamma), sizeof(_DICOMGamma));
            *checksum = GetCRCCheckSum((BYTE*)(&_DICOMGamma.Data), sizeof(_DICOMGamma.Data));
            }
            else
            {
            Memory_ReadTbl(GetAddrOfAutoColorFunctionPostGamma(mode, idx), (BYTE*)(&_postGamma), sizeof(_postGamma));
            *checksum = GetCRCCheckSum((BYTE*)(&_postGamma.Data), sizeof(_postGamma.Data));
            }
        }
    } 
}
#else//ENABLE_DeltaE off

void msSetIP2TestPattern_XPercentPIP(BYTE u8WinIdx, double percentOfCentralArea, WORD R, WORD G, WORD B)
{
    UNUSED(u8WinIdx);
    UNUSED(percentOfCentralArea);
    UNUSED(R);
    UNUSED(G);
    UNUSED(B);
}
void msSetIP2TestPattern_Off(void)
{}
void msSetIP2TestPattern_ImageSize(BYTE u8WinIdx, WORD hSize, WORD vSize)
{
    UNUSED(u8WinIdx);
    UNUSED(hSize);
    UNUSED(vSize);
}
void mdrv_DeltaE_RGBGain_Get(WORD *u16Red, WORD *u16Green, WORD *u16Blue)
{
    UNUSED(u16Red);
    UNUSED(u16Green);
    UNUSED(u16Blue);
}

#endif

